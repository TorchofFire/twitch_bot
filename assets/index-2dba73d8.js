var $u=Object.defineProperty;var Uu=(e,t,r)=>t in e?$u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var xe=(e,t,r)=>(Uu(e,typeof t!="symbol"?t+"":t,r),r);var nC=Wu((aC,Jr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bu(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){if(this instanceof i){var a=[null];a.push.apply(a,arguments);var n=Function.bind.apply(t,a);return new n}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}var lo={exports:{}};/*!
 * matter-js 0.19.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(e,t){(function(i,a){e.exports=a()})(Ie,function(){return function(r){var i={};function a(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=i,a.d=function(n,s,u){a.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:u})},a.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,s){if(s&1&&(n=a(n)),s&8||s&4&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),s&2&&typeof n!="string")for(var l in n)a.d(u,l,(function(f){return n[f]}).bind(null,l));return u},a.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(s,"a",s),s},a.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},a.p="",a(a.s=20)}([function(r,i){var a={};r.exports=a,function(){a._baseDelta=1e3/60,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(s,u){var l,f;typeof u=="boolean"?(l=2,f=u):(l=1,f=!0);for(var c=l;c<arguments.length;c++){var v=arguments[c];if(v)for(var d in v)f&&v[d]&&v[d].constructor===Object&&(!s[d]||s[d].constructor===Object)?(s[d]=s[d]||{},a.extend(s[d],f,v[d])):s[d]=v[d]}return s},a.clone=function(s,u){return a.extend({},u,s)},a.keys=function(s){if(Object.keys)return Object.keys(s);var u=[];for(var l in s)u.push(l);return u},a.values=function(s){var u=[];if(Object.keys){for(var l=Object.keys(s),f=0;f<l.length;f++)u.push(s[l[f]]);return u}for(var c in s)u.push(s[c]);return u},a.get=function(s,u,l,f){u=u.split(".").slice(l,f);for(var c=0;c<u.length;c+=1)s=s[u[c]];return s},a.set=function(s,u,l,f,c){var v=u.split(".").slice(f,c);return a.get(s,u,0,-1)[v[v.length-1]]=l,l},a.shuffle=function(s){for(var u=s.length-1;u>0;u--){var l=Math.floor(a.random()*(u+1)),f=s[u];s[u]=s[l],s[l]=f}return s},a.choose=function(s){return s[Math.floor(a.random()*s.length)]},a.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},a.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},a.isFunction=function(s){return typeof s=="function"},a.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},a.isString=function(s){return toString.call(s)==="[object String]"},a.clamp=function(s,u,l){return s<u?u:s>l?l:s},a.sign=function(s){return s<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(s,u){return s=typeof s<"u"?s:0,u=typeof u<"u"?u:1,s+n()*(u-s)};var n=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[s]||(a.warn(s),a._warnedOnce[s]=!0)},a.deprecated=function(s,u,l){s[u]=a.chain(function(){a.warnOnce("ðŸ”… deprecated ðŸ”…",l)},s[u])},a.nextId=function(){return a._nextId++},a.indexOf=function(s,u){if(s.indexOf)return s.indexOf(u);for(var l=0;l<s.length;l++)if(s[l]===u)return l;return-1},a.map=function(s,u){if(s.map)return s.map(u);for(var l=[],f=0;f<s.length;f+=1)l.push(u(s[f]));return l},a.topologicalSort=function(s){var u=[],l=[],f=[];for(var c in s)!l[c]&&!f[c]&&a._topologicalSort(c,l,f,s,u);return u},a._topologicalSort=function(s,u,l,f,c){var v=f[s]||[];l[s]=!0;for(var d=0;d<v.length;d+=1){var o=v[d];l[o]||u[o]||a._topologicalSort(o,u,l,f,c)}l[s]=!1,u[s]=!0,c.push(s)},a.chain=function(){for(var s=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?s.push.apply(s,l._chained):s.push(l)}var f=function(){for(var c,v=new Array(arguments.length),d=0,o=arguments.length;d<o;d++)v[d]=arguments[d];for(d=0;d<s.length;d+=1){var h=s[d].apply(c,v);typeof h<"u"&&(c=h)}return c};return f._chained=s,f},a.chainPathBefore=function(s,u,l){return a.set(s,u,a.chain(l,a.get(s,u)))},a.chainPathAfter=function(s,u,l){return a.set(s,u,a.chain(a.get(s,u),l))},a.setDecomp=function(s){a._decomp=s},a.getDecomp=function(){var s=a._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof Ie<"u"&&(s=Ie.decomp)}catch{s=null}return s}}()},function(r,i){var a={};r.exports=a,function(){a.create=function(n){var s={min:{x:0,y:0},max:{x:0,y:0}};return n&&a.update(s,n),s},a.update=function(n,s,u){n.min.x=1/0,n.max.x=-1/0,n.min.y=1/0,n.max.y=-1/0;for(var l=0;l<s.length;l++){var f=s[l];f.x>n.max.x&&(n.max.x=f.x),f.x<n.min.x&&(n.min.x=f.x),f.y>n.max.y&&(n.max.y=f.y),f.y<n.min.y&&(n.min.y=f.y)}u&&(u.x>0?n.max.x+=u.x:n.min.x+=u.x,u.y>0?n.max.y+=u.y:n.min.y+=u.y)},a.contains=function(n,s){return s.x>=n.min.x&&s.x<=n.max.x&&s.y>=n.min.y&&s.y<=n.max.y},a.overlaps=function(n,s){return n.min.x<=s.max.x&&n.max.x>=s.min.x&&n.max.y>=s.min.y&&n.min.y<=s.max.y},a.translate=function(n,s){n.min.x+=s.x,n.max.x+=s.x,n.min.y+=s.y,n.max.y+=s.y},a.shift=function(n,s){var u=n.max.x-n.min.x,l=n.max.y-n.min.y;n.min.x=s.x,n.max.x=s.x+u,n.min.y=s.y,n.max.y=s.y+l}}()},function(r,i){var a={};r.exports=a,function(){a.create=function(n,s){return{x:n||0,y:s||0}},a.clone=function(n){return{x:n.x,y:n.y}},a.magnitude=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},a.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},a.rotate=function(n,s,u){var l=Math.cos(s),f=Math.sin(s);u||(u={});var c=n.x*l-n.y*f;return u.y=n.x*f+n.y*l,u.x=c,u},a.rotateAbout=function(n,s,u,l){var f=Math.cos(s),c=Math.sin(s);l||(l={});var v=u.x+((n.x-u.x)*f-(n.y-u.y)*c);return l.y=u.y+((n.x-u.x)*c+(n.y-u.y)*f),l.x=v,l},a.normalise=function(n){var s=a.magnitude(n);return s===0?{x:0,y:0}:{x:n.x/s,y:n.y/s}},a.dot=function(n,s){return n.x*s.x+n.y*s.y},a.cross=function(n,s){return n.x*s.y-n.y*s.x},a.cross3=function(n,s,u){return(s.x-n.x)*(u.y-n.y)-(s.y-n.y)*(u.x-n.x)},a.add=function(n,s,u){return u||(u={}),u.x=n.x+s.x,u.y=n.y+s.y,u},a.sub=function(n,s,u){return u||(u={}),u.x=n.x-s.x,u.y=n.y-s.y,u},a.mult=function(n,s){return{x:n.x*s,y:n.y*s}},a.div=function(n,s){return{x:n.x/s,y:n.y/s}},a.perp=function(n,s){return s=s===!0?-1:1,{x:s*-n.y,y:s*n.x}},a.neg=function(n){return{x:-n.x,y:-n.y}},a.angle=function(n,s){return Math.atan2(s.y-n.y,s.x-n.x)},a._temp=[a.create(),a.create(),a.create(),a.create(),a.create(),a.create()]}()},function(r,i,a){var n={};r.exports=n;var s=a(2),u=a(0);(function(){n.create=function(l,f){for(var c=[],v=0;v<l.length;v++){var d=l[v],o={x:d.x,y:d.y,index:v,body:f,isInternal:!1};c.push(o)}return c},n.fromPath=function(l,f){var c=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,v=[];return l.replace(c,function(d,o,h){v.push({x:parseFloat(o),y:parseFloat(h)})}),n.create(v,f)},n.centre=function(l){for(var f=n.area(l,!0),c={x:0,y:0},v,d,o,h=0;h<l.length;h++)o=(h+1)%l.length,v=s.cross(l[h],l[o]),d=s.mult(s.add(l[h],l[o]),v),c=s.add(c,d);return s.div(c,6*f)},n.mean=function(l){for(var f={x:0,y:0},c=0;c<l.length;c++)f.x+=l[c].x,f.y+=l[c].y;return s.div(f,l.length)},n.area=function(l,f){for(var c=0,v=l.length-1,d=0;d<l.length;d++)c+=(l[v].x-l[d].x)*(l[v].y+l[d].y),v=d;return f?c/2:Math.abs(c)/2},n.inertia=function(l,f){for(var c=0,v=0,d=l,o,h,p=0;p<d.length;p++)h=(p+1)%d.length,o=Math.abs(s.cross(d[h],d[p])),c+=o*(s.dot(d[h],d[h])+s.dot(d[h],d[p])+s.dot(d[p],d[p])),v+=o;return f/6*(c/v)},n.translate=function(l,f,c){c=typeof c<"u"?c:1;var v=l.length,d=f.x*c,o=f.y*c,h;for(h=0;h<v;h++)l[h].x+=d,l[h].y+=o;return l},n.rotate=function(l,f,c){if(f!==0){var v=Math.cos(f),d=Math.sin(f),o=c.x,h=c.y,p=l.length,y,g,w,x;for(x=0;x<p;x++)y=l[x],g=y.x-o,w=y.y-h,y.x=o+(g*v-w*d),y.y=h+(g*d+w*v);return l}},n.contains=function(l,f){for(var c=f.x,v=f.y,d=l.length,o=l[d-1],h,p=0;p<d;p++){if(h=l[p],(c-o.x)*(h.y-o.y)+(v-o.y)*(o.x-h.x)>0)return!1;o=h}return!0},n.scale=function(l,f,c,v){if(f===1&&c===1)return l;v=v||n.centre(l);for(var d,o,h=0;h<l.length;h++)d=l[h],o=s.sub(d,v),l[h].x=v.x+o.x*f,l[h].y=v.y+o.y*c;return l},n.chamfer=function(l,f,c,v,d){typeof f=="number"?f=[f]:f=f||[8],c=typeof c<"u"?c:-1,v=v||2,d=d||14;for(var o=[],h=0;h<l.length;h++){var p=l[h-1>=0?h-1:l.length-1],y=l[h],g=l[(h+1)%l.length],w=f[h<f.length?h:f.length-1];if(w===0){o.push(y);continue}var x=s.normalise({x:y.y-p.y,y:p.x-y.x}),E=s.normalise({x:g.y-y.y,y:y.x-g.x}),m=Math.sqrt(2*Math.pow(w,2)),_=s.mult(u.clone(x),w),O=s.normalise(s.mult(s.add(x,E),.5)),S=s.sub(y,s.mult(O,m)),b=c;c===-1&&(b=Math.pow(w,.32)*1.75),b=u.clamp(b,v,d),b%2===1&&(b+=1);for(var T=Math.acos(s.dot(x,E)),I=T/b,A=0;A<b;A++)o.push(s.add(s.rotate(_,I*A),S))}return o},n.clockwiseSort=function(l){var f=n.mean(l);return l.sort(function(c,v){return s.angle(f,c)-s.angle(f,v)}),l},n.isConvex=function(l){var f=0,c=l.length,v,d,o,h;if(c<3)return null;for(v=0;v<c;v++)if(d=(v+1)%c,o=(v+2)%c,h=(l[d].x-l[v].x)*(l[o].y-l[d].y),h-=(l[d].y-l[v].y)*(l[o].x-l[d].x),h<0?f|=1:h>0&&(f|=2),f===3)return!1;return f!==0?!0:null},n.hull=function(l){var f=[],c=[],v,d;for(l=l.slice(0),l.sort(function(o,h){var p=o.x-h.x;return p!==0?p:o.y-h.y}),d=0;d<l.length;d+=1){for(v=l[d];c.length>=2&&s.cross3(c[c.length-2],c[c.length-1],v)<=0;)c.pop();c.push(v)}for(d=l.length-1;d>=0;d-=1){for(v=l[d];f.length>=2&&s.cross3(f[f.length-2],f[f.length-1],v)<=0;)f.pop();f.push(v)}return f.pop(),c.pop(),f.concat(c)}})()},function(r,i,a){var n={};r.exports=n;var s=a(3),u=a(2),l=a(7),f=a(0),c=a(1),v=a(11);(function(){n._timeCorrection=!0,n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n._baseDelta=1e3/60,n.create=function(o){var h={id:f.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},p=f.extend(h,o);return d(p,o),p},n.nextGroup=function(o){return o?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var d=function(o,h){h=h||{},n.set(o,{bounds:o.bounds||c.create(o.vertices),positionPrev:o.positionPrev||u.clone(o.position),anglePrev:o.anglePrev||o.angle,vertices:o.vertices,parts:o.parts||[o],isStatic:o.isStatic,isSleeping:o.isSleeping,parent:o.parent||o}),s.rotate(o.vertices,o.angle,o.position),v.rotate(o.axes,o.angle),c.update(o.bounds,o.vertices,o.velocity),n.set(o,{axes:h.axes||o.axes,area:h.area||o.area,mass:h.mass||o.mass,inertia:h.inertia||o.inertia});var p=o.isStatic?"#14151f":f.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),y=o.isStatic?"#555":"#ccc",g=o.isStatic&&o.render.fillStyle===null?1:0;o.render.fillStyle=o.render.fillStyle||p,o.render.strokeStyle=o.render.strokeStyle||y,o.render.lineWidth=o.render.lineWidth||g,o.render.sprite.xOffset+=-(o.bounds.min.x-o.position.x)/(o.bounds.max.x-o.bounds.min.x),o.render.sprite.yOffset+=-(o.bounds.min.y-o.position.y)/(o.bounds.max.y-o.bounds.min.y)};n.set=function(o,h,p){var y;typeof h=="string"&&(y=h,h={},h[y]=p);for(y in h)if(Object.prototype.hasOwnProperty.call(h,y))switch(p=h[y],y){case"isStatic":n.setStatic(o,p);break;case"isSleeping":l.set(o,p);break;case"mass":n.setMass(o,p);break;case"density":n.setDensity(o,p);break;case"inertia":n.setInertia(o,p);break;case"vertices":n.setVertices(o,p);break;case"position":n.setPosition(o,p);break;case"angle":n.setAngle(o,p);break;case"velocity":n.setVelocity(o,p);break;case"angularVelocity":n.setAngularVelocity(o,p);break;case"speed":n.setSpeed(o,p);break;case"angularSpeed":n.setAngularSpeed(o,p);break;case"parts":n.setParts(o,p);break;case"centre":n.setCentre(o,p);break;default:o[y]=p}},n.setStatic=function(o,h){for(var p=0;p<o.parts.length;p++){var y=o.parts[p];y.isStatic=h,h?(y._original={restitution:y.restitution,friction:y.friction,mass:y.mass,inertia:y.inertia,density:y.density,inverseMass:y.inverseMass,inverseInertia:y.inverseInertia},y.restitution=0,y.friction=1,y.mass=y.inertia=y.density=1/0,y.inverseMass=y.inverseInertia=0,y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.anglePrev=y.angle,y.angularVelocity=0,y.speed=0,y.angularSpeed=0,y.motion=0):y._original&&(y.restitution=y._original.restitution,y.friction=y._original.friction,y.mass=y._original.mass,y.inertia=y._original.inertia,y.density=y._original.density,y.inverseMass=y._original.inverseMass,y.inverseInertia=y._original.inverseInertia,y._original=null)}},n.setMass=function(o,h){var p=o.inertia/(o.mass/6);o.inertia=p*(h/6),o.inverseInertia=1/o.inertia,o.mass=h,o.inverseMass=1/o.mass,o.density=o.mass/o.area},n.setDensity=function(o,h){n.setMass(o,h*o.area),o.density=h},n.setInertia=function(o,h){o.inertia=h,o.inverseInertia=1/o.inertia},n.setVertices=function(o,h){h[0].body===o?o.vertices=h:o.vertices=s.create(h,o),o.axes=v.fromVertices(o.vertices),o.area=s.area(o.vertices),n.setMass(o,o.density*o.area);var p=s.centre(o.vertices);s.translate(o.vertices,p,-1),n.setInertia(o,n._inertiaScale*s.inertia(o.vertices,o.mass)),s.translate(o.vertices,o.position),c.update(o.bounds,o.vertices,o.velocity)},n.setParts=function(o,h,p){var y;for(h=h.slice(0),o.parts.length=0,o.parts.push(o),o.parent=o,y=0;y<h.length;y++){var g=h[y];g!==o&&(g.parent=o,o.parts.push(g))}if(o.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var w=[];for(y=0;y<h.length;y++)w=w.concat(h[y].vertices);s.clockwiseSort(w);var x=s.hull(w),E=s.centre(x);n.setVertices(o,x),s.translate(o.vertices,E)}var m=n._totalProperties(o);o.area=m.area,o.parent=o,o.position.x=m.centre.x,o.position.y=m.centre.y,o.positionPrev.x=m.centre.x,o.positionPrev.y=m.centre.y,n.setMass(o,m.mass),n.setInertia(o,m.inertia),n.setPosition(o,m.centre)}},n.setCentre=function(o,h,p){p?(o.positionPrev.x+=h.x,o.positionPrev.y+=h.y,o.position.x+=h.x,o.position.y+=h.y):(o.positionPrev.x=h.x-(o.position.x-o.positionPrev.x),o.positionPrev.y=h.y-(o.position.y-o.positionPrev.y),o.position.x=h.x,o.position.y=h.y)},n.setPosition=function(o,h,p){var y=u.sub(h,o.position);p?(o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.velocity.x=y.x,o.velocity.y=y.y,o.speed=u.magnitude(y)):(o.positionPrev.x+=y.x,o.positionPrev.y+=y.y);for(var g=0;g<o.parts.length;g++){var w=o.parts[g];w.position.x+=y.x,w.position.y+=y.y,s.translate(w.vertices,y),c.update(w.bounds,w.vertices,o.velocity)}},n.setAngle=function(o,h,p){var y=h-o.angle;p?(o.anglePrev=o.angle,o.angularVelocity=y,o.angularSpeed=Math.abs(y)):o.anglePrev+=y;for(var g=0;g<o.parts.length;g++){var w=o.parts[g];w.angle+=y,s.rotate(w.vertices,y,o.position),v.rotate(w.axes,y),c.update(w.bounds,w.vertices,o.velocity),g>0&&u.rotateAbout(w.position,y,o.position,w.position)}},n.setVelocity=function(o,h){var p=o.deltaTime/n._baseDelta;o.positionPrev.x=o.position.x-h.x*p,o.positionPrev.y=o.position.y-h.y*p,o.velocity.x=(o.position.x-o.positionPrev.x)/p,o.velocity.y=(o.position.y-o.positionPrev.y)/p,o.speed=u.magnitude(o.velocity)},n.getVelocity=function(o){var h=n._baseDelta/o.deltaTime;return{x:(o.position.x-o.positionPrev.x)*h,y:(o.position.y-o.positionPrev.y)*h}},n.getSpeed=function(o){return u.magnitude(n.getVelocity(o))},n.setSpeed=function(o,h){n.setVelocity(o,u.mult(u.normalise(n.getVelocity(o)),h))},n.setAngularVelocity=function(o,h){var p=o.deltaTime/n._baseDelta;o.anglePrev=o.angle-h*p,o.angularVelocity=(o.angle-o.anglePrev)/p,o.angularSpeed=Math.abs(o.angularVelocity)},n.getAngularVelocity=function(o){return(o.angle-o.anglePrev)*n._baseDelta/o.deltaTime},n.getAngularSpeed=function(o){return Math.abs(n.getAngularVelocity(o))},n.setAngularSpeed=function(o,h){n.setAngularVelocity(o,f.sign(n.getAngularVelocity(o))*h)},n.translate=function(o,h,p){n.setPosition(o,u.add(o.position,h),p)},n.rotate=function(o,h,p,y){if(!p)n.setAngle(o,o.angle+h,y);else{var g=Math.cos(h),w=Math.sin(h),x=o.position.x-p.x,E=o.position.y-p.y;n.setPosition(o,{x:p.x+(x*g-E*w),y:p.y+(x*w+E*g)},y),n.setAngle(o,o.angle+h,y)}},n.scale=function(o,h,p,y){var g=0,w=0;y=y||o.position;for(var x=0;x<o.parts.length;x++){var E=o.parts[x];s.scale(E.vertices,h,p,y),E.axes=v.fromVertices(E.vertices),E.area=s.area(E.vertices),n.setMass(E,o.density*E.area),s.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),n.setInertia(E,n._inertiaScale*s.inertia(E.vertices,E.mass)),s.translate(E.vertices,{x:E.position.x,y:E.position.y}),x>0&&(g+=E.area,w+=E.inertia),E.position.x=y.x+(E.position.x-y.x)*h,E.position.y=y.y+(E.position.y-y.y)*p,c.update(E.bounds,E.vertices,o.velocity)}o.parts.length>1&&(o.area=g,o.isStatic||(n.setMass(o,o.density*g),n.setInertia(o,w))),o.circleRadius&&(h===p?o.circleRadius*=h:o.circleRadius=null)},n.update=function(o,h){h=(typeof h<"u"?h:1e3/60)*o.timeScale;var p=h*h,y=n._timeCorrection?h/(o.deltaTime||h):1,g=1-o.frictionAir*(h/f._baseDelta),w=(o.position.x-o.positionPrev.x)*y,x=(o.position.y-o.positionPrev.y)*y;o.velocity.x=w*g+o.force.x/o.mass*p,o.velocity.y=x*g+o.force.y/o.mass*p,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.position.x+=o.velocity.x,o.position.y+=o.velocity.y,o.deltaTime=h,o.angularVelocity=(o.angle-o.anglePrev)*g*y+o.torque/o.inertia*p,o.anglePrev=o.angle,o.angle+=o.angularVelocity;for(var E=0;E<o.parts.length;E++){var m=o.parts[E];s.translate(m.vertices,o.velocity),E>0&&(m.position.x+=o.velocity.x,m.position.y+=o.velocity.y),o.angularVelocity!==0&&(s.rotate(m.vertices,o.angularVelocity,o.position),v.rotate(m.axes,o.angularVelocity),E>0&&u.rotateAbout(m.position,o.angularVelocity,o.position,m.position)),c.update(m.bounds,m.vertices,o.velocity)}},n.updateVelocities=function(o){var h=n._baseDelta/o.deltaTime,p=o.velocity;p.x=(o.position.x-o.positionPrev.x)*h,p.y=(o.position.y-o.positionPrev.y)*h,o.speed=Math.sqrt(p.x*p.x+p.y*p.y),o.angularVelocity=(o.angle-o.anglePrev)*h,o.angularSpeed=Math.abs(o.angularVelocity)},n.applyForce=function(o,h,p){var y={x:h.x-o.position.x,y:h.y-o.position.y};o.force.x+=p.x,o.force.y+=p.y,o.torque+=y.x*p.y-y.y*p.x},n._totalProperties=function(o){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=o.parts.length===1?0:1;p<o.parts.length;p++){var y=o.parts[p],g=y.mass!==1/0?y.mass:1;h.mass+=g,h.area+=y.area,h.inertia+=y.inertia,h.centre=u.add(h.centre,u.mult(y.position,g))}return h.centre=u.div(h.centre,h.mass),h}})()},function(r,i,a){var n={};r.exports=n;var s=a(0);(function(){n.on=function(u,l,f){for(var c=l.split(" "),v,d=0;d<c.length;d++)v=c[d],u.events=u.events||{},u.events[v]=u.events[v]||[],u.events[v].push(f);return f},n.off=function(u,l,f){if(!l){u.events={};return}typeof l=="function"&&(f=l,l=s.keys(u.events).join(" "));for(var c=l.split(" "),v=0;v<c.length;v++){var d=u.events[c[v]],o=[];if(f&&d)for(var h=0;h<d.length;h++)d[h]!==f&&o.push(d[h]);u.events[c[v]]=o}},n.trigger=function(u,l,f){var c,v,d,o,h=u.events;if(h&&s.keys(h).length>0){f||(f={}),c=l.split(" ");for(var p=0;p<c.length;p++)if(v=c[p],d=h[v],d){o=s.clone(f,!1),o.name=v,o.source=u;for(var y=0;y<d.length;y++)d[y].apply(u,[o])}}}})()},function(r,i,a){var n={};r.exports=n;var s=a(5),u=a(0),l=a(1),f=a(4);(function(){n.create=function(c){return u.extend({id:u.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},n.setModified=function(c,v,d,o){if(c.isModified=v,v&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),d&&c.parent&&n.setModified(c.parent,v,d,o),o)for(var h=0;h<c.composites.length;h++){var p=c.composites[h];n.setModified(p,v,d,o)}},n.add=function(c,v){var d=[].concat(v);s.trigger(c,"beforeAdd",{object:v});for(var o=0;o<d.length;o++){var h=d[o];switch(h.type){case"body":if(h.parent!==h){u.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(c,h);break;case"constraint":n.addConstraint(c,h);break;case"composite":n.addComposite(c,h);break;case"mouseConstraint":n.addConstraint(c,h.constraint);break}}return s.trigger(c,"afterAdd",{object:v}),c},n.remove=function(c,v,d){var o=[].concat(v);s.trigger(c,"beforeRemove",{object:v});for(var h=0;h<o.length;h++){var p=o[h];switch(p.type){case"body":n.removeBody(c,p,d);break;case"constraint":n.removeConstraint(c,p,d);break;case"composite":n.removeComposite(c,p,d);break;case"mouseConstraint":n.removeConstraint(c,p.constraint);break}}return s.trigger(c,"afterRemove",{object:v}),c},n.addComposite=function(c,v){return c.composites.push(v),v.parent=c,n.setModified(c,!0,!0,!1),c},n.removeComposite=function(c,v,d){var o=u.indexOf(c.composites,v);if(o!==-1&&n.removeCompositeAt(c,o),d)for(var h=0;h<c.composites.length;h++)n.removeComposite(c.composites[h],v,!0);return c},n.removeCompositeAt=function(c,v){return c.composites.splice(v,1),n.setModified(c,!0,!0,!1),c},n.addBody=function(c,v){return c.bodies.push(v),n.setModified(c,!0,!0,!1),c},n.removeBody=function(c,v,d){var o=u.indexOf(c.bodies,v);if(o!==-1&&n.removeBodyAt(c,o),d)for(var h=0;h<c.composites.length;h++)n.removeBody(c.composites[h],v,!0);return c},n.removeBodyAt=function(c,v){return c.bodies.splice(v,1),n.setModified(c,!0,!0,!1),c},n.addConstraint=function(c,v){return c.constraints.push(v),n.setModified(c,!0,!0,!1),c},n.removeConstraint=function(c,v,d){var o=u.indexOf(c.constraints,v);if(o!==-1&&n.removeConstraintAt(c,o),d)for(var h=0;h<c.composites.length;h++)n.removeConstraint(c.composites[h],v,!0);return c},n.removeConstraintAt=function(c,v){return c.constraints.splice(v,1),n.setModified(c,!0,!0,!1),c},n.clear=function(c,v,d){if(d)for(var o=0;o<c.composites.length;o++)n.clear(c.composites[o],v,!0);return v?c.bodies=c.bodies.filter(function(h){return h.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,n.setModified(c,!0,!0,!1),c},n.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var v=[].concat(c.bodies),d=0;d<c.composites.length;d++)v=v.concat(n.allBodies(c.composites[d]));return c.cache&&(c.cache.allBodies=v),v},n.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var v=[].concat(c.constraints),d=0;d<c.composites.length;d++)v=v.concat(n.allConstraints(c.composites[d]));return c.cache&&(c.cache.allConstraints=v),v},n.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var v=[].concat(c.composites),d=0;d<c.composites.length;d++)v=v.concat(n.allComposites(c.composites[d]));return c.cache&&(c.cache.allComposites=v),v},n.get=function(c,v,d){var o,h;switch(d){case"body":o=n.allBodies(c);break;case"constraint":o=n.allConstraints(c);break;case"composite":o=n.allComposites(c).concat(c);break}return o?(h=o.filter(function(p){return p.id.toString()===v.toString()}),h.length===0?null:h[0]):null},n.move=function(c,v,d){return n.remove(c,v),n.add(d,v),c},n.rebase=function(c){for(var v=n.allBodies(c).concat(n.allConstraints(c)).concat(n.allComposites(c)),d=0;d<v.length;d++)v[d].id=u.nextId();return c},n.translate=function(c,v,d){for(var o=d?n.allBodies(c):c.bodies,h=0;h<o.length;h++)f.translate(o[h],v);return c},n.rotate=function(c,v,d,o){for(var h=Math.cos(v),p=Math.sin(v),y=o?n.allBodies(c):c.bodies,g=0;g<y.length;g++){var w=y[g],x=w.position.x-d.x,E=w.position.y-d.y;f.setPosition(w,{x:d.x+(x*h-E*p),y:d.y+(x*p+E*h)}),f.rotate(w,v)}return c},n.scale=function(c,v,d,o,h){for(var p=h?n.allBodies(c):c.bodies,y=0;y<p.length;y++){var g=p[y],w=g.position.x-o.x,x=g.position.y-o.y;f.setPosition(g,{x:o.x+w*v,y:o.y+x*d}),f.scale(g,v,d)}return c},n.bounds=function(c){for(var v=n.allBodies(c),d=[],o=0;o<v.length;o+=1){var h=v[o];d.push(h.bounds.min,h.bounds.max)}return l.create(d)}})()},function(r,i,a){var n={};r.exports=n;var s=a(4),u=a(5),l=a(0);(function(){n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(f,c){for(var v=c/l._baseDelta,d=n._motionSleepThreshold,o=0;o<f.length;o++){var h=f[o],p=s.getSpeed(h),y=s.getAngularSpeed(h),g=p*p+y*y;if(h.force.x!==0||h.force.y!==0){n.set(h,!1);continue}var w=Math.min(h.motion,g),x=Math.max(h.motion,g);h.motion=n._minBias*w+(1-n._minBias)*x,h.sleepThreshold>0&&h.motion<d?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/v&&n.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},n.afterCollisions=function(f){for(var c=n._motionSleepThreshold,v=0;v<f.length;v++){var d=f[v];if(d.isActive){var o=d.collision,h=o.bodyA.parent,p=o.bodyB.parent;if(!(h.isSleeping&&p.isSleeping||h.isStatic||p.isStatic)&&(h.isSleeping||p.isSleeping)){var y=h.isSleeping&&!h.isStatic?h:p,g=y===h?p:h;!y.isStatic&&g.motion>c&&n.set(y,!1)}}}},n.set=function(f,c){var v=f.isSleeping;c?(f.isSleeping=!0,f.sleepCounter=f.sleepThreshold,f.positionImpulse.x=0,f.positionImpulse.y=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.speed=0,f.angularSpeed=0,f.motion=0,v||u.trigger(f,"sleepStart")):(f.isSleeping=!1,f.sleepCounter=0,v&&u.trigger(f,"sleepEnd"))}})()},function(r,i,a){var n={};r.exports=n;var s=a(3),u=a(9);(function(){var l=[],f={overlap:0,axis:null},c={overlap:0,axis:null};n.create=function(v,d){return{pair:null,collided:!1,bodyA:v,bodyB:d,parentA:v.parent,parentB:d.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},n.collides=function(v,d,o){if(n._overlapAxes(f,v.vertices,d.vertices,v.axes),f.overlap<=0||(n._overlapAxes(c,d.vertices,v.vertices,d.axes),c.overlap<=0))return null;var h=o&&o.table[u.id(v,d)],p;h?p=h.collision:(p=n.create(v,d),p.collided=!0,p.bodyA=v.id<d.id?v:d,p.bodyB=v.id<d.id?d:v,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),v=p.bodyA,d=p.bodyB;var y;f.overlap<c.overlap?y=f:y=c;var g=p.normal,w=p.supports,x=y.axis,E=x.x,m=x.y;E*(d.position.x-v.position.x)+m*(d.position.y-v.position.y)<0?(g.x=E,g.y=m):(g.x=-E,g.y=-m),p.tangent.x=-g.y,p.tangent.y=g.x,p.depth=y.overlap,p.penetration.x=g.x*p.depth,p.penetration.y=g.y*p.depth;var _=n._findSupports(v,d,g,1),O=0;if(s.contains(v.vertices,_[0])&&(w[O++]=_[0]),s.contains(v.vertices,_[1])&&(w[O++]=_[1]),O<2){var S=n._findSupports(d,v,g,-1);s.contains(d.vertices,S[0])&&(w[O++]=S[0]),O<2&&s.contains(d.vertices,S[1])&&(w[O++]=S[1])}return O===0&&(w[O++]=_[0]),w.length=O,p},n._overlapAxes=function(v,d,o,h){var p=d.length,y=o.length,g=d[0].x,w=d[0].y,x=o[0].x,E=o[0].y,m=h.length,_=Number.MAX_VALUE,O=0,S,b,T,I,A,R;for(A=0;A<m;A++){var C=h[A],M=C.x,D=C.y,L=g*M+w*D,$=x*M+E*D,U=L,ne=$;for(R=1;R<p;R+=1)I=d[R].x*M+d[R].y*D,I>U?U=I:I<L&&(L=I);for(R=1;R<y;R+=1)I=o[R].x*M+o[R].y*D,I>ne?ne=I:I<$&&($=I);if(b=U-$,T=ne-L,S=b<T?b:T,S<_&&(_=S,O=A,S<=0))break}v.axis=h[O],v.overlap=_},n._projectToAxis=function(v,d,o){for(var h=d[0].x*o.x+d[0].y*o.y,p=h,y=1;y<d.length;y+=1){var g=d[y].x*o.x+d[y].y*o.y;g>p?p=g:g<h&&(h=g)}v.min=h,v.max=p},n._findSupports=function(v,d,o,h){var p=d.vertices,y=p.length,g=v.position.x,w=v.position.y,x=o.x*h,E=o.y*h,m=Number.MAX_VALUE,_,O,S,b,T;for(T=0;T<y;T+=1)O=p[T],b=x*(g-O.x)+E*(w-O.y),b<m&&(m=b,_=O);return S=p[(y+_.index-1)%y],m=x*(g-S.x)+E*(w-S.y),O=p[(_.index+1)%y],x*(g-O.x)+E*(w-O.y)<m?(l[0]=_,l[1]=O,l):(l[0]=_,l[1]=S,l)}})()},function(r,i,a){var n={};r.exports=n;var s=a(16);(function(){n.create=function(u,l){var f=u.bodyA,c=u.bodyB,v={id:n.id(f,c),bodyA:f,bodyB:c,collision:u,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:f.isSensor||c.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(v,u,l),v},n.update=function(u,l,f){var c=u.contacts,v=l.supports,d=u.activeContacts,o=l.parentA,h=l.parentB,p=o.vertices.length;u.isActive=!0,u.timeUpdated=f,u.collision=l,u.separation=l.depth,u.inverseMass=o.inverseMass+h.inverseMass,u.friction=o.friction<h.friction?o.friction:h.friction,u.frictionStatic=o.frictionStatic>h.frictionStatic?o.frictionStatic:h.frictionStatic,u.restitution=o.restitution>h.restitution?o.restitution:h.restitution,u.slop=o.slop>h.slop?o.slop:h.slop,l.pair=u,d.length=0;for(var y=0;y<v.length;y++){var g=v[y],w=g.body===o?g.index:p+g.index,x=c[w];x?d.push(x):d.push(c[w]=s.create(g))}},n.setActive=function(u,l,f){l?(u.isActive=!0,u.timeUpdated=f):(u.isActive=!1,u.activeContacts.length=0)},n.id=function(u,l){return u.id<l.id?"A"+u.id+"B"+l.id:"A"+l.id+"B"+u.id}})()},function(r,i,a){var n={};r.exports=n;var s=a(3),u=a(2),l=a(7),f=a(1),c=a(11),v=a(0);(function(){n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(d){var o=d;o.bodyA&&!o.pointA&&(o.pointA={x:0,y:0}),o.bodyB&&!o.pointB&&(o.pointB={x:0,y:0});var h=o.bodyA?u.add(o.bodyA.position,o.pointA):o.pointA,p=o.bodyB?u.add(o.bodyB.position,o.pointB):o.pointB,y=u.magnitude(u.sub(h,p));o.length=typeof o.length<"u"?o.length:y,o.id=o.id||v.nextId(),o.label=o.label||"Constraint",o.type="constraint",o.stiffness=o.stiffness||(o.length>0?1:.7),o.damping=o.damping||0,o.angularStiffness=o.angularStiffness||0,o.angleA=o.bodyA?o.bodyA.angle:o.angleA,o.angleB=o.bodyB?o.bodyB.angle:o.angleB,o.plugin={};var g={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return o.length===0&&o.stiffness>.1?(g.type="pin",g.anchors=!1):o.stiffness<.9&&(g.type="spring"),o.render=v.extend(g,o.render),o},n.preSolveAll=function(d){for(var o=0;o<d.length;o+=1){var h=d[o],p=h.constraintImpulse;h.isStatic||p.x===0&&p.y===0&&p.angle===0||(h.position.x+=p.x,h.position.y+=p.y,h.angle+=p.angle)}},n.solveAll=function(d,o){for(var h=v.clamp(o/v._baseDelta,0,1),p=0;p<d.length;p+=1){var y=d[p],g=!y.bodyA||y.bodyA&&y.bodyA.isStatic,w=!y.bodyB||y.bodyB&&y.bodyB.isStatic;(g||w)&&n.solve(d[p],h)}for(p=0;p<d.length;p+=1)y=d[p],g=!y.bodyA||y.bodyA&&y.bodyA.isStatic,w=!y.bodyB||y.bodyB&&y.bodyB.isStatic,!g&&!w&&n.solve(d[p],h)},n.solve=function(d,o){var h=d.bodyA,p=d.bodyB,y=d.pointA,g=d.pointB;if(!(!h&&!p)){h&&!h.isStatic&&(u.rotate(y,h.angle-d.angleA,y),d.angleA=h.angle),p&&!p.isStatic&&(u.rotate(g,p.angle-d.angleB,g),d.angleB=p.angle);var w=y,x=g;if(h&&(w=u.add(h.position,y)),p&&(x=u.add(p.position,g)),!(!w||!x)){var E=u.sub(w,x),m=u.magnitude(E);m<n._minLength&&(m=n._minLength);var _=(m-d.length)/m,O=d.stiffness>=1||d.length===0,S=O?d.stiffness*o:d.stiffness*o*o,b=d.damping*o,T=u.mult(E,_*S),I=(h?h.inverseMass:0)+(p?p.inverseMass:0),A=(h?h.inverseInertia:0)+(p?p.inverseInertia:0),R=I+A,C,M,D,L,$;if(b>0){var U=u.create();D=u.div(E,m),$=u.sub(p&&u.sub(p.position,p.positionPrev)||U,h&&u.sub(h.position,h.positionPrev)||U),L=u.dot(D,$)}h&&!h.isStatic&&(M=h.inverseMass/I,h.constraintImpulse.x-=T.x*M,h.constraintImpulse.y-=T.y*M,h.position.x-=T.x*M,h.position.y-=T.y*M,b>0&&(h.positionPrev.x-=b*D.x*L*M,h.positionPrev.y-=b*D.y*L*M),C=u.cross(y,T)/R*n._torqueDampen*h.inverseInertia*(1-d.angularStiffness),h.constraintImpulse.angle-=C,h.angle-=C),p&&!p.isStatic&&(M=p.inverseMass/I,p.constraintImpulse.x+=T.x*M,p.constraintImpulse.y+=T.y*M,p.position.x+=T.x*M,p.position.y+=T.y*M,b>0&&(p.positionPrev.x+=b*D.x*L*M,p.positionPrev.y+=b*D.y*L*M),C=u.cross(g,T)/R*n._torqueDampen*p.inverseInertia*(1-d.angularStiffness),p.constraintImpulse.angle+=C,p.angle+=C)}}},n.postSolveAll=function(d){for(var o=0;o<d.length;o++){var h=d[o],p=h.constraintImpulse;if(!(h.isStatic||p.x===0&&p.y===0&&p.angle===0)){l.set(h,!1);for(var y=0;y<h.parts.length;y++){var g=h.parts[y];s.translate(g.vertices,p),y>0&&(g.position.x+=p.x,g.position.y+=p.y),p.angle!==0&&(s.rotate(g.vertices,p.angle,h.position),c.rotate(g.axes,p.angle),y>0&&u.rotateAbout(g.position,p.angle,h.position,g.position)),f.update(g.bounds,g.vertices,h.velocity)}p.angle*=n._warming,p.x*=n._warming,p.y*=n._warming}}},n.pointAWorld=function(d){return{x:(d.bodyA?d.bodyA.position.x:0)+(d.pointA?d.pointA.x:0),y:(d.bodyA?d.bodyA.position.y:0)+(d.pointA?d.pointA.y:0)}},n.pointBWorld=function(d){return{x:(d.bodyB?d.bodyB.position.x:0)+(d.pointB?d.pointB.x:0),y:(d.bodyB?d.bodyB.position.y:0)+(d.pointB?d.pointB.y:0)}}})()},function(r,i,a){var n={};r.exports=n;var s=a(2),u=a(0);(function(){n.fromVertices=function(l){for(var f={},c=0;c<l.length;c++){var v=(c+1)%l.length,d=s.normalise({x:l[v].y-l[c].y,y:l[c].x-l[v].x}),o=d.y===0?1/0:d.x/d.y;o=o.toFixed(3).toString(),f[o]=d}return u.values(f)},n.rotate=function(l,f){if(f!==0)for(var c=Math.cos(f),v=Math.sin(f),d=0;d<l.length;d++){var o=l[d],h;h=o.x*c-o.y*v,o.y=o.x*v+o.y*c,o.x=h}}})()},function(r,i,a){var n={};r.exports=n;var s=a(3),u=a(0),l=a(4),f=a(1),c=a(2);(function(){n.rectangle=function(v,d,o,h,p){p=p||{};var y={label:"Rectangle Body",position:{x:v,y:d},vertices:s.fromPath("L 0 0 L "+o+" 0 L "+o+" "+h+" L 0 "+h)};if(p.chamfer){var g=p.chamfer;y.vertices=s.chamfer(y.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete p.chamfer}return l.create(u.extend({},y,p))},n.trapezoid=function(v,d,o,h,p,y){y=y||{},p*=.5;var g=(1-p*2)*o,w=o*p,x=w+g,E=x+w,m;p<.5?m="L 0 0 L "+w+" "+-h+" L "+x+" "+-h+" L "+E+" 0":m="L 0 0 L "+x+" "+-h+" L "+E+" 0";var _={label:"Trapezoid Body",position:{x:v,y:d},vertices:s.fromPath(m)};if(y.chamfer){var O=y.chamfer;_.vertices=s.chamfer(_.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete y.chamfer}return l.create(u.extend({},_,y))},n.circle=function(v,d,o,h,p){h=h||{};var y={label:"Circle Body",circleRadius:o};p=p||25;var g=Math.ceil(Math.max(10,Math.min(p,o)));return g%2===1&&(g+=1),n.polygon(v,d,g,o,u.extend({},y,h))},n.polygon=function(v,d,o,h,p){if(p=p||{},o<3)return n.circle(v,d,h,p);for(var y=2*Math.PI/o,g="",w=y*.5,x=0;x<o;x+=1){var E=w+x*y,m=Math.cos(E)*h,_=Math.sin(E)*h;g+="L "+m.toFixed(3)+" "+_.toFixed(3)+" "}var O={label:"Polygon Body",position:{x:v,y:d},vertices:s.fromPath(g)};if(p.chamfer){var S=p.chamfer;O.vertices=s.chamfer(O.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete p.chamfer}return l.create(u.extend({},O,p))},n.fromVertices=function(v,d,o,h,p,y,g,w){var x=u.getDecomp(),E,m,_,O,S,b,T,I,A,R,C;for(E=!!(x&&x.quickDecomp),h=h||{},_=[],p=typeof p<"u"?p:!1,y=typeof y<"u"?y:.01,g=typeof g<"u"?g:10,w=typeof w<"u"?w:.01,u.isArray(o[0])||(o=[o]),R=0;R<o.length;R+=1)if(b=o[R],O=s.isConvex(b),S=!O,S&&!E&&u.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),O||!E)O?b=s.clockwiseSort(b):b=s.hull(b),_.push({position:{x:v,y:d},vertices:b});else{var M=b.map(function(pe){return[pe.x,pe.y]});x.makeCCW(M),y!==!1&&x.removeCollinearPoints(M,y),w!==!1&&x.removeDuplicatePoints&&x.removeDuplicatePoints(M,w);var D=x.quickDecomp(M);for(T=0;T<D.length;T++){var L=D[T],$=L.map(function(pe){return{x:pe[0],y:pe[1]}});g>0&&s.area($)<g||_.push({position:s.centre($),vertices:$})}}for(T=0;T<_.length;T++)_[T]=l.create(u.extend(_[T],h));if(p){var U=5;for(T=0;T<_.length;T++){var ne=_[T];for(I=T+1;I<_.length;I++){var ce=_[I];if(f.overlaps(ne.bounds,ce.bounds)){var j=ne.vertices,me=ce.vertices;for(A=0;A<ne.vertices.length;A++)for(C=0;C<ce.vertices.length;C++){var ve=c.magnitudeSquared(c.sub(j[(A+1)%j.length],me[C])),Re=c.magnitudeSquared(c.sub(j[A],me[(C+1)%me.length]));ve<U&&Re<U&&(j[A].isInternal=!0,me[C].isInternal=!0)}}}}}return _.length>1?(m=l.create(u.extend({parts:_.slice(0)},h)),l.setPosition(m,{x:v,y:d}),m):_[0]}})()},function(r,i,a){var n={};r.exports=n;var s=a(0),u=a(8);(function(){n.create=function(l){var f={bodies:[],pairs:null};return s.extend(f,l)},n.setBodies=function(l,f){l.bodies=f.slice(0)},n.clear=function(l){l.bodies=[]},n.collisions=function(l){var f=[],c=l.pairs,v=l.bodies,d=v.length,o=n.canCollide,h=u.collides,p,y;for(v.sort(n._compareBoundsX),p=0;p<d;p++){var g=v[p],w=g.bounds,x=g.bounds.max.x,E=g.bounds.max.y,m=g.bounds.min.y,_=g.isStatic||g.isSleeping,O=g.parts.length,S=O===1;for(y=p+1;y<d;y++){var b=v[y],T=b.bounds;if(T.min.x>x)break;if(!(E<T.min.y||m>T.max.y)&&!(_&&(b.isStatic||b.isSleeping))&&o(g.collisionFilter,b.collisionFilter)){var I=b.parts.length;if(S&&I===1){var A=h(g,b,c);A&&f.push(A)}else for(var R=O>1?1:0,C=I>1?1:0,M=R;M<O;M++)for(var D=g.parts[M],w=D.bounds,L=C;L<I;L++){var $=b.parts[L],T=$.bounds;if(!(w.min.x>T.max.x||w.max.x<T.min.x||w.max.y<T.min.y||w.min.y>T.max.y)){var A=h(D,$,c);A&&f.push(A)}}}}}return f},n.canCollide=function(l,f){return l.group===f.group&&l.group!==0?l.group>0:(l.mask&f.category)!==0&&(f.mask&l.category)!==0},n._compareBoundsX=function(l,f){return l.bounds.min.x-f.bounds.min.x}})()},function(r,i,a){var n={};r.exports=n;var s=a(0);(function(){n.create=function(u){var l={};return u||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=u||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(f){var c=n._getRelativeMousePosition(f,l.element,l.pixelRatio),v=f.changedTouches;v&&(l.button=0,f.preventDefault()),l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=f},l.mousedown=function(f){var c=n._getRelativeMousePosition(f,l.element,l.pixelRatio),v=f.changedTouches;v?(l.button=0,f.preventDefault()):l.button=f.button,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=f},l.mouseup=function(f){var c=n._getRelativeMousePosition(f,l.element,l.pixelRatio),v=f.changedTouches;v&&f.preventDefault(),l.button=-1,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=f},l.mousewheel=function(f){l.wheelDelta=Math.max(-1,Math.min(1,f.wheelDelta||-f.detail)),f.preventDefault()},n.setElement(l,l.element),l},n.setElement=function(u,l){u.element=l,l.addEventListener("mousemove",u.mousemove),l.addEventListener("mousedown",u.mousedown),l.addEventListener("mouseup",u.mouseup),l.addEventListener("mousewheel",u.mousewheel),l.addEventListener("DOMMouseScroll",u.mousewheel),l.addEventListener("touchmove",u.mousemove),l.addEventListener("touchstart",u.mousedown),l.addEventListener("touchend",u.mouseup)},n.clearSourceEvents=function(u){u.sourceEvents.mousemove=null,u.sourceEvents.mousedown=null,u.sourceEvents.mouseup=null,u.sourceEvents.mousewheel=null,u.wheelDelta=0},n.setOffset=function(u,l){u.offset.x=l.x,u.offset.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y},n.setScale=function(u,l){u.scale.x=l.x,u.scale.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y},n._getRelativeMousePosition=function(u,l,f){var c=l.getBoundingClientRect(),v=document.documentElement||document.body.parentNode||document.body,d=window.pageXOffset!==void 0?window.pageXOffset:v.scrollLeft,o=window.pageYOffset!==void 0?window.pageYOffset:v.scrollTop,h=u.changedTouches,p,y;return h?(p=h[0].pageX-c.left-d,y=h[0].pageY-c.top-o):(p=u.pageX-c.left-d,y=u.pageY-c.top-o),{x:p/(l.clientWidth/(l.width||l.clientWidth)*f),y:y/(l.clientHeight/(l.height||l.clientHeight)*f)}}})()},function(r,i,a){var n={};r.exports=n;var s=a(0);(function(){n._registry={},n.register=function(u){if(n.isPlugin(u)||s.warn("Plugin.register:",n.toString(u),"does not implement all required fields."),u.name in n._registry){var l=n._registry[u.name],f=n.versionParse(u.version).number,c=n.versionParse(l.version).number;f>c?(s.warn("Plugin.register:",n.toString(l),"was upgraded to",n.toString(u)),n._registry[u.name]=u):f<c?s.warn("Plugin.register:",n.toString(l),"can not be downgraded to",n.toString(u)):u!==l&&s.warn("Plugin.register:",n.toString(u),"is already registered to different plugin object")}else n._registry[u.name]=u;return u},n.resolve=function(u){return n._registry[n.dependencyParse(u).name]},n.toString=function(u){return typeof u=="string"?u:(u.name||"anonymous")+"@"+(u.version||u.range||"0.0.0")},n.isPlugin=function(u){return u&&u.name&&u.version&&u.install},n.isUsed=function(u,l){return u.used.indexOf(l)>-1},n.isFor=function(u,l){var f=u.for&&n.dependencyParse(u.for);return!u.for||l.name===f.name&&n.versionSatisfies(l.version,f.range)},n.use=function(u,l){if(u.uses=(u.uses||[]).concat(l||[]),u.uses.length===0){s.warn("Plugin.use:",n.toString(u),"does not specify any dependencies to install.");return}for(var f=n.dependencies(u),c=s.topologicalSort(f),v=[],d=0;d<c.length;d+=1)if(c[d]!==u.name){var o=n.resolve(c[d]);if(!o){v.push("âŒ "+c[d]);continue}n.isUsed(u,o.name)||(n.isFor(o,u)||(s.warn("Plugin.use:",n.toString(o),"is for",o.for,"but installed on",n.toString(u)+"."),o._warned=!0),o.install?o.install(u):(s.warn("Plugin.use:",n.toString(o),"does not specify an install function."),o._warned=!0),o._warned?(v.push("ðŸ”¶ "+n.toString(o)),delete o._warned):v.push("âœ… "+n.toString(o)),u.used.push(o.name))}v.length>0&&s.info(v.join("  "))},n.dependencies=function(u,l){var f=n.dependencyParse(u),c=f.name;if(l=l||{},!(c in l)){u=n.resolve(u)||u,l[c]=s.map(u.uses||[],function(d){n.isPlugin(d)&&n.register(d);var o=n.dependencyParse(d),h=n.resolve(d);return h&&!n.versionSatisfies(h.version,o.range)?(s.warn("Plugin.dependencies:",n.toString(h),"does not satisfy",n.toString(o),"used by",n.toString(f)+"."),h._warned=!0,u._warned=!0):h||(s.warn("Plugin.dependencies:",n.toString(d),"used by",n.toString(f),"could not be resolved."),u._warned=!0),o.name});for(var v=0;v<l[c].length;v+=1)n.dependencies(l[c][v],l);return l}},n.dependencyParse=function(u){if(s.isString(u)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(u)||s.warn("Plugin.dependencyParse:",u,"is not a valid dependency string."),{name:u.split("@")[0],range:u.split("@")[1]||"*"}}return{name:u.name,range:u.range||u.version}},n.versionParse=function(u){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(u)||s.warn("Plugin.versionParse:",u,"is not a valid version or range.");var f=l.exec(u),c=Number(f[4]),v=Number(f[5]),d=Number(f[6]);return{isRange:!!(f[1]||f[2]),version:f[3],range:u,operator:f[1]||f[2]||"",major:c,minor:v,patch:d,parts:[c,v,d],prerelease:f[7],number:c*1e8+v*1e4+d}},n.versionSatisfies=function(u,l){l=l||"*";var f=n.versionParse(l),c=n.versionParse(u);if(f.isRange){if(f.operator==="*"||u==="*")return!0;if(f.operator===">")return c.number>f.number;if(f.operator===">=")return c.number>=f.number;if(f.operator==="~")return c.major===f.major&&c.minor===f.minor&&c.patch>=f.patch;if(f.operator==="^")return f.major>0?c.major===f.major&&c.number>=f.number:f.minor>0?c.minor===f.minor&&c.patch>=f.patch:c.patch===f.patch}return u===l||u==="*"}})()},function(r,i){var a={};r.exports=a,function(){a.create=function(n){return{vertex:n,normalImpulse:0,tangentImpulse:0}}}()},function(r,i,a){var n={};r.exports=n;var s=a(7),u=a(18),l=a(13),f=a(19),c=a(5),v=a(6),d=a(10),o=a(0),h=a(4);(function(){n.create=function(p){p=p||{};var y={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},g=o.extend(y,p);return g.world=p.world||v.create({label:"World"}),g.pairs=p.pairs||f.create(),g.detector=p.detector||l.create(),g.grid={buckets:[]},g.world.gravity=g.gravity,g.broadphase=g.grid,g.metrics={},g},n.update=function(p,y){var g=o.now(),w=p.world,x=p.detector,E=p.pairs,m=p.timing,_=m.timestamp,O;y=typeof y<"u"?y:o._baseDelta,y*=m.timeScale,m.timestamp+=y,m.lastDelta=y;var S={timestamp:m.timestamp,delta:y};c.trigger(p,"beforeUpdate",S);var b=v.allBodies(w),T=v.allConstraints(w);for(w.isModified&&(l.setBodies(x,b),v.setModified(w,!1,!1,!0)),p.enableSleeping&&s.update(b,y),n._bodiesApplyGravity(b,p.gravity),y>0&&n._bodiesUpdate(b,y),d.preSolveAll(b),O=0;O<p.constraintIterations;O++)d.solveAll(T,y);d.postSolveAll(b),x.pairs=p.pairs;var I=l.collisions(x);f.update(E,I,_),p.enableSleeping&&s.afterCollisions(E.list),E.collisionStart.length>0&&c.trigger(p,"collisionStart",{pairs:E.collisionStart});var A=o.clamp(20/p.positionIterations,0,1);for(u.preSolvePosition(E.list),O=0;O<p.positionIterations;O++)u.solvePosition(E.list,y,A);for(u.postSolvePosition(b),d.preSolveAll(b),O=0;O<p.constraintIterations;O++)d.solveAll(T,y);for(d.postSolveAll(b),u.preSolveVelocity(E.list),O=0;O<p.velocityIterations;O++)u.solveVelocity(E.list,y);return n._bodiesUpdateVelocities(b),E.collisionActive.length>0&&c.trigger(p,"collisionActive",{pairs:E.collisionActive}),E.collisionEnd.length>0&&c.trigger(p,"collisionEnd",{pairs:E.collisionEnd}),n._bodiesClearForces(b),c.trigger(p,"afterUpdate",S),p.timing.lastElapsed=o.now()-g,p},n.merge=function(p,y){if(o.extend(p,y),y.world){p.world=y.world,n.clear(p);for(var g=v.allBodies(p.world),w=0;w<g.length;w++){var x=g[w];s.set(x,!1),x.id=o.nextId()}}},n.clear=function(p){f.clear(p.pairs),l.clear(p.detector)},n._bodiesClearForces=function(p){for(var y=p.length,g=0;g<y;g++){var w=p[g];w.force.x=0,w.force.y=0,w.torque=0}},n._bodiesApplyGravity=function(p,y){var g=typeof y.scale<"u"?y.scale:.001,w=p.length;if(!(y.x===0&&y.y===0||g===0))for(var x=0;x<w;x++){var E=p[x];E.isStatic||E.isSleeping||(E.force.y+=E.mass*y.y*g,E.force.x+=E.mass*y.x*g)}},n._bodiesUpdate=function(p,y){for(var g=p.length,w=0;w<g;w++){var x=p[w];x.isStatic||x.isSleeping||h.update(x,y)}},n._bodiesUpdateVelocities=function(p){for(var y=p.length,g=0;g<y;g++)h.updateVelocities(p[g])}})()},function(r,i,a){var n={};r.exports=n;var s=a(3),u=a(0),l=a(1);(function(){n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(f){var c,v,d,o=f.length;for(c=0;c<o;c++)v=f[c],v.isActive&&(d=v.activeContacts.length,v.collision.parentA.totalContacts+=d,v.collision.parentB.totalContacts+=d)},n.solvePosition=function(f,c,v){var d,o,h,p,y,g,w,x,E=n._positionDampen*(v||1),m=u.clamp(c/u._baseDelta,0,1),_=f.length;for(d=0;d<_;d++)o=f[d],!(!o.isActive||o.isSensor)&&(h=o.collision,p=h.parentA,y=h.parentB,g=h.normal,o.separation=g.x*(y.positionImpulse.x+h.penetration.x-p.positionImpulse.x)+g.y*(y.positionImpulse.y+h.penetration.y-p.positionImpulse.y));for(d=0;d<_;d++)o=f[d],!(!o.isActive||o.isSensor)&&(h=o.collision,p=h.parentA,y=h.parentB,g=h.normal,x=o.separation-o.slop*m,(p.isStatic||y.isStatic)&&(x*=2),p.isStatic||p.isSleeping||(w=E/p.totalContacts,p.positionImpulse.x+=g.x*x*w,p.positionImpulse.y+=g.y*x*w),y.isStatic||y.isSleeping||(w=E/y.totalContacts,y.positionImpulse.x-=g.x*x*w,y.positionImpulse.y-=g.y*x*w))},n.postSolvePosition=function(f){for(var c=n._positionWarming,v=f.length,d=s.translate,o=l.update,h=0;h<v;h++){var p=f[h],y=p.positionImpulse,g=y.x,w=y.y,x=p.velocity;if(p.totalContacts=0,g!==0||w!==0){for(var E=0;E<p.parts.length;E++){var m=p.parts[E];d(m.vertices,y),o(m.bounds,m.vertices,x),m.position.x+=g,m.position.y+=w}p.positionPrev.x+=g,p.positionPrev.y+=w,g*x.x+w*x.y<0?(y.x=0,y.y=0):(y.x*=c,y.y*=c)}}},n.preSolveVelocity=function(f){var c=f.length,v,d;for(v=0;v<c;v++){var o=f[v];if(!(!o.isActive||o.isSensor)){var h=o.activeContacts,p=h.length,y=o.collision,g=y.parentA,w=y.parentB,x=y.normal,E=y.tangent;for(d=0;d<p;d++){var m=h[d],_=m.vertex,O=m.normalImpulse,S=m.tangentImpulse;if(O!==0||S!==0){var b=x.x*O+E.x*S,T=x.y*O+E.y*S;g.isStatic||g.isSleeping||(g.positionPrev.x+=b*g.inverseMass,g.positionPrev.y+=T*g.inverseMass,g.anglePrev+=g.inverseInertia*((_.x-g.position.x)*T-(_.y-g.position.y)*b)),w.isStatic||w.isSleeping||(w.positionPrev.x-=b*w.inverseMass,w.positionPrev.y-=T*w.inverseMass,w.anglePrev-=w.inverseInertia*((_.x-w.position.x)*T-(_.y-w.position.y)*b))}}}}},n.solveVelocity=function(f,c){var v=c/u._baseDelta,d=v*v,o=d*v,h=-n._restingThresh*v,p=n._restingThreshTangent,y=n._frictionNormalMultiplier*v,g=n._frictionMaxStatic,w=f.length,x,E,m,_;for(m=0;m<w;m++){var O=f[m];if(!(!O.isActive||O.isSensor)){var S=O.collision,b=S.parentA,T=S.parentB,I=b.velocity,A=T.velocity,R=S.normal.x,C=S.normal.y,M=S.tangent.x,D=S.tangent.y,L=O.activeContacts,$=L.length,U=1/$,ne=b.inverseMass+T.inverseMass,ce=O.friction*O.frictionStatic*y;for(I.x=b.position.x-b.positionPrev.x,I.y=b.position.y-b.positionPrev.y,A.x=T.position.x-T.positionPrev.x,A.y=T.position.y-T.positionPrev.y,b.angularVelocity=b.angle-b.anglePrev,T.angularVelocity=T.angle-T.anglePrev,_=0;_<$;_++){var j=L[_],me=j.vertex,ve=me.x-b.position.x,Re=me.y-b.position.y,pe=me.x-T.position.x,Ve=me.y-T.position.y,be=I.x-Re*b.angularVelocity,Du=I.y+ve*b.angularVelocity,Nu=A.x-Ve*T.angularVelocity,Lu=A.y+pe*T.angularVelocity,Ha=be-Nu,Ga=Du-Lu,Ln=R*Ha+C*Ga,je=M*Ha+D*Ga,Va=O.separation+Ln,kn=Math.min(Va,1);kn=Va<0?0:kn;var ja=kn*ce;je<-ja||je>ja?(E=je>0?je:-je,x=O.friction*(je>0?1:-1)*o,x<-E?x=-E:x>E&&(x=E)):(x=je,E=g);var za=ve*C-Re*R,Ka=pe*C-Ve*R,Za=U/(ne+b.inverseInertia*za*za+T.inverseInertia*Ka*Ka),Pr=(1+O.restitution)*Ln*Za;if(x*=Za,Ln<h)j.normalImpulse=0;else{var ku=j.normalImpulse;j.normalImpulse+=Pr,j.normalImpulse>0&&(j.normalImpulse=0),Pr=j.normalImpulse-ku}if(je<-p||je>p)j.tangentImpulse=0;else{var Fu=j.tangentImpulse;j.tangentImpulse+=x,j.tangentImpulse<-E&&(j.tangentImpulse=-E),j.tangentImpulse>E&&(j.tangentImpulse=E),x=j.tangentImpulse-Fu}var Rr=R*Pr+M*x,Dr=C*Pr+D*x;b.isStatic||b.isSleeping||(b.positionPrev.x+=Rr*b.inverseMass,b.positionPrev.y+=Dr*b.inverseMass,b.anglePrev+=(ve*Dr-Re*Rr)*b.inverseInertia),T.isStatic||T.isSleeping||(T.positionPrev.x-=Rr*T.inverseMass,T.positionPrev.y-=Dr*T.inverseMass,T.anglePrev-=(pe*Dr-Ve*Rr)*T.inverseInertia)}}}}})()},function(r,i,a){var n={};r.exports=n;var s=a(9),u=a(0);(function(){n.create=function(l){return u.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},n.update=function(l,f,c){var v=l.list,d=v.length,o=l.table,h=f.length,p=l.collisionStart,y=l.collisionEnd,g=l.collisionActive,w,x,E,m;for(p.length=0,y.length=0,g.length=0,m=0;m<d;m++)v[m].confirmedActive=!1;for(m=0;m<h;m++)w=f[m],E=w.pair,E?(E.isActive?g.push(E):p.push(E),s.update(E,w,c),E.confirmedActive=!0):(E=s.create(w,c),o[E.id]=E,p.push(E),v.push(E));var _=[];for(d=v.length,m=0;m<d;m++)E=v[m],E.confirmedActive||(s.setActive(E,!1,c),y.push(E),!E.collision.bodyA.isSleeping&&!E.collision.bodyB.isSleeping&&_.push(m));for(m=0;m<_.length;m++)x=_[m]-m,E=v[x],v.splice(x,1),delete o[E.id]},n.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(r,i,a){var n=r.exports=a(21);n.Axes=a(11),n.Bodies=a(12),n.Body=a(4),n.Bounds=a(1),n.Collision=a(8),n.Common=a(0),n.Composite=a(6),n.Composites=a(22),n.Constraint=a(10),n.Contact=a(16),n.Detector=a(13),n.Engine=a(17),n.Events=a(5),n.Grid=a(23),n.Mouse=a(14),n.MouseConstraint=a(24),n.Pair=a(9),n.Pairs=a(19),n.Plugin=a(15),n.Query=a(25),n.Render=a(26),n.Resolver=a(18),n.Runner=a(27),n.SAT=a(28),n.Sleeping=a(7),n.Svg=a(29),n.Vector=a(2),n.Vertices=a(3),n.World=a(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(r,i,a){var n={};r.exports=n;var s=a(15),u=a(0);(function(){n.name="matter-js",n.version="0.19.0",n.uses=[],n.used=[],n.use=function(){s.use(n,Array.prototype.slice.call(arguments))},n.before=function(l,f){return l=l.replace(/^Matter./,""),u.chainPathBefore(n,l,f)},n.after=function(l,f){return l=l.replace(/^Matter./,""),u.chainPathAfter(n,l,f)}})()},function(r,i,a){var n={};r.exports=n;var s=a(6),u=a(10),l=a(0),f=a(4),c=a(12),v=l.deprecated;(function(){n.stack=function(d,o,h,p,y,g,w){for(var x=s.create({label:"Stack"}),E=d,m=o,_,O=0,S=0;S<p;S++){for(var b=0,T=0;T<h;T++){var I=w(E,m,T,S,_,O);if(I){var A=I.bounds.max.y-I.bounds.min.y,R=I.bounds.max.x-I.bounds.min.x;A>b&&(b=A),f.translate(I,{x:R*.5,y:A*.5}),E=I.bounds.max.x+y,s.addBody(x,I),_=I,O+=1}else E+=y}m+=b+g,E=d}return x},n.chain=function(d,o,h,p,y,g){for(var w=d.bodies,x=1;x<w.length;x++){var E=w[x-1],m=w[x],_=E.bounds.max.y-E.bounds.min.y,O=E.bounds.max.x-E.bounds.min.x,S=m.bounds.max.y-m.bounds.min.y,b=m.bounds.max.x-m.bounds.min.x,T={bodyA:E,pointA:{x:O*o,y:_*h},bodyB:m,pointB:{x:b*p,y:S*y}},I=l.extend(T,g);s.addConstraint(d,u.create(I))}return d.label+=" Chain",d},n.mesh=function(d,o,h,p,y){var g=d.bodies,w,x,E,m,_;for(w=0;w<h;w++){for(x=1;x<o;x++)E=g[x-1+w*o],m=g[x+w*o],s.addConstraint(d,u.create(l.extend({bodyA:E,bodyB:m},y)));if(w>0)for(x=0;x<o;x++)E=g[x+(w-1)*o],m=g[x+w*o],s.addConstraint(d,u.create(l.extend({bodyA:E,bodyB:m},y))),p&&x>0&&(_=g[x-1+(w-1)*o],s.addConstraint(d,u.create(l.extend({bodyA:_,bodyB:m},y)))),p&&x<o-1&&(_=g[x+1+(w-1)*o],s.addConstraint(d,u.create(l.extend({bodyA:_,bodyB:m},y))))}return d.label+=" Mesh",d},n.pyramid=function(d,o,h,p,y,g,w){return n.stack(d,o,h,p,y,g,function(x,E,m,_,O,S){var b=Math.min(p,Math.ceil(h/2)),T=O?O.bounds.max.x-O.bounds.min.x:0;if(!(_>b)){_=b-_;var I=_,A=h-1-_;if(!(m<I||m>A)){S===1&&f.translate(O,{x:(m+(h%2===1?1:-1))*T,y:0});var R=O?m*T:0;return w(d+R+m*y,E,m,_,O,S)}}})},n.newtonsCradle=function(d,o,h,p,y){for(var g=s.create({label:"Newtons Cradle"}),w=0;w<h;w++){var x=1.9,E=c.circle(d+w*(p*x),o+y,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=u.create({pointA:{x:d+w*(p*x),y:o},bodyB:E});s.addBody(g,E),s.addConstraint(g,m)}return g},v(n,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),n.car=function(d,o,h,p,y){var g=f.nextGroup(!0),w=20,x=-h*.5+w,E=h*.5-w,m=0,_=s.create({label:"Car"}),O=c.rectangle(d,o,h,p,{collisionFilter:{group:g},chamfer:{radius:p*.5},density:2e-4}),S=c.circle(d+x,o+m,y,{collisionFilter:{group:g},friction:.8}),b=c.circle(d+E,o+m,y,{collisionFilter:{group:g},friction:.8}),T=u.create({bodyB:O,pointB:{x,y:m},bodyA:S,stiffness:1,length:0}),I=u.create({bodyB:O,pointB:{x:E,y:m},bodyA:b,stiffness:1,length:0});return s.addBody(_,O),s.addBody(_,S),s.addBody(_,b),s.addConstraint(_,T),s.addConstraint(_,I),_},v(n,"car","Composites.car âž¤ moved to car example"),n.softBody=function(d,o,h,p,y,g,w,x,E,m){E=l.extend({inertia:1/0},E),m=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var _=n.stack(d,o,h,p,y,g,function(O,S){return c.circle(O,S,x,E)});return n.mesh(_,h,p,w,m),_.label="Soft Body",_},v(n,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")})()},function(r,i,a){var n={};r.exports=n;var s=a(9),u=a(0),l=u.deprecated;(function(){n.create=function(f){var c={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return u.extend(c,f)},n.update=function(f,c,v,d){var o,h,p,y=v.world,g=f.buckets,w,x,E=!1;for(o=0;o<c.length;o++){var m=c[o];if(!(m.isSleeping&&!d)&&!(y.bounds&&(m.bounds.max.x<y.bounds.min.x||m.bounds.min.x>y.bounds.max.x||m.bounds.max.y<y.bounds.min.y||m.bounds.min.y>y.bounds.max.y))){var _=n._getRegion(f,m);if(!m.region||_.id!==m.region.id||d){(!m.region||d)&&(m.region=_);var O=n._regionUnion(_,m.region);for(h=O.startCol;h<=O.endCol;h++)for(p=O.startRow;p<=O.endRow;p++){x=n._getBucketId(h,p),w=g[x];var S=h>=_.startCol&&h<=_.endCol&&p>=_.startRow&&p<=_.endRow,b=h>=m.region.startCol&&h<=m.region.endCol&&p>=m.region.startRow&&p<=m.region.endRow;!S&&b&&b&&w&&n._bucketRemoveBody(f,w,m),(m.region===_||S&&!b||d)&&(w||(w=n._createBucket(g,x)),n._bucketAddBody(f,w,m))}m.region=_,E=!0}}}E&&(f.pairsList=n._createActivePairsList(f))},l(n,"update","Grid.update âž¤ replaced by Matter.Detector"),n.clear=function(f){f.buckets={},f.pairs={},f.pairsList=[]},l(n,"clear","Grid.clear âž¤ replaced by Matter.Detector"),n._regionUnion=function(f,c){var v=Math.min(f.startCol,c.startCol),d=Math.max(f.endCol,c.endCol),o=Math.min(f.startRow,c.startRow),h=Math.max(f.endRow,c.endRow);return n._createRegion(v,d,o,h)},n._getRegion=function(f,c){var v=c.bounds,d=Math.floor(v.min.x/f.bucketWidth),o=Math.floor(v.max.x/f.bucketWidth),h=Math.floor(v.min.y/f.bucketHeight),p=Math.floor(v.max.y/f.bucketHeight);return n._createRegion(d,o,h,p)},n._createRegion=function(f,c,v,d){return{id:f+","+c+","+v+","+d,startCol:f,endCol:c,startRow:v,endRow:d}},n._getBucketId=function(f,c){return"C"+f+"R"+c},n._createBucket=function(f,c){var v=f[c]=[];return v},n._bucketAddBody=function(f,c,v){var d=f.pairs,o=s.id,h=c.length,p;for(p=0;p<h;p++){var y=c[p];if(!(v.id===y.id||v.isStatic&&y.isStatic)){var g=o(v,y),w=d[g];w?w[2]+=1:d[g]=[v,y,1]}}c.push(v)},n._bucketRemoveBody=function(f,c,v){var d=f.pairs,o=s.id,h;c.splice(u.indexOf(c,v),1);var p=c.length;for(h=0;h<p;h++){var y=d[o(v,c[h])];y&&(y[2]-=1)}},n._createActivePairsList=function(f){var c,v=f.pairs,d=u.keys(v),o=d.length,h=[],p;for(p=0;p<o;p++)c=v[d[p]],c[2]>0?h.push(c):delete v[d[p]];return h}})()},function(r,i,a){var n={};r.exports=n;var s=a(3),u=a(7),l=a(14),f=a(5),c=a(13),v=a(10),d=a(6),o=a(0),h=a(1);(function(){n.create=function(p,y){var g=(p?p.mouse:null)||(y?y.mouse:null);g||(p&&p.render&&p.render.canvas?g=l.create(p.render.canvas):y&&y.element?g=l.create(y.element):(g=l.create(),o.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=v.create({label:"Mouse Constraint",pointA:g.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),x={type:"mouseConstraint",mouse:g,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},E=o.extend(x,y);return f.on(p,"beforeUpdate",function(){var m=d.allBodies(p.world);n.update(E,m),n._triggerEvents(E)}),E},n.update=function(p,y){var g=p.mouse,w=p.constraint,x=p.body;if(g.button===0){if(w.bodyB)u.set(w.bodyB,!1),w.pointA=g.position;else for(var E=0;E<y.length;E++)if(x=y[E],h.contains(x.bounds,g.position)&&c.canCollide(x.collisionFilter,p.collisionFilter))for(var m=x.parts.length>1?1:0;m<x.parts.length;m++){var _=x.parts[m];if(s.contains(_.vertices,g.position)){w.pointA=g.position,w.bodyB=p.body=x,w.pointB={x:g.position.x-x.position.x,y:g.position.y-x.position.y},w.angleB=x.angle,u.set(x,!1),f.trigger(p,"startdrag",{mouse:g,body:x});break}}}else w.bodyB=p.body=null,w.pointB=null,x&&f.trigger(p,"enddrag",{mouse:g,body:x})},n._triggerEvents=function(p){var y=p.mouse,g=y.sourceEvents;g.mousemove&&f.trigger(p,"mousemove",{mouse:y}),g.mousedown&&f.trigger(p,"mousedown",{mouse:y}),g.mouseup&&f.trigger(p,"mouseup",{mouse:y}),l.clearSourceEvents(y)}})()},function(r,i,a){var n={};r.exports=n;var s=a(2),u=a(8),l=a(1),f=a(12),c=a(3);(function(){n.collides=function(v,d){for(var o=[],h=d.length,p=v.bounds,y=u.collides,g=l.overlaps,w=0;w<h;w++){var x=d[w],E=x.parts.length,m=E===1?0:1;if(g(x.bounds,p))for(var _=m;_<E;_++){var O=x.parts[_];if(g(O.bounds,p)){var S=y(O,v);if(S){o.push(S);break}}}}return o},n.ray=function(v,d,o,h){h=h||1e-100;for(var p=s.angle(d,o),y=s.magnitude(s.sub(d,o)),g=(o.x+d.x)*.5,w=(o.y+d.y)*.5,x=f.rectangle(g,w,y,h,{angle:p}),E=n.collides(x,v),m=0;m<E.length;m+=1){var _=E[m];_.body=_.bodyB=_.bodyA}return E},n.region=function(v,d,o){for(var h=[],p=0;p<v.length;p++){var y=v[p],g=l.overlaps(y.bounds,d);(g&&!o||!g&&o)&&h.push(y)}return h},n.point=function(v,d){for(var o=[],h=0;h<v.length;h++){var p=v[h];if(l.contains(p.bounds,d))for(var y=p.parts.length===1?0:1;y<p.parts.length;y++){var g=p.parts[y];if(l.contains(g.bounds,d)&&c.contains(g.vertices,d)){o.push(p);break}}}return o}})()},function(r,i,a){var n={};r.exports=n;var s=a(4),u=a(0),l=a(6),f=a(1),c=a(5),v=a(2),d=a(14);(function(){var o,h;typeof window<"u"&&(o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(u.now())},1e3/60)},h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n._goodFps=30,n._goodDelta=1e3/60,n.create=function(m){var _={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},O=u.extend(_,m);return O.canvas&&(O.canvas.width=O.options.width||O.canvas.width,O.canvas.height=O.options.height||O.canvas.height),O.mouse=m.mouse,O.engine=m.engine,O.canvas=O.canvas||g(O.options.width,O.options.height),O.context=O.canvas.getContext("2d"),O.textures={},O.bounds=O.bounds||{min:{x:0,y:0},max:{x:O.canvas.width,y:O.canvas.height}},O.controller=n,O.options.showBroadphase=!1,O.options.pixelRatio!==1&&n.setPixelRatio(O,O.options.pixelRatio),u.isElement(O.element)&&O.element.appendChild(O.canvas),O},n.run=function(m){(function _(O){m.frameRequestId=o(_),p(m,O),n.world(m,O),(m.options.showStats||m.options.showDebug)&&n.stats(m,m.context,O),(m.options.showPerformance||m.options.showDebug)&&n.performance(m,m.context,O)})()},n.stop=function(m){h(m.frameRequestId)},n.setPixelRatio=function(m,_){var O=m.options,S=m.canvas;_==="auto"&&(_=w(S)),O.pixelRatio=_,S.setAttribute("data-pixel-ratio",_),S.width=O.width*_,S.height=O.height*_,S.style.width=O.width+"px",S.style.height=O.height+"px"},n.lookAt=function(m,_,O,S){S=typeof S<"u"?S:!0,_=u.isArray(_)?_:[_],O=O||{x:0,y:0};for(var b={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},T=0;T<_.length;T+=1){var I=_[T],A=I.bounds?I.bounds.min:I.min||I.position||I,R=I.bounds?I.bounds.max:I.max||I.position||I;A&&R&&(A.x<b.min.x&&(b.min.x=A.x),R.x>b.max.x&&(b.max.x=R.x),A.y<b.min.y&&(b.min.y=A.y),R.y>b.max.y&&(b.max.y=R.y))}var C=b.max.x-b.min.x+2*O.x,M=b.max.y-b.min.y+2*O.y,D=m.canvas.height,L=m.canvas.width,$=L/D,U=C/M,ne=1,ce=1;U>$?ce=U/$:ne=$/U,m.options.hasBounds=!0,m.bounds.min.x=b.min.x,m.bounds.max.x=b.min.x+C*ne,m.bounds.min.y=b.min.y,m.bounds.max.y=b.min.y+M*ce,S&&(m.bounds.min.x+=C*.5-C*ne*.5,m.bounds.max.x+=C*.5-C*ne*.5,m.bounds.min.y+=M*.5-M*ce*.5,m.bounds.max.y+=M*.5-M*ce*.5),m.bounds.min.x-=O.x,m.bounds.max.x-=O.x,m.bounds.min.y-=O.y,m.bounds.max.y-=O.y,m.mouse&&(d.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),d.setOffset(m.mouse,m.bounds.min))},n.startViewTransform=function(m){var _=m.bounds.max.x-m.bounds.min.x,O=m.bounds.max.y-m.bounds.min.y,S=_/m.options.width,b=O/m.options.height;m.context.setTransform(m.options.pixelRatio/S,0,0,m.options.pixelRatio/b,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},n.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},n.world=function(m,_){var O=u.now(),S=m.engine,b=S.world,T=m.canvas,I=m.context,A=m.options,R=m.timing,C=l.allBodies(b),M=l.allConstraints(b),D=A.wireframes?A.wireframeBackground:A.background,L=[],$=[],U,ne={timestamp:S.timing.timestamp};if(c.trigger(m,"beforeRender",ne),m.currentBackground!==D&&E(m,D),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,T.width,T.height),I.globalCompositeOperation="source-over",A.hasBounds){for(U=0;U<C.length;U++){var ce=C[U];f.overlaps(ce.bounds,m.bounds)&&L.push(ce)}for(U=0;U<M.length;U++){var j=M[U],me=j.bodyA,ve=j.bodyB,Re=j.pointA,pe=j.pointB;me&&(Re=v.add(me.position,j.pointA)),ve&&(pe=v.add(ve.position,j.pointB)),!(!Re||!pe)&&(f.contains(m.bounds,Re)||f.contains(m.bounds,pe))&&$.push(j)}n.startViewTransform(m),m.mouse&&(d.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),d.setOffset(m.mouse,m.bounds.min))}else $=M,L=C,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!A.wireframes||S.enableSleeping&&A.showSleeping?n.bodies(m,L,I):(A.showConvexHulls&&n.bodyConvexHulls(m,L,I),n.bodyWireframes(m,L,I)),A.showBounds&&n.bodyBounds(m,L,I),(A.showAxes||A.showAngleIndicator)&&n.bodyAxes(m,L,I),A.showPositions&&n.bodyPositions(m,L,I),A.showVelocity&&n.bodyVelocity(m,L,I),A.showIds&&n.bodyIds(m,L,I),A.showSeparations&&n.separations(m,S.pairs.list,I),A.showCollisions&&n.collisions(m,S.pairs.list,I),A.showVertexNumbers&&n.vertexNumbers(m,L,I),A.showMousePosition&&n.mousePosition(m,m.mouse,I),n.constraints($,I),A.hasBounds&&n.endViewTransform(m),c.trigger(m,"afterRender",ne),R.lastElapsed=u.now()-O},n.stats=function(m,_,O){for(var S=m.engine,b=S.world,T=l.allBodies(b),I=0,A=55,R=44,C=0,M=0,D=0;D<T.length;D+=1)I+=T[D].parts.length;var L={Part:I,Body:T.length,Cons:l.allConstraints(b).length,Comp:l.allComposites(b).length,Pair:S.pairs.list.length};_.fillStyle="#0e0f19",_.fillRect(C,M,A*5.5,R),_.font="12px Arial",_.textBaseline="top",_.textAlign="right";for(var $ in L){var U=L[$];_.fillStyle="#aaa",_.fillText($,C+A,M+8),_.fillStyle="#eee",_.fillText(U,C+A,M+26),C+=A}},n.performance=function(m,_){var O=m.engine,S=m.timing,b=S.deltaHistory,T=S.elapsedHistory,I=S.timestampElapsedHistory,A=S.engineDeltaHistory,R=S.engineElapsedHistory,C=O.timing.lastDelta,M=y(b),D=y(T),L=y(A),$=y(R),U=y(I),ne=U/M||0,ce=1e3/M||0,j=4,me=12,ve=60,Re=34,pe=10,Ve=69;_.fillStyle="#0e0f19",_.fillRect(0,50,me*4+ve*5+22,Re),n.status(_,pe,Ve,ve,j,b.length,Math.round(ce)+" fps",ce/n._goodFps,function(be){return b[be]/M-1}),n.status(_,pe+me+ve,Ve,ve,j,A.length,C.toFixed(2)+" dt",n._goodDelta/C,function(be){return A[be]/L-1}),n.status(_,pe+(me+ve)*2,Ve,ve,j,R.length,$.toFixed(2)+" ut",1-$/n._goodFps,function(be){return R[be]/$-1}),n.status(_,pe+(me+ve)*3,Ve,ve,j,T.length,D.toFixed(2)+" rt",1-D/n._goodFps,function(be){return T[be]/D-1}),n.status(_,pe+(me+ve)*4,Ve,ve,j,I.length,ne.toFixed(2)+" x",ne*ne*ne,function(be){return(I[be]/b[be]/ne||0)-1})},n.status=function(m,_,O,S,b,T,I,A,R){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(_,O+7,S,1),m.beginPath(),m.moveTo(_,O+7-b*u.clamp(.4*R(0),-2,2));for(var C=0;C<S;C+=1)m.lineTo(_+C,O+7-(C<T?b*u.clamp(.4*R(C),-2,2):0));m.stroke(),m.fillStyle="hsl("+u.clamp(25+95*A,0,120)+",100%,60%)",m.fillRect(_,O-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(I,_+S,O-5)},n.constraints=function(m,_){for(var O=_,S=0;S<m.length;S++){var b=m[S];if(!(!b.render.visible||!b.pointA||!b.pointB)){var T=b.bodyA,I=b.bodyB,A,R;if(T?A=v.add(T.position,b.pointA):A=b.pointA,b.render.type==="pin")O.beginPath(),O.arc(A.x,A.y,3,0,2*Math.PI),O.closePath();else{if(I?R=v.add(I.position,b.pointB):R=b.pointB,O.beginPath(),O.moveTo(A.x,A.y),b.render.type==="spring")for(var C=v.sub(R,A),M=v.perp(v.normalise(C)),D=Math.ceil(u.clamp(b.length/5,12,20)),L,$=1;$<D;$+=1)L=$%2===0?1:-1,O.lineTo(A.x+C.x*($/D)+M.x*L*4,A.y+C.y*($/D)+M.y*L*4);O.lineTo(R.x,R.y)}b.render.lineWidth&&(O.lineWidth=b.render.lineWidth,O.strokeStyle=b.render.strokeStyle,O.stroke()),b.render.anchors&&(O.fillStyle=b.render.strokeStyle,O.beginPath(),O.arc(A.x,A.y,3,0,2*Math.PI),O.arc(R.x,R.y,3,0,2*Math.PI),O.closePath(),O.fill())}}},n.bodies=function(m,_,O){var S=O;m.engine;var b=m.options,T=b.showInternalEdges||!b.wireframes,I,A,R,C;for(R=0;R<_.length;R++)if(I=_[R],!!I.render.visible){for(C=I.parts.length>1?1:0;C<I.parts.length;C++)if(A=I.parts[C],!!A.render.visible){if(b.showSleeping&&I.isSleeping?S.globalAlpha=.5*A.render.opacity:A.render.opacity!==1&&(S.globalAlpha=A.render.opacity),A.render.sprite&&A.render.sprite.texture&&!b.wireframes){var M=A.render.sprite,D=x(m,M.texture);S.translate(A.position.x,A.position.y),S.rotate(A.angle),S.drawImage(D,D.width*-M.xOffset*M.xScale,D.height*-M.yOffset*M.yScale,D.width*M.xScale,D.height*M.yScale),S.rotate(-A.angle),S.translate(-A.position.x,-A.position.y)}else{if(A.circleRadius)S.beginPath(),S.arc(A.position.x,A.position.y,A.circleRadius,0,2*Math.PI);else{S.beginPath(),S.moveTo(A.vertices[0].x,A.vertices[0].y);for(var L=1;L<A.vertices.length;L++)!A.vertices[L-1].isInternal||T?S.lineTo(A.vertices[L].x,A.vertices[L].y):S.moveTo(A.vertices[L].x,A.vertices[L].y),A.vertices[L].isInternal&&!T&&S.moveTo(A.vertices[(L+1)%A.vertices.length].x,A.vertices[(L+1)%A.vertices.length].y);S.lineTo(A.vertices[0].x,A.vertices[0].y),S.closePath()}b.wireframes?(S.lineWidth=1,S.strokeStyle="#bbb",S.stroke()):(S.fillStyle=A.render.fillStyle,A.render.lineWidth&&(S.lineWidth=A.render.lineWidth,S.strokeStyle=A.render.strokeStyle,S.stroke()),S.fill())}S.globalAlpha=1}}},n.bodyWireframes=function(m,_,O){var S=O,b=m.options.showInternalEdges,T,I,A,R,C;for(S.beginPath(),A=0;A<_.length;A++)if(T=_[A],!!T.render.visible)for(C=T.parts.length>1?1:0;C<T.parts.length;C++){for(I=T.parts[C],S.moveTo(I.vertices[0].x,I.vertices[0].y),R=1;R<I.vertices.length;R++)!I.vertices[R-1].isInternal||b?S.lineTo(I.vertices[R].x,I.vertices[R].y):S.moveTo(I.vertices[R].x,I.vertices[R].y),I.vertices[R].isInternal&&!b&&S.moveTo(I.vertices[(R+1)%I.vertices.length].x,I.vertices[(R+1)%I.vertices.length].y);S.lineTo(I.vertices[0].x,I.vertices[0].y)}S.lineWidth=1,S.strokeStyle="#bbb",S.stroke()},n.bodyConvexHulls=function(m,_,O){var S=O,b,T,I;for(S.beginPath(),T=0;T<_.length;T++)if(b=_[T],!(!b.render.visible||b.parts.length===1)){for(S.moveTo(b.vertices[0].x,b.vertices[0].y),I=1;I<b.vertices.length;I++)S.lineTo(b.vertices[I].x,b.vertices[I].y);S.lineTo(b.vertices[0].x,b.vertices[0].y)}S.lineWidth=1,S.strokeStyle="rgba(255,255,255,0.2)",S.stroke()},n.vertexNumbers=function(m,_,O){var S=O,b,T,I;for(b=0;b<_.length;b++){var A=_[b].parts;for(I=A.length>1?1:0;I<A.length;I++){var R=A[I];for(T=0;T<R.vertices.length;T++)S.fillStyle="rgba(255,255,255,0.2)",S.fillText(b+"_"+T,R.position.x+(R.vertices[T].x-R.position.x)*.8,R.position.y+(R.vertices[T].y-R.position.y)*.8)}}},n.mousePosition=function(m,_,O){var S=O;S.fillStyle="rgba(255,255,255,0.8)",S.fillText(_.position.x+"  "+_.position.y,_.position.x+5,_.position.y-5)},n.bodyBounds=function(m,_,O){var S=O;m.engine;var b=m.options;S.beginPath();for(var T=0;T<_.length;T++){var I=_[T];if(I.render.visible)for(var A=_[T].parts,R=A.length>1?1:0;R<A.length;R++){var C=A[R];S.rect(C.bounds.min.x,C.bounds.min.y,C.bounds.max.x-C.bounds.min.x,C.bounds.max.y-C.bounds.min.y)}}b.wireframes?S.strokeStyle="rgba(255,255,255,0.08)":S.strokeStyle="rgba(0,0,0,0.1)",S.lineWidth=1,S.stroke()},n.bodyAxes=function(m,_,O){var S=O;m.engine;var b=m.options,T,I,A,R;for(S.beginPath(),I=0;I<_.length;I++){var C=_[I],M=C.parts;if(C.render.visible)if(b.showAxes)for(A=M.length>1?1:0;A<M.length;A++)for(T=M[A],R=0;R<T.axes.length;R++){var D=T.axes[R];S.moveTo(T.position.x,T.position.y),S.lineTo(T.position.x+D.x*20,T.position.y+D.y*20)}else for(A=M.length>1?1:0;A<M.length;A++)for(T=M[A],R=0;R<T.axes.length;R++)S.moveTo(T.position.x,T.position.y),S.lineTo((T.vertices[0].x+T.vertices[T.vertices.length-1].x)/2,(T.vertices[0].y+T.vertices[T.vertices.length-1].y)/2)}b.wireframes?(S.strokeStyle="indianred",S.lineWidth=1):(S.strokeStyle="rgba(255, 255, 255, 0.4)",S.globalCompositeOperation="overlay",S.lineWidth=2),S.stroke(),S.globalCompositeOperation="source-over"},n.bodyPositions=function(m,_,O){var S=O;m.engine;var b=m.options,T,I,A,R;for(S.beginPath(),A=0;A<_.length;A++)if(T=_[A],!!T.render.visible)for(R=0;R<T.parts.length;R++)I=T.parts[R],S.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),S.closePath();for(b.wireframes?S.fillStyle="indianred":S.fillStyle="rgba(0,0,0,0.5)",S.fill(),S.beginPath(),A=0;A<_.length;A++)T=_[A],T.render.visible&&(S.arc(T.positionPrev.x,T.positionPrev.y,2,0,2*Math.PI,!1),S.closePath());S.fillStyle="rgba(255,165,0,0.8)",S.fill()},n.bodyVelocity=function(m,_,O){var S=O;S.beginPath();for(var b=0;b<_.length;b++){var T=_[b];if(T.render.visible){var I=s.getVelocity(T);S.moveTo(T.position.x,T.position.y),S.lineTo(T.position.x+I.x,T.position.y+I.y)}}S.lineWidth=3,S.strokeStyle="cornflowerblue",S.stroke()},n.bodyIds=function(m,_,O){var S=O,b,T;for(b=0;b<_.length;b++)if(_[b].render.visible){var I=_[b].parts;for(T=I.length>1?1:0;T<I.length;T++){var A=I[T];S.font="12px Arial",S.fillStyle="rgba(255,255,255,0.5)",S.fillText(A.id,A.position.x+10,A.position.y-10)}}},n.collisions=function(m,_,O){var S=O,b=m.options,T,I,A,R;for(S.beginPath(),A=0;A<_.length;A++)if(T=_[A],!!T.isActive)for(I=T.collision,R=0;R<T.activeContacts.length;R++){var C=T.activeContacts[R],M=C.vertex;S.rect(M.x-1.5,M.y-1.5,3.5,3.5)}for(b.wireframes?S.fillStyle="rgba(255,255,255,0.7)":S.fillStyle="orange",S.fill(),S.beginPath(),A=0;A<_.length;A++)if(T=_[A],!!T.isActive&&(I=T.collision,T.activeContacts.length>0)){var D=T.activeContacts[0].vertex.x,L=T.activeContacts[0].vertex.y;T.activeContacts.length===2&&(D=(T.activeContacts[0].vertex.x+T.activeContacts[1].vertex.x)/2,L=(T.activeContacts[0].vertex.y+T.activeContacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?S.moveTo(D-I.normal.x*8,L-I.normal.y*8):S.moveTo(D+I.normal.x*8,L+I.normal.y*8),S.lineTo(D,L)}b.wireframes?S.strokeStyle="rgba(255,165,0,0.7)":S.strokeStyle="orange",S.lineWidth=1,S.stroke()},n.separations=function(m,_,O){var S=O,b=m.options,T,I,A,R,C;for(S.beginPath(),C=0;C<_.length;C++)if(T=_[C],!!T.isActive){I=T.collision,A=I.bodyA,R=I.bodyB;var M=1;!R.isStatic&&!A.isStatic&&(M=.5),R.isStatic&&(M=0),S.moveTo(R.position.x,R.position.y),S.lineTo(R.position.x-I.penetration.x*M,R.position.y-I.penetration.y*M),M=1,!R.isStatic&&!A.isStatic&&(M=.5),A.isStatic&&(M=0),S.moveTo(A.position.x,A.position.y),S.lineTo(A.position.x+I.penetration.x*M,A.position.y+I.penetration.y*M)}b.wireframes?S.strokeStyle="rgba(255,165,0,0.5)":S.strokeStyle="orange",S.stroke()},n.inspector=function(m,_){m.engine;var O=m.selected,S=m.render,b=S.options,T;if(b.hasBounds){var I=S.bounds.max.x-S.bounds.min.x,A=S.bounds.max.y-S.bounds.min.y,R=I/S.options.width,C=A/S.options.height;_.scale(1/R,1/C),_.translate(-S.bounds.min.x,-S.bounds.min.y)}for(var M=0;M<O.length;M++){var D=O[M].data;switch(_.translate(.5,.5),_.lineWidth=1,_.strokeStyle="rgba(255,165,0,0.9)",_.setLineDash([1,2]),D.type){case"body":T=D.bounds,_.beginPath(),_.rect(Math.floor(T.min.x-3),Math.floor(T.min.y-3),Math.floor(T.max.x-T.min.x+6),Math.floor(T.max.y-T.min.y+6)),_.closePath(),_.stroke();break;case"constraint":var L=D.pointA;D.bodyA&&(L=D.pointB),_.beginPath(),_.arc(L.x,L.y,10,0,2*Math.PI),_.closePath(),_.stroke();break}_.setLineDash([]),_.translate(-.5,-.5)}m.selectStart!==null&&(_.translate(.5,.5),_.lineWidth=1,_.strokeStyle="rgba(255,165,0,0.6)",_.fillStyle="rgba(255,165,0,0.1)",T=m.selectBounds,_.beginPath(),_.rect(Math.floor(T.min.x),Math.floor(T.min.y),Math.floor(T.max.x-T.min.x),Math.floor(T.max.y-T.min.y)),_.closePath(),_.stroke(),_.fill(),_.translate(-.5,-.5)),b.hasBounds&&_.setTransform(1,0,0,1,0,0)};var p=function(m,_){var O=m.engine,S=m.timing,b=S.historySize,T=O.timing.timestamp;S.delta=_-S.lastTime||n._goodDelta,S.lastTime=_,S.timestampElapsed=T-S.lastTimestamp||0,S.lastTimestamp=T,S.deltaHistory.unshift(S.delta),S.deltaHistory.length=Math.min(S.deltaHistory.length,b),S.engineDeltaHistory.unshift(O.timing.lastDelta),S.engineDeltaHistory.length=Math.min(S.engineDeltaHistory.length,b),S.timestampElapsedHistory.unshift(S.timestampElapsed),S.timestampElapsedHistory.length=Math.min(S.timestampElapsedHistory.length,b),S.engineElapsedHistory.unshift(O.timing.lastElapsed),S.engineElapsedHistory.length=Math.min(S.engineElapsedHistory.length,b),S.elapsedHistory.unshift(S.lastElapsed),S.elapsedHistory.length=Math.min(S.elapsedHistory.length,b)},y=function(m){for(var _=0,O=0;O<m.length;O+=1)_+=m[O];return _/m.length||0},g=function(m,_){var O=document.createElement("canvas");return O.width=m,O.height=_,O.oncontextmenu=function(){return!1},O.onselectstart=function(){return!1},O},w=function(m){var _=m.getContext("2d"),O=window.devicePixelRatio||1,S=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1;return O/S},x=function(m,_){var O=m.textures[_];return O||(O=m.textures[_]=new Image,O.src=_,O)},E=function(m,_){var O=_;/(jpg|gif|png)$/.test(_)&&(O="url("+_+")"),m.canvas.style.background=O,m.canvas.style.backgroundSize="contain",m.currentBackground=_}})()},function(r,i,a){var n={};r.exports=n;var s=a(5),u=a(17),l=a(0);(function(){var f,c;if(typeof window<"u"&&(f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!f){var v;f=function(d){v=setTimeout(function(){d(l.now())},1e3/60)},c=function(){clearTimeout(v)}}n.create=function(d){var o={fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},h=l.extend(o,d);return h.delta=h.delta||1e3/h.fps,h.deltaMin=h.deltaMin||1e3/h.fps,h.deltaMax=h.deltaMax||1e3/(h.fps*.5),h.fps=1e3/h.delta,h},n.run=function(d,o){return typeof d.positionIterations<"u"&&(o=d,d=n.create()),function h(p){d.frameRequestId=f(h),p&&d.enabled&&n.tick(d,o,p)}(),d},n.tick=function(d,o,h){var p=o.timing,y;d.isFixed?y=d.delta:(y=h-d.timePrev||d.delta,d.timePrev=h,d.deltaHistory.push(y),d.deltaHistory=d.deltaHistory.slice(-d.deltaSampleSize),y=Math.min.apply(null,d.deltaHistory),y=y<d.deltaMin?d.deltaMin:y,y=y>d.deltaMax?d.deltaMax:y,d.delta=y);var g={timestamp:p.timestamp};s.trigger(d,"beforeTick",g),d.frameCounter+=1,h-d.counterTimestamp>=1e3&&(d.fps=d.frameCounter*((h-d.counterTimestamp)/1e3),d.counterTimestamp=h,d.frameCounter=0),s.trigger(d,"tick",g),s.trigger(d,"beforeUpdate",g),u.update(o,y),s.trigger(d,"afterUpdate",g),s.trigger(d,"afterTick",g)},n.stop=function(d){c(d.frameRequestId)},n.start=function(d,o){n.run(d,o)}})()},function(r,i,a){var n={};r.exports=n;var s=a(8),u=a(0),l=u.deprecated;(function(){n.collides=function(f,c){return s.collides(f,c)},l(n,"collides","SAT.collides âž¤ replaced by Collision.collides")})()},function(r,i,a){var n={};r.exports=n,a(1);var s=a(0);(function(){n.pathToVertices=function(u,l){typeof window<"u"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var f,c,v,d,o,h,p,y,g,w,x=[],E,m,_=0,O=0,S=0;l=l||15;var b=function(I,A,R){var C=R%2===1&&R>1;if(!g||I!=g.x||A!=g.y){g&&C?(E=g.x,m=g.y):(E=0,m=0);var M={x:E+I,y:m+A};(C||!g)&&(g=M),x.push(M),O=E+I,S=m+A}},T=function(I){var A=I.pathSegTypeAsLetter.toUpperCase();if(A!=="Z"){switch(A){case"M":case"L":case"T":case"C":case"S":case"Q":O=I.x,S=I.y;break;case"H":O=I.x;break;case"V":S=I.y;break}b(O,S,I.pathSegType)}};for(n._svgPathToAbsolute(u),v=u.getTotalLength(),h=[],f=0;f<u.pathSegList.numberOfItems;f+=1)h.push(u.pathSegList.getItem(f));for(p=h.concat();_<v;){if(w=u.getPathSegAtLength(_),o=h[w],o!=y){for(;p.length&&p[0]!=o;)T(p.shift());y=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":d=u.getPointAtLength(_),b(d.x,d.y,0);break}_+=l}for(f=0,c=p.length;f<c;++f)T(p[f]);return x},n._svgPathToAbsolute=function(u){for(var l,f,c,v,d,o,h=u.pathSegList,p=0,y=0,g=h.numberOfItems,w=0;w<g;++w){var x=h.getItem(w),E=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in x&&(p=x.x),"y"in x&&(y=x.y);else switch("x1"in x&&(c=p+x.x1),"x2"in x&&(d=p+x.x2),"y1"in x&&(v=y+x.y1),"y2"in x&&(o=y+x.y2),"x"in x&&(p+=x.x),"y"in x&&(y+=x.y),E){case"m":h.replaceItem(u.createSVGPathSegMovetoAbs(p,y),w);break;case"l":h.replaceItem(u.createSVGPathSegLinetoAbs(p,y),w);break;case"h":h.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(p),w);break;case"v":h.replaceItem(u.createSVGPathSegLinetoVerticalAbs(y),w);break;case"c":h.replaceItem(u.createSVGPathSegCurvetoCubicAbs(p,y,c,v,d,o),w);break;case"s":h.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(p,y,d,o),w);break;case"q":h.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(p,y,c,v),w);break;case"t":h.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(p,y),w);break;case"a":h.replaceItem(u.createSVGPathSegArcAbs(p,y,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),w);break;case"z":case"Z":p=l,y=f;break}(E=="M"||E=="m")&&(l=p,f=y)}}})()},function(r,i,a){var n={};r.exports=n;var s=a(6);a(0),function(){n.create=s.create,n.add=s.add,n.remove=s.remove,n.clear=s.clear,n.addComposite=s.addComposite,n.addBody=s.addBody,n.addConstraint=s.addConstraint}()}])})})(lo);var Yu=lo.exports;const _e=oe(Yu);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var uo;function k(){return uo.apply(null,arguments)}function Hu(e){uo=e}function Le(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function mt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ji(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(X(e,t))return!1;return!0}function Te(e){return e===void 0}function tt(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Er(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function co(e,t){var r=[],i,a=e.length;for(i=0;i<a;++i)r.push(t(e[i],i));return r}function lt(e,t){for(var r in t)X(t,r)&&(e[r]=t[r]);return X(t,"toString")&&(e.toString=t.toString),X(t,"valueOf")&&(e.valueOf=t.valueOf),e}function He(e,t,r,i){return No(e,t,r,i,!0).utc()}function Gu(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function V(e){return e._pf==null&&(e._pf=Gu()),e._pf}var ui;Array.prototype.some?ui=Array.prototype.some:ui=function(e){var t=Object(this),r=t.length>>>0,i;for(i=0;i<r;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function qi(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());if(i&&(t=V(e),r=ui.call(t.parsedDateParts,function(a){return a!=null}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i;return e._isValid}function vn(e){var t=He(NaN);return e!=null?lt(V(t),e):V(t).userInvalidated=!0,t}var Ja=k.momentProperties=[],Fn=!1;function Qi(e,t){var r,i,a,n=Ja.length;if(Te(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Te(t._i)||(e._i=t._i),Te(t._f)||(e._f=t._f),Te(t._l)||(e._l=t._l),Te(t._strict)||(e._strict=t._strict),Te(t._tzm)||(e._tzm=t._tzm),Te(t._isUTC)||(e._isUTC=t._isUTC),Te(t._offset)||(e._offset=t._offset),Te(t._pf)||(e._pf=V(t)),Te(t._locale)||(e._locale=t._locale),n>0)for(r=0;r<n;r++)i=Ja[r],a=t[i],Te(a)||(e[i]=a);return e}function Tr(e){Qi(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Fn===!1&&(Fn=!0,k.updateOffset(this),Fn=!1)}function ke(e){return e instanceof Tr||e!=null&&e._isAMomentObject!=null}function fo(e){k.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Me(e,t){var r=!0;return lt(function(){if(k.deprecationHandler!=null&&k.deprecationHandler(null,e),r){var i=[],a,n,s,u=arguments.length;for(n=0;n<u;n++){if(a="",typeof arguments[n]=="object"){a+=`
[`+n+"] ";for(s in arguments[0])X(arguments[0],s)&&(a+=s+": "+arguments[0][s]+", ");a=a.slice(0,-2)}else a=arguments[n];i.push(a)}fo(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var qa={};function ho(e,t){k.deprecationHandler!=null&&k.deprecationHandler(e,t),qa[e]||(fo(t),qa[e]=!0)}k.suppressDeprecationWarnings=!1;k.deprecationHandler=null;function Ge(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Vu(e){var t,r;for(r in e)X(e,r)&&(t=e[r],Ge(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ci(e,t){var r=lt({},e),i;for(i in t)X(t,i)&&(mt(e[i])&&mt(t[i])?(r[i]={},lt(r[i],e[i]),lt(r[i],t[i])):t[i]!=null?r[i]=t[i]:delete r[i]);for(i in e)X(e,i)&&!X(t,i)&&mt(e[i])&&(r[i]=lt({},r[i]));return r}function Xi(e){e!=null&&this.set(e)}var fi;Object.keys?fi=Object.keys:fi=function(e){var t,r=[];for(t in e)X(e,t)&&r.push(t);return r};var ju={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function zu(e,t,r){var i=this._calendar[e]||this._calendar.sameElse;return Ge(i)?i.call(t,r):i}function Ye(e,t,r){var i=""+Math.abs(e),a=t-i.length,n=e>=0;return(n?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var ea=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$n={},Ut={};function W(e,t,r,i){var a=i;typeof i=="string"&&(a=function(){return this[i]()}),e&&(Ut[e]=a),t&&(Ut[t[0]]=function(){return Ye(a.apply(this,arguments),t[1],t[2])}),r&&(Ut[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function Ku(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Zu(e){var t=e.match(ea),r,i;for(r=0,i=t.length;r<i;r++)Ut[t[r]]?t[r]=Ut[t[r]]:t[r]=Ku(t[r]);return function(a){var n="",s;for(s=0;s<i;s++)n+=Ge(t[s])?t[s].call(a,e):t[s];return n}}function Vr(e,t){return e.isValid()?(t=vo(t,e.localeData()),$n[t]=$n[t]||Zu(t),$n[t](e)):e.localeData().invalidDate()}function vo(e,t){var r=5;function i(a){return t.longDateFormat(a)||a}for(Nr.lastIndex=0;r>=0&&Nr.test(e);)e=e.replace(Nr,i),Nr.lastIndex=0,r-=1;return e}var Ju={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function qu(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(ea).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var Qu="Invalid date";function Xu(){return this._invalidDate}var ec="%d",tc=/\d{1,2}/;function rc(e){return this._ordinal.replace("%d",e)}var nc={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ic(e,t,r,i){var a=this._relativeTime[r];return Ge(a)?a(e,t,r,i):a.replace(/%d/i,e)}function ac(e,t){var r=this._relativeTime[e>0?"future":"past"];return Ge(r)?r(t):r.replace(/%s/i,t)}var Qa={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Pe(e){return typeof e=="string"?Qa[e]||Qa[e.toLowerCase()]:void 0}function ta(e){var t={},r,i;for(i in e)X(e,i)&&(r=Pe(i),r&&(t[r]=e[i]));return t}var sc={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function oc(e){var t=[],r;for(r in e)X(e,r)&&t.push({unit:r,priority:sc[r]});return t.sort(function(i,a){return i.priority-a.priority}),t}var po=/\d/,Ce=/\d\d/,yo=/\d{3}/,ra=/\d{4}/,pn=/[+-]?\d{6}/,le=/\d\d?/,mo=/\d\d\d\d?/,go=/\d\d\d\d\d\d?/,yn=/\d{1,3}/,na=/\d{1,4}/,mn=/[+-]?\d{1,6}/,Zt=/\d+/,gn=/[+-]?\d+/,lc=/Z|[+-]\d\d:?\d\d/gi,Sn=/Z|[+-]\d\d(?::?\d\d)?/gi,uc=/[+-]?\d+(\.\d{1,3})?/,Cr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Jt=/^[1-9]\d?/,ia=/^([1-9]\d|\d)/,qr;qr={};function F(e,t,r){qr[e]=Ge(t)?t:function(i,a){return i&&r?r:t}}function cc(e,t){return X(qr,e)?qr[e](t._strict,t._locale):new RegExp(fc(e))}function fc(e){return Qe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,i,a,n){return r||i||a||n}))}function Qe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ae(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function K(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Ae(t)),r}var hi={};function ie(e,t){var r,i=t,a;for(typeof e=="string"&&(e=[e]),tt(t)&&(i=function(n,s){s[t]=K(n)}),a=e.length,r=0;r<a;r++)hi[e[r]]=i}function br(e,t){ie(e,function(r,i,a,n){a._w=a._w||{},t(r,a._w,a,n)})}function hc(e,t,r){t!=null&&X(hi,e)&&hi[e](t,r._a,r,e)}function _n(e){return e%4===0&&e%100!==0||e%400===0}var we=0,Je=1,We=2,ye=3,Ne=4,qe=5,yt=6,dc=7,vc=8;W("Y",0,0,function(){var e=this.year();return e<=9999?Ye(e,4):"+"+e});W(0,["YY",2],0,function(){return this.year()%100});W(0,["YYYY",4],0,"year");W(0,["YYYYY",5],0,"year");W(0,["YYYYYY",6,!0],0,"year");F("Y",gn);F("YY",le,Ce);F("YYYY",na,ra);F("YYYYY",mn,pn);F("YYYYYY",mn,pn);ie(["YYYYY","YYYYYY"],we);ie("YYYY",function(e,t){t[we]=e.length===2?k.parseTwoDigitYear(e):K(e)});ie("YY",function(e,t){t[we]=k.parseTwoDigitYear(e)});ie("Y",function(e,t){t[we]=parseInt(e,10)});function ur(e){return _n(e)?366:365}k.parseTwoDigitYear=function(e){return K(e)+(K(e)>68?1900:2e3)};var So=qt("FullYear",!0);function pc(){return _n(this.year())}function qt(e,t){return function(r){return r!=null?(_o(this,e,r),k.updateOffset(this,t),this):yr(this,e)}}function yr(e,t){if(!e.isValid())return NaN;var r=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return i?r.getUTCSeconds():r.getSeconds();case"Minutes":return i?r.getUTCMinutes():r.getMinutes();case"Hours":return i?r.getUTCHours():r.getHours();case"Date":return i?r.getUTCDate():r.getDate();case"Day":return i?r.getUTCDay():r.getDay();case"Month":return i?r.getUTCMonth():r.getMonth();case"FullYear":return i?r.getUTCFullYear():r.getFullYear();default:return NaN}}function _o(e,t,r){var i,a,n,s,u;if(!(!e.isValid()||isNaN(r))){switch(i=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?i.setUTCMilliseconds(r):i.setMilliseconds(r));case"Seconds":return void(a?i.setUTCSeconds(r):i.setSeconds(r));case"Minutes":return void(a?i.setUTCMinutes(r):i.setMinutes(r));case"Hours":return void(a?i.setUTCHours(r):i.setHours(r));case"Date":return void(a?i.setUTCDate(r):i.setDate(r));case"FullYear":break;default:return}n=r,s=e.month(),u=e.date(),u=u===29&&s===1&&!_n(n)?28:u,a?i.setUTCFullYear(n,s,u):i.setFullYear(n,s,u)}}function yc(e){return e=Pe(e),Ge(this[e])?this[e]():this}function mc(e,t){if(typeof e=="object"){e=ta(e);var r=oc(e),i,a=r.length;for(i=0;i<a;i++)this[r[i].unit](e[r[i].unit])}else if(e=Pe(e),Ge(this[e]))return this[e](t);return this}function gc(e,t){return(e%t+t)%t}var he;Array.prototype.indexOf?he=Array.prototype.indexOf:he=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function aa(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=gc(t,12);return e+=(t-r)/12,r===1?_n(e)?29:28:31-r%7%2}W("M",["MM",2],"Mo",function(){return this.month()+1});W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});W("MMMM",0,0,function(e){return this.localeData().months(this,e)});F("M",le,Jt);F("MM",le,Ce);F("MMM",function(e,t){return t.monthsShortRegex(e)});F("MMMM",function(e,t){return t.monthsRegex(e)});ie(["M","MM"],function(e,t){t[Je]=K(e)-1});ie(["MMM","MMMM"],function(e,t,r,i){var a=r._locale.monthsParse(e,i,r._strict);a!=null?t[Je]=a:V(r).invalidMonth=e});var Sc="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_c=Cr,xc=Cr;function Oc(e,t){return e?Le(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oo).test(t)?"format":"standalone"][e.month()]:Le(this._months)?this._months:this._months.standalone}function wc(e,t){return e?Le(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oo.test(t)?"format":"standalone"][e.month()]:Le(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ec(e,t,r){var i,a,n,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)n=He([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(n,"").toLocaleLowerCase();return r?t==="MMM"?(a=he.call(this._shortMonthsParse,s),a!==-1?a:null):(a=he.call(this._longMonthsParse,s),a!==-1?a:null):t==="MMM"?(a=he.call(this._shortMonthsParse,s),a!==-1?a:(a=he.call(this._longMonthsParse,s),a!==-1?a:null)):(a=he.call(this._longMonthsParse,s),a!==-1?a:(a=he.call(this._shortMonthsParse,s),a!==-1?a:null))}function Tc(e,t,r){var i,a,n;if(this._monthsParseExact)return Ec.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=He([2e3,i]),r&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[i]&&(n="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(n.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(r&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!r&&this._monthsParse[i].test(e))return i}}function wo(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=K(t);else if(t=e.localeData().monthsParse(t),!tt(t))return e}var r=t,i=e.date();return i=i<29?i:Math.min(i,aa(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,i):e._d.setMonth(r,i),e}function Eo(e){return e!=null?(wo(this,e),k.updateOffset(this,!0),this):yr(this,"Month")}function Cc(){return aa(this.year(),this.month())}function bc(e){return this._monthsParseExact?(X(this,"_monthsRegex")||To.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(X(this,"_monthsShortRegex")||(this._monthsShortRegex=_c),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ac(e){return this._monthsParseExact?(X(this,"_monthsRegex")||To.call(this),e?this._monthsStrictRegex:this._monthsRegex):(X(this,"_monthsRegex")||(this._monthsRegex=xc),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function To(){function e(l,f){return f.length-l.length}var t=[],r=[],i=[],a,n,s,u;for(a=0;a<12;a++)n=He([2e3,a]),s=Qe(this.monthsShort(n,"")),u=Qe(this.months(n,"")),t.push(s),r.push(u),i.push(u),i.push(s);t.sort(e),r.sort(e),i.sort(e),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ic(e,t,r,i,a,n,s){var u;return e<100&&e>=0?(u=new Date(e+400,t,r,i,a,n,s),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,r,i,a,n,s),u}function mr(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qr(e,t,r){var i=7+t-r,a=(7+mr(e,0,i).getUTCDay()-t)%7;return-a+i-1}function Co(e,t,r,i,a){var n=(7+r-i)%7,s=Qr(e,i,a),u=1+7*(t-1)+n+s,l,f;return u<=0?(l=e-1,f=ur(l)+u):u>ur(e)?(l=e+1,f=u-ur(e)):(l=e,f=u),{year:l,dayOfYear:f}}function gr(e,t,r){var i=Qr(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1,n,s;return a<1?(s=e.year()-1,n=a+Xe(s,t,r)):a>Xe(e.year(),t,r)?(n=a-Xe(e.year(),t,r),s=e.year()+1):(s=e.year(),n=a),{week:n,year:s}}function Xe(e,t,r){var i=Qr(e,t,r),a=Qr(e+1,t,r);return(ur(e)-i+a)/7}W("w",["ww",2],"wo","week");W("W",["WW",2],"Wo","isoWeek");F("w",le,Jt);F("ww",le,Ce);F("W",le,Jt);F("WW",le,Ce);br(["w","ww","W","WW"],function(e,t,r,i){t[i.substr(0,1)]=K(e)});function Mc(e){return gr(e,this._week.dow,this._week.doy).week}var Pc={dow:0,doy:6};function Rc(){return this._week.dow}function Dc(){return this._week.doy}function Nc(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Lc(e){var t=gr(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}W("d",0,"do","day");W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});W("e",0,0,"weekday");W("E",0,0,"isoWeekday");F("d",le);F("e",le);F("E",le);F("dd",function(e,t){return t.weekdaysMinRegex(e)});F("ddd",function(e,t){return t.weekdaysShortRegex(e)});F("dddd",function(e,t){return t.weekdaysRegex(e)});br(["dd","ddd","dddd"],function(e,t,r,i){var a=r._locale.weekdaysParse(e,i,r._strict);a!=null?t.d=a:V(r).invalidWeekday=e});br(["d","e","E"],function(e,t,r,i){t[i]=K(e)});function kc(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Fc(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function sa(e,t){return e.slice(t,7).concat(e.slice(0,t))}var $c="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Uc="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Wc=Cr,Bc=Cr,Yc=Cr;function Hc(e,t){var r=Le(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?sa(r,this._week.dow):e?r[e.day()]:r}function Gc(e){return e===!0?sa(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vc(e){return e===!0?sa(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function jc(e,t,r){var i,a,n,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)n=He([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(n,"").toLocaleLowerCase();return r?t==="dddd"?(a=he.call(this._weekdaysParse,s),a!==-1?a:null):t==="ddd"?(a=he.call(this._shortWeekdaysParse,s),a!==-1?a:null):(a=he.call(this._minWeekdaysParse,s),a!==-1?a:null):t==="dddd"?(a=he.call(this._weekdaysParse,s),a!==-1||(a=he.call(this._shortWeekdaysParse,s),a!==-1)?a:(a=he.call(this._minWeekdaysParse,s),a!==-1?a:null)):t==="ddd"?(a=he.call(this._shortWeekdaysParse,s),a!==-1||(a=he.call(this._weekdaysParse,s),a!==-1)?a:(a=he.call(this._minWeekdaysParse,s),a!==-1?a:null)):(a=he.call(this._minWeekdaysParse,s),a!==-1||(a=he.call(this._weekdaysParse,s),a!==-1)?a:(a=he.call(this._shortWeekdaysParse,s),a!==-1?a:null))}function zc(e,t,r){var i,a,n;if(this._weekdaysParseExact)return jc.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=He([2e3,1]).day(i),r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(r&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(r&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}}function Kc(e){if(!this.isValid())return e!=null?this:NaN;var t=yr(this,"Day");return e!=null?(e=kc(e,this.localeData()),this.add(e-t,"d")):t}function Zc(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Jc(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Fc(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function qc(e){return this._weekdaysParseExact?(X(this,"_weekdaysRegex")||oa.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(X(this,"_weekdaysRegex")||(this._weekdaysRegex=Wc),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qc(e){return this._weekdaysParseExact?(X(this,"_weekdaysRegex")||oa.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(X(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bc),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xc(e){return this._weekdaysParseExact?(X(this,"_weekdaysRegex")||oa.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(X(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yc),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function oa(){function e(c,v){return v.length-c.length}var t=[],r=[],i=[],a=[],n,s,u,l,f;for(n=0;n<7;n++)s=He([2e3,1]).day(n),u=Qe(this.weekdaysMin(s,"")),l=Qe(this.weekdaysShort(s,"")),f=Qe(this.weekdays(s,"")),t.push(u),r.push(l),i.push(f),a.push(u),a.push(l),a.push(f);t.sort(e),r.sort(e),i.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function la(){return this.hours()%12||12}function ef(){return this.hours()||24}W("H",["HH",2],0,"hour");W("h",["hh",2],0,la);W("k",["kk",2],0,ef);W("hmm",0,0,function(){return""+la.apply(this)+Ye(this.minutes(),2)});W("hmmss",0,0,function(){return""+la.apply(this)+Ye(this.minutes(),2)+Ye(this.seconds(),2)});W("Hmm",0,0,function(){return""+this.hours()+Ye(this.minutes(),2)});W("Hmmss",0,0,function(){return""+this.hours()+Ye(this.minutes(),2)+Ye(this.seconds(),2)});function Ao(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Ao("a",!0);Ao("A",!1);function Io(e,t){return t._meridiemParse}F("a",Io);F("A",Io);F("H",le,ia);F("h",le,Jt);F("k",le,Jt);F("HH",le,Ce);F("hh",le,Ce);F("kk",le,Ce);F("hmm",mo);F("hmmss",go);F("Hmm",mo);F("Hmmss",go);ie(["H","HH"],ye);ie(["k","kk"],function(e,t,r){var i=K(e);t[ye]=i===24?0:i});ie(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});ie(["h","hh"],function(e,t,r){t[ye]=K(e),V(r).bigHour=!0});ie("hmm",function(e,t,r){var i=e.length-2;t[ye]=K(e.substr(0,i)),t[Ne]=K(e.substr(i)),V(r).bigHour=!0});ie("hmmss",function(e,t,r){var i=e.length-4,a=e.length-2;t[ye]=K(e.substr(0,i)),t[Ne]=K(e.substr(i,2)),t[qe]=K(e.substr(a)),V(r).bigHour=!0});ie("Hmm",function(e,t,r){var i=e.length-2;t[ye]=K(e.substr(0,i)),t[Ne]=K(e.substr(i))});ie("Hmmss",function(e,t,r){var i=e.length-4,a=e.length-2;t[ye]=K(e.substr(0,i)),t[Ne]=K(e.substr(i,2)),t[qe]=K(e.substr(a))});function tf(e){return(e+"").toLowerCase().charAt(0)==="p"}var rf=/[ap]\.?m?\.?/i,nf=qt("Hours",!0);function af(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var Mo={calendar:ju,longDateFormat:Ju,invalidDate:Qu,ordinal:ec,dayOfMonthOrdinalParse:tc,relativeTime:nc,months:Sc,monthsShort:xo,week:Pc,weekdays:$c,weekdaysMin:Uc,weekdaysShort:bo,meridiemParse:rf},ue={},ar={},Sr;function sf(e,t){var r,i=Math.min(e.length,t.length);for(r=0;r<i;r+=1)if(e[r]!==t[r])return r;return i}function Xa(e){return e&&e.toLowerCase().replace("_","-")}function of(e){for(var t=0,r,i,a,n;t<e.length;){for(n=Xa(e[t]).split("-"),r=n.length,i=Xa(e[t+1]),i=i?i.split("-"):null;r>0;){if(a=xn(n.slice(0,r).join("-")),a)return a;if(i&&i.length>=r&&sf(n,i)>=r-1)break;r--}t++}return Sr}function lf(e){return!!(e&&e.match("^[^/\\\\]*$"))}function xn(e){var t=null,r;if(ue[e]===void 0&&typeof Jr<"u"&&Jr&&Jr.exports&&lf(e))try{t=Sr._abbr,r=require,r("./locale/"+e),ft(t)}catch{ue[e]=null}return ue[e]}function ft(e,t){var r;return e&&(Te(t)?r=rt(e):r=ua(e,t),r?Sr=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Sr._abbr}function ua(e,t){if(t!==null){var r,i=Mo;if(t.abbr=e,ue[e]!=null)ho("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ue[e]._config;else if(t.parentLocale!=null)if(ue[t.parentLocale]!=null)i=ue[t.parentLocale]._config;else if(r=xn(t.parentLocale),r!=null)i=r._config;else return ar[t.parentLocale]||(ar[t.parentLocale]=[]),ar[t.parentLocale].push({name:e,config:t}),null;return ue[e]=new Xi(ci(i,t)),ar[e]&&ar[e].forEach(function(a){ua(a.name,a.config)}),ft(e),ue[e]}else return delete ue[e],null}function uf(e,t){if(t!=null){var r,i,a=Mo;ue[e]!=null&&ue[e].parentLocale!=null?ue[e].set(ci(ue[e]._config,t)):(i=xn(e),i!=null&&(a=i._config),t=ci(a,t),i==null&&(t.abbr=e),r=new Xi(t),r.parentLocale=ue[e],ue[e]=r),ft(e)}else ue[e]!=null&&(ue[e].parentLocale!=null?(ue[e]=ue[e].parentLocale,e===ft()&&ft(e)):ue[e]!=null&&delete ue[e]);return ue[e]}function rt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Sr;if(!Le(e)){if(t=xn(e),t)return t;e=[e]}return of(e)}function cf(){return fi(ue)}function ca(e){var t,r=e._a;return r&&V(e).overflow===-2&&(t=r[Je]<0||r[Je]>11?Je:r[We]<1||r[We]>aa(r[we],r[Je])?We:r[ye]<0||r[ye]>24||r[ye]===24&&(r[Ne]!==0||r[qe]!==0||r[yt]!==0)?ye:r[Ne]<0||r[Ne]>59?Ne:r[qe]<0||r[qe]>59?qe:r[yt]<0||r[yt]>999?yt:-1,V(e)._overflowDayOfYear&&(t<we||t>We)&&(t=We),V(e)._overflowWeeks&&t===-1&&(t=dc),V(e)._overflowWeekday&&t===-1&&(t=vc),V(e).overflow=t),e}var ff=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,df=/Z|[+-]\d\d(?::?\d\d)?/,Lr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Un=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vf=/^\/?Date\((-?\d+)/i,pf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yf={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Po(e){var t,r,i=e._i,a=ff.exec(i)||hf.exec(i),n,s,u,l,f=Lr.length,c=Un.length;if(a){for(V(e).iso=!0,t=0,r=f;t<r;t++)if(Lr[t][1].exec(a[1])){s=Lr[t][0],n=Lr[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(a[3]){for(t=0,r=c;t<r;t++)if(Un[t][1].exec(a[3])){u=(a[2]||" ")+Un[t][0];break}if(u==null){e._isValid=!1;return}}if(!n&&u!=null){e._isValid=!1;return}if(a[4])if(df.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=s+(u||"")+(l||""),ha(e)}else e._isValid=!1}function mf(e,t,r,i,a,n){var s=[gf(e),xo.indexOf(t),parseInt(r,10),parseInt(i,10),parseInt(a,10)];return n&&s.push(parseInt(n,10)),s}function gf(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Sf(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _f(e,t,r){if(e){var i=bo.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(i!==a)return V(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function xf(e,t,r){if(e)return yf[e];if(t)return 0;var i=parseInt(r,10),a=i%100,n=(i-a)/100;return n*60+a}function Ro(e){var t=pf.exec(Sf(e._i)),r;if(t){if(r=mf(t[4],t[3],t[2],t[5],t[6],t[7]),!_f(t[1],r,e))return;e._a=r,e._tzm=xf(t[8],t[9],t[10]),e._d=mr.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),V(e).rfc2822=!0}else e._isValid=!1}function Of(e){var t=vf.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Po(e),e._isValid===!1)delete e._isValid;else return;if(Ro(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:k.createFromInputFallback(e)}k.createFromInputFallback=Me("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Nt(e,t,r){return e??t??r}function wf(e){var t=new Date(k.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function fa(e){var t,r,i=[],a,n,s;if(!e._d){for(a=wf(e),e._w&&e._a[We]==null&&e._a[Je]==null&&Ef(e),e._dayOfYear!=null&&(s=Nt(e._a[we],a[we]),(e._dayOfYear>ur(s)||e._dayOfYear===0)&&(V(e)._overflowDayOfYear=!0),r=mr(s,0,e._dayOfYear),e._a[Je]=r.getUTCMonth(),e._a[We]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=a[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ye]===24&&e._a[Ne]===0&&e._a[qe]===0&&e._a[yt]===0&&(e._nextDay=!0,e._a[ye]=0),e._d=(e._useUTC?mr:Ic).apply(null,i),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ye]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==n&&(V(e).weekdayMismatch=!0)}}function Ef(e){var t,r,i,a,n,s,u,l,f;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(n=1,s=4,r=Nt(t.GG,e._a[we],gr(se(),1,4).year),i=Nt(t.W,1),a=Nt(t.E,1),(a<1||a>7)&&(l=!0)):(n=e._locale._week.dow,s=e._locale._week.doy,f=gr(se(),n,s),r=Nt(t.gg,e._a[we],f.year),i=Nt(t.w,f.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+n,(t.e<0||t.e>6)&&(l=!0)):a=n),i<1||i>Xe(r,n,s)?V(e)._overflowWeeks=!0:l!=null?V(e)._overflowWeekday=!0:(u=Co(r,i,a,n,s),e._a[we]=u.year,e._dayOfYear=u.dayOfYear)}k.ISO_8601=function(){};k.RFC_2822=function(){};function ha(e){if(e._f===k.ISO_8601){Po(e);return}if(e._f===k.RFC_2822){Ro(e);return}e._a=[],V(e).empty=!0;var t=""+e._i,r,i,a,n,s,u=t.length,l=0,f,c;for(a=vo(e._f,e._locale).match(ea)||[],c=a.length,r=0;r<c;r++)n=a[r],i=(t.match(cc(n,e))||[])[0],i&&(s=t.substr(0,t.indexOf(i)),s.length>0&&V(e).unusedInput.push(s),t=t.slice(t.indexOf(i)+i.length),l+=i.length),Ut[n]?(i?V(e).empty=!1:V(e).unusedTokens.push(n),hc(n,i,e)):e._strict&&!i&&V(e).unusedTokens.push(n);V(e).charsLeftOver=u-l,t.length>0&&V(e).unusedInput.push(t),e._a[ye]<=12&&V(e).bigHour===!0&&e._a[ye]>0&&(V(e).bigHour=void 0),V(e).parsedDateParts=e._a.slice(0),V(e).meridiem=e._meridiem,e._a[ye]=Tf(e._locale,e._a[ye],e._meridiem),f=V(e).era,f!==null&&(e._a[we]=e._locale.erasConvertYear(f,e._a[we])),fa(e),ca(e)}function Tf(e,t,r){var i;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(i=e.isPM(r),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function Cf(e){var t,r,i,a,n,s,u=!1,l=e._f.length;if(l===0){V(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)n=0,s=!1,t=Qi({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],ha(t),qi(t)&&(s=!0),n+=V(t).charsLeftOver,n+=V(t).unusedTokens.length*10,V(t).score=n,u?n<i&&(i=n,r=t):(i==null||n<i||s)&&(i=n,r=t,s&&(u=!0));lt(e,r||t)}function bf(e){if(!e._d){var t=ta(e._i),r=t.day===void 0?t.date:t.day;e._a=co([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),fa(e)}}function Af(e){var t=new Tr(ca(Do(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Do(e){var t=e._i,r=e._f;return e._locale=e._locale||rt(e._l),t===null||r===void 0&&t===""?vn({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ke(t)?new Tr(ca(t)):(Er(t)?e._d=t:Le(r)?Cf(e):r?ha(e):If(e),qi(e)||(e._d=null),e))}function If(e){var t=e._i;Te(t)?e._d=new Date(k.now()):Er(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Of(e):Le(t)?(e._a=co(t.slice(0),function(r){return parseInt(r,10)}),fa(e)):mt(t)?bf(e):tt(t)?e._d=new Date(t):k.createFromInputFallback(e)}function No(e,t,r,i,a){var n={};return(t===!0||t===!1)&&(i=t,t=void 0),(r===!0||r===!1)&&(i=r,r=void 0),(mt(e)&&Ji(e)||Le(e)&&e.length===0)&&(e=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=a,n._l=r,n._i=e,n._f=t,n._strict=i,Af(n)}function se(e,t,r,i){return No(e,t,r,i,!1)}var Mf=Me("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=se.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:vn()}),Pf=Me("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=se.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:vn()});function Lo(e,t){var r,i;if(t.length===1&&Le(t[0])&&(t=t[0]),!t.length)return se();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function Rf(){var e=[].slice.call(arguments,0);return Lo("isBefore",e)}function Df(){var e=[].slice.call(arguments,0);return Lo("isAfter",e)}var Nf=function(){return Date.now?Date.now():+new Date},sr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Lf(e){var t,r=!1,i,a=sr.length;for(t in e)if(X(e,t)&&!(he.call(sr,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<a;++i)if(e[sr[i]]){if(r)return!1;parseFloat(e[sr[i]])!==K(e[sr[i]])&&(r=!0)}return!0}function kf(){return this._isValid}function Ff(){return Fe(NaN)}function On(e){var t=ta(e),r=t.year||0,i=t.quarter||0,a=t.month||0,n=t.week||t.isoWeek||0,s=t.day||0,u=t.hour||0,l=t.minute||0,f=t.second||0,c=t.millisecond||0;this._isValid=Lf(t),this._milliseconds=+c+f*1e3+l*6e4+u*1e3*60*60,this._days=+s+n*7,this._months=+a+i*3+r*12,this._data={},this._locale=rt(),this._bubble()}function jr(e){return e instanceof On}function di(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function $f(e,t,r){var i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),n=0,s;for(s=0;s<i;s++)(r&&e[s]!==t[s]||!r&&K(e[s])!==K(t[s]))&&n++;return n+a}function ko(e,t){W(e,0,0,function(){var r=this.utcOffset(),i="+";return r<0&&(r=-r,i="-"),i+Ye(~~(r/60),2)+t+Ye(~~r%60,2)})}ko("Z",":");ko("ZZ","");F("Z",Sn);F("ZZ",Sn);ie(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=da(Sn,e)});var Uf=/([\+\-]|\d\d)/gi;function da(e,t){var r=(t||"").match(e),i,a,n;return r===null?null:(i=r[r.length-1]||[],a=(i+"").match(Uf)||["-",0,0],n=+(a[1]*60)+K(a[2]),n===0?0:a[0]==="+"?n:-n)}function va(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(ke(e)||Er(e)?e.valueOf():se(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),k.updateOffset(r,!1),r):se(e).local()}function vi(e){return-Math.round(e._d.getTimezoneOffset())}k.updateOffset=function(){};function Wf(e,t,r){var i=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=da(Sn,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=vi(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),i!==e&&(!t||this._changeInProgress?Uo(this,Fe(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,k.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:vi(this)}function Bf(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Yf(e){return this.utcOffset(0,e)}function Hf(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(vi(this),"m")),this}function Gf(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=da(lc,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Vf(e){return this.isValid()?(e=e?se(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function jf(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zf(){if(!Te(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Qi(e,this),e=Do(e),e._a?(t=e._isUTC?He(e._a):se(e._a),this._isDSTShifted=this.isValid()&&$f(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Kf(){return this.isValid()?!this._isUTC:!1}function Zf(){return this.isValid()?this._isUTC:!1}function Fo(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Jf=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,qf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fe(e,t){var r=e,i=null,a,n,s;return jr(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:tt(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(i=Jf.exec(e))?(a=i[1]==="-"?-1:1,r={y:0,d:K(i[We])*a,h:K(i[ye])*a,m:K(i[Ne])*a,s:K(i[qe])*a,ms:K(di(i[yt]*1e3))*a}):(i=qf.exec(e))?(a=i[1]==="-"?-1:1,r={y:dt(i[2],a),M:dt(i[3],a),w:dt(i[4],a),d:dt(i[5],a),h:dt(i[6],a),m:dt(i[7],a),s:dt(i[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=Qf(se(r.from),se(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),n=new On(r),jr(e)&&X(e,"_locale")&&(n._locale=e._locale),jr(e)&&X(e,"_isValid")&&(n._isValid=e._isValid),n}Fe.fn=On.prototype;Fe.invalid=Ff;function dt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function es(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Qf(e,t){var r;return e.isValid()&&t.isValid()?(t=va(t,e),e.isBefore(t)?r=es(e,t):(r=es(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function $o(e,t){return function(r,i){var a,n;return i!==null&&!isNaN(+i)&&(ho(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=i,i=n),a=Fe(r,i),Uo(this,a,e),this}}function Uo(e,t,r,i){var a=t._milliseconds,n=di(t._days),s=di(t._months);e.isValid()&&(i=i??!0,s&&wo(e,yr(e,"Month")+s*r),n&&_o(e,"Date",yr(e,"Date")+n*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&k.updateOffset(e,n||s))}var Xf=$o(1,"add"),eh=$o(-1,"subtract");function Wo(e){return typeof e=="string"||e instanceof String}function th(e){return ke(e)||Er(e)||Wo(e)||tt(e)||nh(e)||rh(e)||e===null||e===void 0}function rh(e){var t=mt(e)&&!Ji(e),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,n,s=i.length;for(a=0;a<s;a+=1)n=i[a],r=r||X(e,n);return t&&r}function nh(e){var t=Le(e),r=!1;return t&&(r=e.filter(function(i){return!tt(i)&&Wo(e)}).length===0),t&&r}function ih(e){var t=mt(e)&&!Ji(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,n;for(a=0;a<i.length;a+=1)n=i[a],r=r||X(e,n);return t&&r}function ah(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function sh(e,t){arguments.length===1&&(arguments[0]?th(arguments[0])?(e=arguments[0],t=void 0):ih(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||se(),i=va(r,this).startOf("day"),a=k.calendarFormat(this,i)||"sameElse",n=t&&(Ge(t[a])?t[a].call(this,r):t[a]);return this.format(n||this.localeData().calendar(a,this,se(r)))}function oh(){return new Tr(this)}function lh(e,t){var r=ke(e)?e:se(e);return this.isValid()&&r.isValid()?(t=Pe(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function uh(e,t){var r=ke(e)?e:se(e);return this.isValid()&&r.isValid()?(t=Pe(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function ch(e,t,r,i){var a=ke(e)?e:se(e),n=ke(t)?t:se(t);return this.isValid()&&a.isValid()&&n.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(i[1]===")"?this.isBefore(n,r):!this.isAfter(n,r))):!1}function fh(e,t){var r=ke(e)?e:se(e),i;return this.isValid()&&r.isValid()?(t=Pe(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function hh(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function dh(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function vh(e,t,r){var i,a,n;if(!this.isValid())return NaN;if(i=va(e,this),!i.isValid())return NaN;switch(a=(i.utcOffset()-this.utcOffset())*6e4,t=Pe(t),t){case"year":n=zr(this,i)/12;break;case"month":n=zr(this,i);break;case"quarter":n=zr(this,i)/3;break;case"second":n=(this-i)/1e3;break;case"minute":n=(this-i)/6e4;break;case"hour":n=(this-i)/36e5;break;case"day":n=(this-i-a)/864e5;break;case"week":n=(this-i-a)/6048e5;break;default:n=this-i}return r?n:Ae(n)}function zr(e,t){if(e.date()<t.date())return-zr(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(r,"months"),a,n;return t-i<0?(a=e.clone().add(r-1,"months"),n=(t-i)/(i-a)):(a=e.clone().add(r+1,"months"),n=(t-i)/(a-i)),-(r+n)||0}k.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";k.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ph(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yh(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Vr(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ge(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Vr(r,"Z")):Vr(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mh(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,i,a,n;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",n=t+'[")]',this.format(r+i+a+n)}function gh(e){e||(e=this.isUtc()?k.defaultFormatUtc:k.defaultFormat);var t=Vr(this,e);return this.localeData().postformat(t)}function Sh(e,t){return this.isValid()&&(ke(e)&&e.isValid()||se(e).isValid())?Fe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _h(e){return this.from(se(),e)}function xh(e,t){return this.isValid()&&(ke(e)&&e.isValid()||se(e).isValid())?Fe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Oh(e){return this.to(se(),e)}function Bo(e){var t;return e===void 0?this._locale._abbr:(t=rt(e),t!=null&&(this._locale=t),this)}var Yo=Me("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ho(){return this._locale}var Xr=1e3,Wt=60*Xr,en=60*Wt,Go=(365*400+97)*24*en;function Bt(e,t){return(e%t+t)%t}function Vo(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Go:new Date(e,t,r).valueOf()}function jo(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Go:Date.UTC(e,t,r)}function wh(e){var t,r;if(e=Pe(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?jo:Vo,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Bt(t+(this._isUTC?0:this.utcOffset()*Wt),en);break;case"minute":t=this._d.valueOf(),t-=Bt(t,Wt);break;case"second":t=this._d.valueOf(),t-=Bt(t,Xr);break}return this._d.setTime(t),k.updateOffset(this,!0),this}function Eh(e){var t,r;if(e=Pe(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?jo:Vo,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=en-Bt(t+(this._isUTC?0:this.utcOffset()*Wt),en)-1;break;case"minute":t=this._d.valueOf(),t+=Wt-Bt(t,Wt)-1;break;case"second":t=this._d.valueOf(),t+=Xr-Bt(t,Xr)-1;break}return this._d.setTime(t),k.updateOffset(this,!0),this}function Th(){return this._d.valueOf()-(this._offset||0)*6e4}function Ch(){return Math.floor(this.valueOf()/1e3)}function bh(){return new Date(this.valueOf())}function Ah(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ih(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mh(){return this.isValid()?this.toISOString():null}function Ph(){return qi(this)}function Rh(){return lt({},V(this))}function Dh(){return V(this).overflow}function Nh(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}W("N",0,0,"eraAbbr");W("NN",0,0,"eraAbbr");W("NNN",0,0,"eraAbbr");W("NNNN",0,0,"eraName");W("NNNNN",0,0,"eraNarrow");W("y",["y",1],"yo","eraYear");W("y",["yy",2],0,"eraYear");W("y",["yyy",3],0,"eraYear");W("y",["yyyy",4],0,"eraYear");F("N",pa);F("NN",pa);F("NNN",pa);F("NNNN",Vh);F("NNNNN",jh);ie(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,i){var a=r._locale.erasParse(e,i,r._strict);a?V(r).era=a:V(r).invalidEra=e});F("y",Zt);F("yy",Zt);F("yyy",Zt);F("yyyy",Zt);F("yo",zh);ie(["y","yy","yyy","yyyy"],we);ie(["yo"],function(e,t,r,i){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[we]=r._locale.eraYearOrdinalParse(e,a):t[we]=parseInt(e,10)});function Lh(e,t){var r,i,a,n=this._eras||rt("en")._eras;for(r=0,i=n.length;r<i;++r){switch(typeof n[r].since){case"string":a=k(n[r].since).startOf("day"),n[r].since=a.valueOf();break}switch(typeof n[r].until){case"undefined":n[r].until=1/0;break;case"string":a=k(n[r].until).startOf("day").valueOf(),n[r].until=a.valueOf();break}}return n}function kh(e,t,r){var i,a,n=this.eras(),s,u,l;for(e=e.toUpperCase(),i=0,a=n.length;i<a;++i)if(s=n[i].name.toUpperCase(),u=n[i].abbr.toUpperCase(),l=n[i].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(u===e)return n[i];break;case"NNNN":if(s===e)return n[i];break;case"NNNNN":if(l===e)return n[i];break}else if([s,u,l].indexOf(e)>=0)return n[i]}function Fh(e,t){var r=e.since<=e.until?1:-1;return t===void 0?k(e.since).year():k(e.since).year()+(t-e.offset)*r}function $h(){var e,t,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return i[e].name;return""}function Uh(){var e,t,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return i[e].narrow;return""}function Wh(){var e,t,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return i[e].abbr;return""}function Bh(){var e,t,r,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-k(a[e].since).year())*r+a[e].offset;return this.year()}function Yh(e){return X(this,"_erasNameRegex")||ya.call(this),e?this._erasNameRegex:this._erasRegex}function Hh(e){return X(this,"_erasAbbrRegex")||ya.call(this),e?this._erasAbbrRegex:this._erasRegex}function Gh(e){return X(this,"_erasNarrowRegex")||ya.call(this),e?this._erasNarrowRegex:this._erasRegex}function pa(e,t){return t.erasAbbrRegex(e)}function Vh(e,t){return t.erasNameRegex(e)}function jh(e,t){return t.erasNarrowRegex(e)}function zh(e,t){return t._eraYearOrdinalRegex||Zt}function ya(){var e=[],t=[],r=[],i=[],a,n,s,u,l,f=this.eras();for(a=0,n=f.length;a<n;++a)s=Qe(f[a].name),u=Qe(f[a].abbr),l=Qe(f[a].narrow),t.push(s),e.push(u),r.push(l),i.push(s),i.push(u),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}W(0,["gg",2],0,function(){return this.weekYear()%100});W(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wn(e,t){W(0,[e,e.length],0,t)}wn("gggg","weekYear");wn("ggggg","weekYear");wn("GGGG","isoWeekYear");wn("GGGGG","isoWeekYear");F("G",gn);F("g",gn);F("GG",le,Ce);F("gg",le,Ce);F("GGGG",na,ra);F("gggg",na,ra);F("GGGGG",mn,pn);F("ggggg",mn,pn);br(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,i){t[i.substr(0,2)]=K(e)});br(["gg","GG"],function(e,t,r,i){t[i]=k.parseTwoDigitYear(e)});function Kh(e){return zo.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Zh(e){return zo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Jh(){return Xe(this.year(),1,4)}function qh(){return Xe(this.isoWeekYear(),1,4)}function Qh(){var e=this.localeData()._week;return Xe(this.year(),e.dow,e.doy)}function Xh(){var e=this.localeData()._week;return Xe(this.weekYear(),e.dow,e.doy)}function zo(e,t,r,i,a){var n;return e==null?gr(this,i,a).year:(n=Xe(e,i,a),t>n&&(t=n),ed.call(this,e,t,r,i,a))}function ed(e,t,r,i,a){var n=Co(e,t,r,i,a),s=mr(n.year,0,n.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}W("Q",0,"Qo","quarter");F("Q",po);ie("Q",function(e,t){t[Je]=(K(e)-1)*3});function td(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}W("D",["DD",2],"Do","date");F("D",le,Jt);F("DD",le,Ce);F("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ie(["D","DD"],We);ie("Do",function(e,t){t[We]=K(e.match(le)[0])});var Ko=qt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear");F("DDD",yn);F("DDDD",yo);ie(["DDD","DDDD"],function(e,t,r){r._dayOfYear=K(e)});function rd(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}W("m",["mm",2],0,"minute");F("m",le,ia);F("mm",le,Ce);ie(["m","mm"],Ne);var nd=qt("Minutes",!1);W("s",["ss",2],0,"second");F("s",le,ia);F("ss",le,Ce);ie(["s","ss"],qe);var id=qt("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)});W(0,["SS",2],0,function(){return~~(this.millisecond()/10)});W(0,["SSS",3],0,"millisecond");W(0,["SSSS",4],0,function(){return this.millisecond()*10});W(0,["SSSSS",5],0,function(){return this.millisecond()*100});W(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});W(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});W(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});W(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});F("S",yn,po);F("SS",yn,Ce);F("SSS",yn,yo);var ut,Zo;for(ut="SSSS";ut.length<=9;ut+="S")F(ut,Zt);function ad(e,t){t[yt]=K(("0."+e)*1e3)}for(ut="S";ut.length<=9;ut+="S")ie(ut,ad);Zo=qt("Milliseconds",!1);W("z",0,0,"zoneAbbr");W("zz",0,0,"zoneName");function sd(){return this._isUTC?"UTC":""}function od(){return this._isUTC?"Coordinated Universal Time":""}var N=Tr.prototype;N.add=Xf;N.calendar=sh;N.clone=oh;N.diff=vh;N.endOf=Eh;N.format=gh;N.from=Sh;N.fromNow=_h;N.to=xh;N.toNow=Oh;N.get=yc;N.invalidAt=Dh;N.isAfter=lh;N.isBefore=uh;N.isBetween=ch;N.isSame=fh;N.isSameOrAfter=hh;N.isSameOrBefore=dh;N.isValid=Ph;N.lang=Yo;N.locale=Bo;N.localeData=Ho;N.max=Pf;N.min=Mf;N.parsingFlags=Rh;N.set=mc;N.startOf=wh;N.subtract=eh;N.toArray=Ah;N.toObject=Ih;N.toDate=bh;N.toISOString=yh;N.inspect=mh;typeof Symbol<"u"&&Symbol.for!=null&&(N[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});N.toJSON=Mh;N.toString=ph;N.unix=Ch;N.valueOf=Th;N.creationData=Nh;N.eraName=$h;N.eraNarrow=Uh;N.eraAbbr=Wh;N.eraYear=Bh;N.year=So;N.isLeapYear=pc;N.weekYear=Kh;N.isoWeekYear=Zh;N.quarter=N.quarters=td;N.month=Eo;N.daysInMonth=Cc;N.week=N.weeks=Nc;N.isoWeek=N.isoWeeks=Lc;N.weeksInYear=Qh;N.weeksInWeekYear=Xh;N.isoWeeksInYear=Jh;N.isoWeeksInISOWeekYear=qh;N.date=Ko;N.day=N.days=Kc;N.weekday=Zc;N.isoWeekday=Jc;N.dayOfYear=rd;N.hour=N.hours=nf;N.minute=N.minutes=nd;N.second=N.seconds=id;N.millisecond=N.milliseconds=Zo;N.utcOffset=Wf;N.utc=Yf;N.local=Hf;N.parseZone=Gf;N.hasAlignedHourOffset=Vf;N.isDST=jf;N.isLocal=Kf;N.isUtcOffset=Zf;N.isUtc=Fo;N.isUTC=Fo;N.zoneAbbr=sd;N.zoneName=od;N.dates=Me("dates accessor is deprecated. Use date instead.",Ko);N.months=Me("months accessor is deprecated. Use month instead",Eo);N.years=Me("years accessor is deprecated. Use year instead",So);N.zone=Me("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bf);N.isDSTShifted=Me("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zf);function ld(e){return se(e*1e3)}function ud(){return se.apply(null,arguments).parseZone()}function Jo(e){return e}var ee=Xi.prototype;ee.calendar=zu;ee.longDateFormat=qu;ee.invalidDate=Xu;ee.ordinal=rc;ee.preparse=Jo;ee.postformat=Jo;ee.relativeTime=ic;ee.pastFuture=ac;ee.set=Vu;ee.eras=Lh;ee.erasParse=kh;ee.erasConvertYear=Fh;ee.erasAbbrRegex=Hh;ee.erasNameRegex=Yh;ee.erasNarrowRegex=Gh;ee.months=Oc;ee.monthsShort=wc;ee.monthsParse=Tc;ee.monthsRegex=Ac;ee.monthsShortRegex=bc;ee.week=Mc;ee.firstDayOfYear=Dc;ee.firstDayOfWeek=Rc;ee.weekdays=Hc;ee.weekdaysMin=Vc;ee.weekdaysShort=Gc;ee.weekdaysParse=zc;ee.weekdaysRegex=qc;ee.weekdaysShortRegex=Qc;ee.weekdaysMinRegex=Xc;ee.isPM=tf;ee.meridiem=af;function tn(e,t,r,i){var a=rt(),n=He().set(i,t);return a[r](n,e)}function qo(e,t,r){if(tt(e)&&(t=e,e=void 0),e=e||"",t!=null)return tn(e,t,r,"month");var i,a=[];for(i=0;i<12;i++)a[i]=tn(e,i,r,"month");return a}function ma(e,t,r,i){typeof e=="boolean"?(tt(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,tt(t)&&(r=t,t=void 0),t=t||"");var a=rt(),n=e?a._week.dow:0,s,u=[];if(r!=null)return tn(t,(r+n)%7,i,"day");for(s=0;s<7;s++)u[s]=tn(t,(s+n)%7,i,"day");return u}function cd(e,t){return qo(e,t,"months")}function fd(e,t){return qo(e,t,"monthsShort")}function hd(e,t,r){return ma(e,t,r,"weekdays")}function dd(e,t,r){return ma(e,t,r,"weekdaysShort")}function vd(e,t,r){return ma(e,t,r,"weekdaysMin")}ft("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=K(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});k.lang=Me("moment.lang is deprecated. Use moment.locale instead.",ft);k.langData=Me("moment.langData is deprecated. Use moment.localeData instead.",rt);var ze=Math.abs;function pd(){var e=this._data;return this._milliseconds=ze(this._milliseconds),this._days=ze(this._days),this._months=ze(this._months),e.milliseconds=ze(e.milliseconds),e.seconds=ze(e.seconds),e.minutes=ze(e.minutes),e.hours=ze(e.hours),e.months=ze(e.months),e.years=ze(e.years),this}function Qo(e,t,r,i){var a=Fe(t,r);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function yd(e,t){return Qo(this,e,t,1)}function md(e,t){return Qo(this,e,t,-1)}function ts(e){return e<0?Math.floor(e):Math.ceil(e)}function gd(){var e=this._milliseconds,t=this._days,r=this._months,i=this._data,a,n,s,u,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=ts(pi(r)+t)*864e5,t=0,r=0),i.milliseconds=e%1e3,a=Ae(e/1e3),i.seconds=a%60,n=Ae(a/60),i.minutes=n%60,s=Ae(n/60),i.hours=s%24,t+=Ae(s/24),l=Ae(Xo(t)),r+=l,t-=ts(pi(l)),u=Ae(r/12),r%=12,i.days=t,i.months=r,i.years=u,this}function Xo(e){return e*4800/146097}function pi(e){return e*146097/4800}function Sd(e){if(!this.isValid())return NaN;var t,r,i=this._milliseconds;if(e=Pe(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,r=this._months+Xo(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(pi(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function nt(e){return function(){return this.as(e)}}var el=nt("ms"),_d=nt("s"),xd=nt("m"),Od=nt("h"),wd=nt("d"),Ed=nt("w"),Td=nt("M"),Cd=nt("Q"),bd=nt("y"),Ad=el;function Id(){return Fe(this)}function Md(e){return e=Pe(e),this.isValid()?this[e+"s"]():NaN}function wt(e){return function(){return this.isValid()?this._data[e]:NaN}}var Pd=wt("milliseconds"),Rd=wt("seconds"),Dd=wt("minutes"),Nd=wt("hours"),Ld=wt("days"),kd=wt("months"),Fd=wt("years");function $d(){return Ae(this.days()/7)}var Ke=Math.round,$t={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ud(e,t,r,i,a){return a.relativeTime(t||1,!!r,e,i)}function Wd(e,t,r,i){var a=Fe(e).abs(),n=Ke(a.as("s")),s=Ke(a.as("m")),u=Ke(a.as("h")),l=Ke(a.as("d")),f=Ke(a.as("M")),c=Ke(a.as("w")),v=Ke(a.as("y")),d=n<=r.ss&&["s",n]||n<r.s&&["ss",n]||s<=1&&["m"]||s<r.m&&["mm",s]||u<=1&&["h"]||u<r.h&&["hh",u]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||f<=1&&["M"]||f<r.M&&["MM",f]||v<=1&&["y"]||["yy",v],d[2]=t,d[3]=+e>0,d[4]=i,Ud.apply(null,d)}function Bd(e){return e===void 0?Ke:typeof e=="function"?(Ke=e,!0):!1}function Yd(e,t){return $t[e]===void 0?!1:t===void 0?$t[e]:($t[e]=t,e==="s"&&($t.ss=t-1),!0)}function Hd(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,i=$t,a,n;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(i=Object.assign({},$t,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),a=this.localeData(),n=Wd(this,!r,i,a),r&&(n=a.pastFuture(+this,n)),a.postformat(n)}var Wn=Math.abs;function At(e){return(e>0)-(e<0)||+e}function En(){if(!this.isValid())return this.localeData().invalidDate();var e=Wn(this._milliseconds)/1e3,t=Wn(this._days),r=Wn(this._months),i,a,n,s,u=this.asSeconds(),l,f,c,v;return u?(i=Ae(e/60),a=Ae(i/60),e%=60,i%=60,n=Ae(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=u<0?"-":"",f=At(this._months)!==At(u)?"-":"",c=At(this._days)!==At(u)?"-":"",v=At(this._milliseconds)!==At(u)?"-":"",l+"P"+(n?f+n+"Y":"")+(r?f+r+"M":"")+(t?c+t+"D":"")+(a||i||e?"T":"")+(a?v+a+"H":"")+(i?v+i+"M":"")+(e?v+s+"S":"")):"P0D"}var q=On.prototype;q.isValid=kf;q.abs=pd;q.add=yd;q.subtract=md;q.as=Sd;q.asMilliseconds=el;q.asSeconds=_d;q.asMinutes=xd;q.asHours=Od;q.asDays=wd;q.asWeeks=Ed;q.asMonths=Td;q.asQuarters=Cd;q.asYears=bd;q.valueOf=Ad;q._bubble=gd;q.clone=Id;q.get=Md;q.milliseconds=Pd;q.seconds=Rd;q.minutes=Dd;q.hours=Nd;q.days=Ld;q.weeks=$d;q.months=kd;q.years=Fd;q.humanize=Hd;q.toISOString=En;q.toString=En;q.toJSON=En;q.locale=Bo;q.localeData=Ho;q.toIsoString=Me("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En);q.lang=Yo;W("X",0,0,"unix");W("x",0,0,"valueOf");F("x",gn);F("X",uc);ie("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});ie("x",function(e,t,r){r._d=new Date(K(e))});//! moment.js
k.version="2.30.1";Hu(se);k.fn=N;k.min=Rf;k.max=Df;k.now=Nf;k.utc=He;k.unix=ld;k.months=cd;k.isDate=Er;k.locale=ft;k.invalid=vn;k.duration=Fe;k.isMoment=ke;k.weekdays=hd;k.parseZone=ud;k.localeData=rt;k.isDuration=jr;k.monthsShort=fd;k.weekdaysMin=vd;k.defineLocale=ua;k.updateLocale=uf;k.locales=cf;k.weekdaysShort=dd;k.normalizeUnits=Pe;k.relativeTimeRounding=Bd;k.relativeTimeThreshold=Yd;k.calendarFormat=ah;k.prototype=N;k.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};class Gd{constructor(){xe(this,"deltaTime",.006);xe(this,"lastTimeStamp",k().valueOf())}logic(){this.deltaTime=(k().valueOf()-this.lastTimeStamp)/1e3,this.deltaTime>.1&&(this.deltaTime=0),this.lastTimeStamp=k().valueOf()}}const rs=new Gd;class Vd{constructor(){xe(this,"collisionBodies",[])}createMap(){this.addRect({x:window.innerWidth/2,y:window.innerHeight+75},window.innerWidth,150,{isStatic:!0}),this.addRect({x:window.innerWidth/2,y:-75},window.innerWidth,150,{isStatic:!0}),this.addRect({x:125,y:window.innerHeight/2},150,window.innerHeight+100,{isStatic:!0}),this.addRect({x:window.innerWidth-125,y:window.innerHeight/2},150,window.innerHeight+100,{isStatic:!0})}addRect(t,r,i,a){const n=_e.Bodies.rectangle(t.x,t.y,r,i,a);return _e.World.add(dn,n),this.collisionBodies.push(n),n}}const jd=new Vd;class zd{constructor(){xe(this,"graphicsDiv",document.querySelector(".graphics"));xe(this,"zoom",0);xe(this,"centerOfBounds",{x:0,y:0})}updateViewportCalculations(){ot.options.width&&(this.zoom=ot.options.width/Math.abs(ot.bounds.min.x-ot.bounds.max.x),this.centerOfBounds=_e.Vector.div(_e.Vector.add(ot.bounds.min,ot.bounds.max),2))}moveDivToPosition(t,r,i,a){const n=_e.Vector.sub(r,this.centerOfBounds);t.style.position="fixed",t.style.transform="translate(-50%, -50%)",i&&(t.style.rotate=`${i}rad`),a&&(n.x+=a.x,n.y+=a.y),t.style.left=`${n.x*this.zoom+window.innerWidth/2}px`,t.style.top=`${n.y*this.zoom+window.innerHeight/2}px`}}const Ot=new zd;class Kd{constructor(t,r,i){xe(this,"username");xe(this,"color");xe(this,"body");this.username=i,this.color=`rgb(${Math.random()*150+105}, ${Math.random()*150+105}, ${Math.random()*150+105})`,console.log(this.color);const a=_e.Body.nextGroup(!0);this.body=_e.Bodies.rectangle(t,r,40,120,{restitution:0,friction:0,collisionFilter:{group:a,category:2,mask:1}})}say(t){const r=document.createElement("div");r.className="textMessage",r.textContent=t,r.style.color=this.color,Ot.graphicsDiv.appendChild(r),Ot.moveDivToPosition(r,this.body.position,0,{x:0,y:-75})}move(t){if(t==="right"){_e.Body.setVelocity(this.body,{x:Math.random()*10,y:this.body.velocity.y});return}_e.Body.setVelocity(this.body,{x:Math.random()*-10,y:this.body.velocity.y})}jump(){const t=_e.Query.collides(this.body,dn.bodies);if(t.pop(),t.length<1)return;let r=!1;for(const i of t)i.normal.y>.5&&(r=!0);r&&_e.Body.setVelocity(this.body,{x:this.body.velocity.x,y:-10})}}class Zd{constructor(){xe(this,"nametags",[]);xe(this,"nametagsMap",new Map)}moveTagsToCharacters(){for(const t of this.nametags){if(!t.textContent)continue;const r=Yt.charactersMap.get(t.textContent);if(!r||!ot.options.width)return;Ot.moveDivToPosition(t,r.body.position,0,{x:0,y:-70})}}newTag(t,r){if(this.nametagsMap.has(t))return;const i=document.createElement("div");i.className="nametag",i.textContent=t,i.style.color=r,Ot.graphicsDiv.appendChild(i),this.nametags.push(i),this.nametagsMap.set(t,i)}removeTag(t){const r=this.nametagsMap.get(t);r&&(this.nametags=this.nametags.filter(i=>i!==r),this.nametagsMap.delete(t),r.remove())}}const Bn=new Zd,ns=["/s1.png","/s2.png","/s3.png","/s4.png","/s5.png","/s6.png","/s7.png","/s8.png","/s9.png","/s10.png"];class Jd{constructor(){xe(this,"sprites",[]);xe(this,"spritesMap",new Map)}moveSpritesToCharacters(){for(const t of this.sprites){if(!t.id)continue;const r=Yt.charactersMap.get(t.id);if(!r||!ot.options.width)return;Ot.moveDivToPosition(t,r.body.position,r.body.angle)}}newSprite(t){if(this.spritesMap.has(t))return;const r=document.createElement("img");r.className="sprite",r.id=t,r.style.width="190px",r.style.height="125px",r.style.transformOrigin="top left",r.src=ns[Math.floor(Math.random()*ns.length)],Ot.graphicsDiv.appendChild(r),this.sprites.push(r),this.spritesMap.set(t,r)}removeSprite(t){const r=this.spritesMap.get(t);r&&(this.sprites=this.sprites.filter(i=>i!==r),this.spritesMap.delete(t),r.remove())}}const Yn=new Jd;class qd{constructor(){xe(this,"characters",[]);xe(this,"charactersMap",new Map)}newCharacter(t){const r=new Kd(window.innerWidth/2,window.innerHeight/2,t);return this.characters.push(r),this.charactersMap.set(r.username,r),_e.World.add(dn,r.body),Bn.newTag(r.username,r.color),Yn.newSprite(r.username),_e.Body.setVelocity(r.body,{x:(Math.random()-.5)*10,y:0}),r}updateCharacters(){Bn.moveTagsToCharacters(),Yn.moveSpritesToCharacters()}removecharacter(t){const r=this.charactersMap.get(t);r&&(_e.World.remove(dn,r.body),Bn.removeTag(r.username),Yn.removeSprite(r.username),this.characters=this.characters.filter(i=>i!==r),this.charactersMap.delete(r.username))}inBetween(){for(const t of this.characters)_e.Body.setAngle(t.body,0)}}const Yt=new qd;var tl={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function a(l,f,c){this.fn=l,this.context=f,this.once=c||!1}function n(l,f,c,v,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var o=new a(c,v||l,d),h=r?r+f:f;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],o]:l._events[h].push(o):(l._events[h]=o,l._eventsCount++),l}function s(l,f){--l._eventsCount===0?l._events=new i:delete l._events[f]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],c,v;if(this._eventsCount===0)return f;for(v in c=this._events)t.call(c,v)&&f.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},u.prototype.listeners=function(f){var c=r?r+f:f,v=this._events[c];if(!v)return[];if(v.fn)return[v.fn];for(var d=0,o=v.length,h=new Array(o);d<o;d++)h[d]=v[d].fn;return h},u.prototype.listenerCount=function(f){var c=r?r+f:f,v=this._events[c];return v?v.fn?1:v.length:0},u.prototype.emit=function(f,c,v,d,o,h){var p=r?r+f:f;if(!this._events[p])return!1;var y=this._events[p],g=arguments.length,w,x;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,v),!0;case 4:return y.fn.call(y.context,c,v,d),!0;case 5:return y.fn.call(y.context,c,v,d,o),!0;case 6:return y.fn.call(y.context,c,v,d,o,h),!0}for(x=1,w=new Array(g-1);x<g;x++)w[x-1]=arguments[x];y.fn.apply(y.context,w)}else{var E=y.length,m;for(x=0;x<E;x++)switch(y[x].once&&this.removeListener(f,y[x].fn,void 0,!0),g){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,c);break;case 3:y[x].fn.call(y[x].context,c,v);break;case 4:y[x].fn.call(y[x].context,c,v,d);break;default:if(!w)for(m=1,w=new Array(g-1);m<g;m++)w[m-1]=arguments[m];y[x].fn.apply(y[x].context,w)}}return!0},u.prototype.on=function(f,c,v){return n(this,f,c,v,!1)},u.prototype.once=function(f,c,v){return n(this,f,c,v,!0)},u.prototype.removeListener=function(f,c,v,d){var o=r?r+f:f;if(!this._events[o])return this;if(!c)return s(this,o),this;var h=this._events[o];if(h.fn)h.fn===c&&(!d||h.once)&&(!v||h.context===v)&&s(this,o);else{for(var p=0,y=[],g=h.length;p<g;p++)(h[p].fn!==c||d&&!h[p].once||v&&h[p].context!==v)&&y.push(h[p]);y.length?this._events[o]=y.length===1?y[0]:y:s(this,o)}return this},u.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&s(this,c)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(tl);var rl=tl.exports;const yi=oe(rl);var Qt={exports:{}},Tn={exports:{}},Qd=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(i=>{i(t())}).then(()=>r),r=>new Promise(i=>{i(t())}).then(()=>{throw r})));const Xd=Qd;class nl extends Error{constructor(t){super(t),this.name="TimeoutError"}}const il=(e,t,r)=>new Promise((i,a)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){i(e);return}const n=setTimeout(()=>{if(typeof r=="function"){try{i(r())}catch(l){a(l)}return}const s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,u=r instanceof Error?r:new nl(s);typeof e.cancel=="function"&&e.cancel(),a(u)},t);Xd(e.then(i,a),()=>{clearTimeout(n)})});Tn.exports=il;Tn.exports.default=il;Tn.exports.TimeoutError=nl;var al=Tn.exports;const sl=al,ev=Symbol.asyncIterator||"@@asyncIterator",ol=e=>{const t=e.on||e.addListener||e.addEventListener,r=e.off||e.removeListener||e.removeEventListener;if(!t||!r)throw new TypeError("Emitter is not compatible");return{addListener:t.bind(e),removeListener:r.bind(e)}},ll=e=>Array.isArray(e)?e:[e],ul=(e,t,r)=>{let i;const a=new Promise((n,s)=>{if(r={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...r},!(r.count>=0&&(r.count===1/0||Number.isInteger(r.count))))throw new TypeError("The `count` option should be at least 0 or more");const u=ll(t),l=[],{addListener:f,removeListener:c}=ol(e),v=(...o)=>{const h=r.multiArgs?o:o[0];r.filter&&!r.filter(h)||(l.push(h),r.count===l.length&&(i(),n(l)))},d=o=>{i(),s(o)};i=()=>{for(const o of u)c(o,v);for(const o of r.rejectionEvents)c(o,d)};for(const o of u)f(o,v);for(const o of r.rejectionEvents)f(o,d);r.resolveImmediately&&n(l)});if(a.cancel=i,typeof r.timeout=="number"){const n=sl(a,r.timeout);return n.cancel=i,n}return a},cl=(e,t,r)=>{typeof r=="function"&&(r={filter:r}),r={...r,count:1,resolveImmediately:!1};const i=ul(e,t,r),a=i.then(n=>n[0]);return a.cancel=i.cancel,a};Qt.exports=cl;Qt.exports.default=cl;Qt.exports.multiple=ul;Qt.exports.iterator=(e,t,r)=>{typeof r=="function"&&(r={filter:r});const i=ll(t);r={rejectionEvents:["error"],resolutionEvents:[],limit:1/0,multiArgs:!1,...r};const{limit:a}=r;if(!(a>=0&&(a===1/0||Number.isInteger(a))))throw new TypeError("The `limit` option should be a non-negative integer or Infinity");if(a===0)return{[Symbol.asyncIterator](){return this},async next(){return{done:!0,value:void 0}}};const{addListener:s,removeListener:u}=ol(e);let l=!1,f,c=!1;const v=[],d=[];let o=0,h=!1;const p=(...x)=>{o++,h=o===a;const E=r.multiArgs?x:x[0];if(v.length>0){const{resolve:m}=v.shift();m({done:!1,value:E}),h&&y();return}d.push(E),h&&y()},y=()=>{l=!0;for(const x of i)u(x,p);for(const x of r.rejectionEvents)u(x,g);for(const x of r.resolutionEvents)u(x,w);for(;v.length>0;){const{resolve:x}=v.shift();x({done:!0,value:void 0})}},g=(...x)=>{if(f=r.multiArgs?x:x[0],v.length>0){const{reject:E}=v.shift();E(f)}else c=!0;y()},w=(...x)=>{const E=r.multiArgs?x:x[0];if(!(r.filter&&!r.filter(E))){if(v.length>0){const{resolve:m}=v.shift();m({done:!0,value:E})}else d.push(E);y()}};for(const x of i)s(x,p);for(const x of r.rejectionEvents)s(x,g);for(const x of r.resolutionEvents)s(x,w);return{[ev](){return this},async next(){if(d.length>0){const x=d.shift();return{done:l&&d.length===0&&!h,value:x}}if(c)throw c=!1,f;return l?{done:!0,value:void 0}:new Promise((x,E)=>v.push({resolve:x,reject:E}))},async return(x){return y(),{done:l,value:x}}}};Qt.exports.TimeoutError=sl.TimeoutError;var tv=Qt.exports;const te=oe(tv);var rv=typeof Ie=="object"&&Ie&&Ie.Object===Object&&Ie,fl=rv,nv=fl,iv=typeof self=="object"&&self&&self.Object===Object&&self,av=nv||iv||Function("return this")(),it=av,sv=it,ov=sv.Symbol,ga=ov,is=ga,hl=Object.prototype,lv=hl.hasOwnProperty,uv=hl.toString,or=is?is.toStringTag:void 0;function cv(e){var t=lv.call(e,or),r=e[or];try{e[or]=void 0;var i=!0}catch{}var a=uv.call(e);return i&&(t?e[or]=r:delete e[or]),a}var fv=cv,hv=Object.prototype,dv=hv.toString;function vv(e){return dv.call(e)}var pv=vv,as=ga,yv=fv,mv=pv,gv="[object Null]",Sv="[object Undefined]",ss=as?as.toStringTag:void 0;function _v(e){return e==null?e===void 0?Sv:gv:ss&&ss in Object(e)?yv(e):mv(e)}var Et=_v;function xv(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ar=xv,Ov=Et,wv=Ar,Ev="[object AsyncFunction]",Tv="[object Function]",Cv="[object GeneratorFunction]",bv="[object Proxy]";function Av(e){if(!wv(e))return!1;var t=Ov(e);return t==Tv||t==Cv||t==Ev||t==bv}var Sa=Av;const dl=oe(Sa);var Iv=it,Mv=Iv["__core-js_shared__"],Pv=Mv,Hn=Pv,os=function(){var e=/[^.]+$/.exec(Hn&&Hn.keys&&Hn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rv(e){return!!os&&os in e}var Dv=Rv,Nv=Function.prototype,Lv=Nv.toString;function kv(e){if(e!=null){try{return Lv.call(e)}catch{}try{return e+""}catch{}}return""}var vl=kv,Fv=Sa,$v=Dv,Uv=Ar,Wv=vl,Bv=/[\\^$.*+?()[\]{}|]/g,Yv=/^\[object .+?Constructor\]$/,Hv=Function.prototype,Gv=Object.prototype,Vv=Hv.toString,jv=Gv.hasOwnProperty,zv=RegExp("^"+Vv.call(jv).replace(Bv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kv(e){if(!Uv(e)||$v(e))return!1;var t=Fv(e)?zv:Yv;return t.test(Wv(e))}var Zv=Kv;function Jv(e,t){return e==null?void 0:e[t]}var qv=Jv,Qv=Zv,Xv=qv;function ep(e,t){var r=Xv(e,t);return Qv(r)?r:void 0}var Tt=ep,tp=Tt,rp=tp(Object,"create"),Cn=rp,ls=Cn;function np(){this.__data__=ls?ls(null):{},this.size=0}var ip=np;function ap(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sp=ap,op=Cn,lp="__lodash_hash_undefined__",up=Object.prototype,cp=up.hasOwnProperty;function fp(e){var t=this.__data__;if(op){var r=t[e];return r===lp?void 0:r}return cp.call(t,e)?t[e]:void 0}var hp=fp,dp=Cn,vp=Object.prototype,pp=vp.hasOwnProperty;function yp(e){var t=this.__data__;return dp?t[e]!==void 0:pp.call(t,e)}var mp=yp,gp=Cn,Sp="__lodash_hash_undefined__";function _p(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gp&&t===void 0?Sp:t,this}var xp=_p,Op=ip,wp=sp,Ep=hp,Tp=mp,Cp=xp;function Xt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Xt.prototype.clear=Op;Xt.prototype.delete=wp;Xt.prototype.get=Ep;Xt.prototype.has=Tp;Xt.prototype.set=Cp;var bp=Xt;function Ap(){this.__data__=[],this.size=0}var Ip=Ap;function Mp(e,t){return e===t||e!==e&&t!==t}var _a=Mp,Pp=_a;function Rp(e,t){for(var r=e.length;r--;)if(Pp(e[r][0],t))return r;return-1}var bn=Rp,Dp=bn,Np=Array.prototype,Lp=Np.splice;function kp(e){var t=this.__data__,r=Dp(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Lp.call(t,r,1),--this.size,!0}var Fp=kp,$p=bn;function Up(e){var t=this.__data__,r=$p(t,e);return r<0?void 0:t[r][1]}var Wp=Up,Bp=bn;function Yp(e){return Bp(this.__data__,e)>-1}var Hp=Yp,Gp=bn;function Vp(e,t){var r=this.__data__,i=Gp(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var jp=Vp,zp=Ip,Kp=Fp,Zp=Wp,Jp=Hp,qp=jp;function er(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}er.prototype.clear=zp;er.prototype.delete=Kp;er.prototype.get=Zp;er.prototype.has=Jp;er.prototype.set=qp;var Qp=er,Xp=Tt,ey=it,ty=Xp(ey,"Map"),pl=ty,us=bp,ry=Qp,ny=pl;function iy(){this.size=0,this.__data__={hash:new us,map:new(ny||ry),string:new us}}var ay=iy;function sy(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oy=sy,ly=oy;function uy(e,t){var r=e.__data__;return ly(t)?r[typeof t=="string"?"string":"hash"]:r.map}var An=uy,cy=An;function fy(e){var t=cy(this,e).delete(e);return this.size-=t?1:0,t}var hy=fy,dy=An;function vy(e){return dy(this,e).get(e)}var py=vy,yy=An;function my(e){return yy(this,e).has(e)}var gy=my,Sy=An;function _y(e,t){var r=Sy(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var xy=_y,Oy=ay,wy=hy,Ey=py,Ty=gy,Cy=xy;function tr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}tr.prototype.clear=Oy;tr.prototype.delete=wy;tr.prototype.get=Ey;tr.prototype.has=Ty;tr.prototype.set=Cy;var by=tr,Ay="__lodash_hash_undefined__";function Iy(e){return this.__data__.set(e,Ay),this}var My=Iy;function Py(e){return this.__data__.has(e)}var Ry=Py,Dy=by,Ny=My,Ly=Ry;function rn(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Dy;++t<r;)this.add(e[t])}rn.prototype.add=rn.prototype.push=Ny;rn.prototype.has=Ly;var ky=rn;function Fy(e,t,r,i){for(var a=e.length,n=r+(i?1:-1);i?n--:++n<a;)if(t(e[n],n,e))return n;return-1}var $y=Fy;function Uy(e){return e!==e}var Wy=Uy;function By(e,t,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}var Yy=By,Hy=$y,Gy=Wy,Vy=Yy;function jy(e,t,r){return t===t?Vy(e,t,r):Hy(e,Gy,r)}var zy=jy,Ky=zy;function Zy(e,t){var r=e==null?0:e.length;return!!r&&Ky(e,t,0)>-1}var Jy=Zy;function qy(e,t,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(t,e[i]))return!0;return!1}var Qy=qy;function Xy(e,t){return e.has(t)}var em=Xy,tm=Tt,rm=it,nm=tm(rm,"Set"),yl=nm;function im(){}var am=im;function sm(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var ml=sm,Gn=yl,om=am,lm=ml,um=1/0,cm=Gn&&1/lm(new Gn([,-0]))[1]==um?function(e){return new Gn(e)}:om,fm=cm,hm=ky,dm=Jy,vm=Qy,pm=em,ym=fm,mm=ml,gm=200;function Sm(e,t,r){var i=-1,a=dm,n=e.length,s=!0,u=[],l=u;if(r)s=!1,a=vm;else if(n>=gm){var f=t?null:ym(e);if(f)return mm(f);s=!1,a=pm,l=new hm}else l=t?[]:u;e:for(;++i<n;){var c=e[i],v=t?t(c):c;if(c=r||c!==0?c:0,s&&v===v){for(var d=l.length;d--;)if(l[d]===v)continue e;t&&l.push(v),u.push(c)}else a(l,v,r)||(l!==u&&l.push(v),u.push(c))}return u}var _m=Sm,xm=_m;function Om(e){return e&&e.length?xm(e):[]}var wm=Om;const Em=oe(wm);function Tm(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var Cm=bm;function bm(e,t,r){var i=r&&r.stringify||Tm,a=1;if(typeof e=="object"&&e!==null){var n=t.length+a;if(n===1)return e;var s=new Array(n);s[0]=i(e);for(var u=1;u<n;u++)s[u]=i(t[u]);return s.join(" ")}if(typeof e!="string")return e;var l=t.length;if(l===0)return e;for(var f="",c=1-a,v=-1,d=e&&e.length||0,o=0;o<d;){if(e.charCodeAt(o)===37&&o+1<d){switch(v=v>-1?v:0,e.charCodeAt(o+1)){case 100:case 102:if(c>=l||t[c]==null)break;v<o&&(f+=e.slice(v,o)),f+=Number(t[c]),v=o+2,o++;break;case 105:if(c>=l||t[c]==null)break;v<o&&(f+=e.slice(v,o)),f+=Math.floor(Number(t[c])),v=o+2,o++;break;case 79:case 111:case 106:if(c>=l||t[c]===void 0)break;v<o&&(f+=e.slice(v,o));var h=typeof t[c];if(h==="string"){f+="'"+t[c]+"'",v=o+2,o++;break}if(h==="function"){f+=t[c].name||"<anonymous>",v=o+2,o++;break}f+=i(t[c]),v=o+2,o++;break;case 115:if(c>=l)break;v<o&&(f+=e.slice(v,o)),f+=String(t[c]),v=o+2,o++;break;case 37:v<o&&(f+=e.slice(v,o)),f+="%",v=o+2,o++,c--;break}++c}++o}return v===-1?e:(v<d&&(f+=e.slice(v)),f)}const cs=Cm;var Am=Be;const _r=$m().console||{},Im={mapHttpRequest:kr,mapHttpResponse:kr,wrapRequestSerializer:Vn,wrapResponseSerializer:Vn,wrapErrorSerializer:Vn,req:kr,res:kr,err:Nm};function Mm(e,t){return Array.isArray(e)?e.filter(function(i){return i!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Be(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||_r;e.browser.write&&(e.browser.asObject=!0);const i=e.serializers||{},a=Mm(e.browser.serialize,i);let n=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(n=!1);const s=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const u=e.level||"info",l=Object.create(r);l.log||(l.log=xr),Object.defineProperty(l,"levelVal",{get:c}),Object.defineProperty(l,"level",{get:v,set:d});const f={transmit:t,serialize:a,asObject:e.browser.asObject,levels:s,timestamp:Lm(e)};l.levels=Be.levels,l.level=u,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=xr,l.serializers=i,l._serialize=a,l._stdErrSerialize=n,l.child=o,t&&(l._logEvent=mi());function c(){return this.level==="silent"?1/0:this.levels.values[this.level]}function v(){return this._level}function d(h){if(h!=="silent"&&!this.levels.values[h])throw Error("unknown level "+h);this._level=h,It(f,l,"error","log"),It(f,l,"fatal","error"),It(f,l,"warn","error"),It(f,l,"info","log"),It(f,l,"debug","log"),It(f,l,"trace","log")}function o(h,p){if(!h)throw new Error("missing bindings for child Pino");p=p||{},a&&h.serializers&&(p.serializers=h.serializers);const y=p.serializers;if(a&&y){var g=Object.assign({},i,y),w=e.browser.serialize===!0?Object.keys(g):a;delete h.serializers,In([h],w,g,this._stdErrSerialize)}function x(E){this._childLevel=(E._childLevel|0)+1,this.error=Mt(E,h,"error"),this.fatal=Mt(E,h,"fatal"),this.warn=Mt(E,h,"warn"),this.info=Mt(E,h,"info"),this.debug=Mt(E,h,"debug"),this.trace=Mt(E,h,"trace"),g&&(this.serializers=g,this._serialize=w),t&&(this._logEvent=mi([].concat(E._logEvent.bindings,h)))}return x.prototype=this,new x(this)}return l}Be.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Be.stdSerializers=Im;Be.stdTimeFunctions=Object.assign({},{nullTime:gl,epochTime:Sl,unixTime:km,isoTime:Fm});function It(e,t,r,i){const a=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?xr:a[r]?a[r]:_r[r]||_r[i]||xr,Pm(e,t,r)}function Pm(e,t,r){!e.transmit&&t[r]===xr||(t[r]=function(i){return function(){const n=e.timestamp(),s=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_r?_r:this;for(var l=0;l<s.length;l++)s[l]=arguments[l];if(e.serialize&&!e.asObject&&In(s,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?i.call(u,Rm(this,r,s,n)):i.apply(u,s),e.transmit){const f=e.transmit.level||t.level,c=Be.levels.values[f],v=Be.levels.values[r];if(v<c)return;Dm(this,{ts:n,methodLevel:r,methodValue:v,transmitLevel:f,transmitValue:Be.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},s)}}}(t[r]))}function Rm(e,t,r,i){e._serialize&&In(r,e._serialize,e.serializers,e._stdErrSerialize);const a=r.slice();let n=a[0];const s={};i&&(s.time=i),s.level=Be.levels.values[t];let u=(e._childLevel|0)+1;if(u<1&&(u=1),n!==null&&typeof n=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(s,a.shift());n=a.length?cs(a.shift(),a):void 0}else typeof n=="string"&&(n=cs(a.shift(),a));return n!==void 0&&(s.msg=n),s}function In(e,t,r,i){for(const a in e)if(i&&e[a]instanceof Error)e[a]=Be.stdSerializers.err(e[a]);else if(typeof e[a]=="object"&&!Array.isArray(e[a]))for(const n in e[a])t&&t.indexOf(n)>-1&&n in r&&(e[a][n]=r[n](e[a][n]))}function Mt(e,t,r){return function(){const i=new Array(1+arguments.length);i[0]=t;for(var a=1;a<i.length;a++)i[a]=arguments[a-1];return e[r].apply(this,i)}}function Dm(e,t,r){const i=t.send,a=t.ts,n=t.methodLevel,s=t.methodValue,u=t.val,l=e._logEvent.bindings;In(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=a,e._logEvent.messages=r.filter(function(f){return l.indexOf(f)===-1}),e._logEvent.level.label=n,e._logEvent.level.value=s,i(n,e._logEvent,u),e._logEvent=mi(l)}function mi(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Nm(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function Lm(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?gl:Sl}function kr(){return{}}function Vn(e){return e}function xr(){}function gl(){return!1}function Sl(){return Date.now()}function km(){return Math.round(Date.now()/1e3)}function Fm(){return new Date(Date.now()).toISOString()}function $m(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const Um=oe(Am);let Lt;typeof WebSocket<"u"?Lt=WebSocket:typeof MozWebSocket<"u"?Lt=MozWebSocket:typeof Ie<"u"?Lt=Ie.WebSocket||Ie.MozWebSocket:typeof window<"u"?Lt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Lt=self.WebSocket||self.MozWebSocket);var Wm=Lt;const Bm=oe(Wm);var _l={},xa={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});function Ym(e,t,r){let i=0,a=e.length;for(;a>0;){const n=a/2|0;let s=i+n;r(e[s],t)<=0?(i=++s,a-=n+1):a=n}return i}Oa.default=Ym;Object.defineProperty(xa,"__esModule",{value:!0});const Hm=Oa;class Gm{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);const i={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(i);return}const a=Hm.default(this._queue,i,(n,s)=>s.priority-n.priority);this._queue.splice(a,0,i)}dequeue(){const t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}}xa.default=Gm;Object.defineProperty(_l,"__esModule",{value:!0});const Vm=rl,xl=al,jm=xa,Fr=()=>{},zm=new xl.TimeoutError;class Km extends Vm{constructor(t){var r,i,a,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Fr,this._resolveIdle=Fr,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:jm.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(n=(a=t.interval)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Fr,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Fr,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(this._intervalId===void 0){const r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((i,a)=>{const n=async()=>{this._pendingCount++,this._intervalCount++;try{const s=this._timeout===void 0&&r.timeout===void 0?t():xl.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&a(zm)});i(await s)}catch(s){a(s)}this._next()};this._queue.enqueue(n,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async i=>this.add(i,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{const r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{const r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}var Pt=_l.default=Km,Mn={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});class Ol extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,"name",{value:this.constructor.name})}}class Zm extends Ol{}Pn.ParseError=Zm;class Jm extends Ol{}Pn.FormatError=Jm;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});function qm(e){console.log(e);for(let t=0;t<e.length;t+=1)switch(e.charCodeAt(t)){case 10:case 13:case 32:case 59:case 92:return!0}return!1}Ir.shouldEscapeString=qm;function Qm(e){if(!e)return"";let t="";for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);switch(i){case 10:t+="\\n";break;case 13:t+="\\r";break;case 32:t+="\\s";break;case 59:t+="\\:";break;case 92:t+="\\\\";break;default:t+=String.fromCharCode(i)}}return t}Ir.escapeString=Qm;function Xm(e){if(!e)return"";let t;if((t=e.indexOf("\\"))===-1)return e;const r=e.length-1;let i=0,a="";do{if(i<t&&(a+=e.slice(i,t)),(i=t+1)>=r)break;let n=e.charCodeAt(i);switch(n){case 58:n=59;break;case 110:n=10;break;case 114:n=13;break;case 115:n=32;break}i+=1,a+=String.fromCharCode(n)}while((t=e.indexOf("\\",i))!==-1);return i<=r&&(a+=e.slice(i)),a}Ir.unescapeString=Xm;Object.defineProperty(Mn,"__esModule",{value:!0});const jn=Pn,e0=Ir;function wl(e){const t={},r=e.split(";"),i=r.length;for(let a=0;a<i;a+=1){const[n,s]=r[a].split("=");t[n]=s===void 0||e0.unescapeString(s)}return t}Mn.parseTags=wl;function El(e){if(!e)return null;let t,r;if((t=e.indexOf("!"))===0||(r=e.indexOf("@",t+1))===0)return null;const i={};return t>-1&&r>-1?(i.name=e.slice(0,t),i.user=e.slice(t+1,r),i.host=e.slice(r+1)):t>-1?(i.name=e.slice(0,t),i.user=e.slice(t+1)):r>-1?(i.name=e.slice(0,r),i.host=e.slice(r+1)):i.name=e,i}Mn.parsePrefix=El;function t0(e){const t={};Object.defineProperties(t,{middle:{writable:!0,value:[]},trailing:{writable:!0,value:void 0},params:{enumerable:!0,get(){return this.middle.concat(this.trailing||[])}}});let r=0,i=0;if(e.charCodeAt(r)===64){if((i=e.indexOf(" "))===-1)throw new jn.ParseError("Invalid Message");t.tags=wl(e.slice(r+1,i)),r=i+1}for(;e.charCodeAt(r)===32;)r+=1;if(e.charCodeAt(r)===58){if((i=e.indexOf(" ",r))===-1)throw new jn.ParseError("Invalid Message");const a=El(e.slice(r+1,i));for(a&&(t.prefix=a),r=i+1;e.charCodeAt(r)===32;)r+=1}if((i=e.indexOf(" ",r))===-1){if(e.length>r)return t.command=e.slice(r),t;throw new jn.ParseError("Invalid Message")}for(t.command=e.slice(r,i),r=i+1;e.charCodeAt(r)===32;)r+=1;for(;r<e.length;){if(e.charCodeAt(r)===58){t.trailing=e.slice(r+1);break}if((i=e.indexOf(" ",r))===-1){t.middle.push(e.slice(r));break}for(t.middle.push(e.slice(r,i)),r=i+1;e.charCodeAt(r)===32;)r+=1}return t}var r0=Mn.parse=t0,wa={exports:{}};const Tl=e=>typeof e=="object"&&e!==null,Cl=Symbol("skip"),fs=e=>Tl(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),gi=(e,t,r,i=new WeakMap)=>{if(r={deep:!1,target:{},...r},i.has(e))return i.get(e);i.set(e,r.target);const{target:a}=r;delete r.target;const n=s=>s.map(u=>fs(u)?gi(u,t,r,i):u);if(Array.isArray(e))return n(e);for(const[s,u]of Object.entries(e)){const l=t(s,u,e);if(l===Cl)continue;let[f,c,{shouldRecurse:v=!0}={}]=l;f!=="__proto__"&&(r.deep&&v&&fs(c)&&(c=Array.isArray(c)?n(c):gi(c,t,r,i)),a[f]=c)}return a};wa.exports=(e,t,r)=>{if(!Tl(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return gi(e,t,r)};wa.exports.mapObjectSkip=Cl;var n0=wa.exports,Ea={exports:{}};const i0=e=>{let t=!1,r=!1,i=!1;for(let a=0;a<e.length;a++){const n=e[a];t&&/[a-zA-Z]/.test(n)&&n.toUpperCase()===n?(e=e.slice(0,a)+"-"+e.slice(a),t=!1,i=r,r=!0,a++):r&&i&&/[a-zA-Z]/.test(n)&&n.toLowerCase()===n?(e=e.slice(0,a-1)+"-"+e.slice(a-1),i=r,r=!1,t=!0):(t=n.toLowerCase()===n&&n.toUpperCase()!==n,i=r,r=n.toUpperCase()===n&&n.toLowerCase()!==n)}return e},bl=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);const r=a=>t.pascalCase?a.charAt(0).toUpperCase()+a.slice(1):a;return Array.isArray(e)?e=e.map(a=>a.trim()).filter(a=>a.length).join("-"):e=e.trim(),e.length===0?"":e.length===1?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=i0(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(a,n)=>n.toUpperCase()).replace(/\d+(\w|$)/g,a=>a.toUpperCase()),r(e))};Ea.exports=bl;Ea.exports.default=bl;var a0=Ea.exports;class s0{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,r){this.cache.set(t,r),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const r=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,r),r}}set(t,r){return this.cache.has(t)?this.cache.set(t,r):this._set(t,r),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[r]=t;this.cache.has(r)||(yield t)}}get size(){let t=0;for(const r of this.oldCache.keys())this.cache.has(r)||t++;return this._size+t}}var o0=s0;const hs=n0,l0=a0,u0=o0,c0=(e,t)=>e.some(r=>typeof r=="string"?r===t:(r.lastIndex=0,r.test(t))),zn=new u0({maxSize:1e5}),ds=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),vs=(e,t)=>{if(!ds(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:r,pascalCase:i,stopPaths:a,deep:n}=t,s=new Set(a),u=l=>(f,c)=>{if(n&&ds(c)){const v=l===void 0?f:`${l}.${f}`;s.has(v)||(c=hs(c,u(v)))}if(!(r&&c0(r,f))){const v=i?`${f}_`:f;if(zn.has(v))f=zn.get(v);else{const d=l0(f,{pascalCase:i});f.length<100&&zn.set(v,d),f=d}}return[f,c]};return hs(e,u(void 0))};var f0=(e,t)=>Array.isArray(e)?Object.keys(e).map(r=>vs(e[r],t)):vs(e,t);const Al=oe(f0);var h0=Object.prototype;function d0(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||h0;return e===r}var Ta=d0;function v0(e,t){return function(r){return e(t(r))}}var p0=v0,y0=p0,m0=y0(Object.keys,Object),g0=m0,S0=Ta,_0=g0,x0=Object.prototype,O0=x0.hasOwnProperty;function w0(e){if(!S0(e))return _0(e);var t=[];for(var r in Object(e))O0.call(e,r)&&r!="constructor"&&t.push(r);return t}var Il=w0,E0=Tt,T0=it,C0=E0(T0,"DataView"),b0=C0,A0=Tt,I0=it,M0=A0(I0,"Promise"),P0=M0,R0=Tt,D0=it,N0=R0(D0,"WeakMap"),L0=N0,Si=b0,_i=pl,xi=P0,Oi=yl,wi=L0,Ml=Et,rr=vl,ps="[object Map]",k0="[object Object]",ys="[object Promise]",ms="[object Set]",gs="[object WeakMap]",Ss="[object DataView]",F0=rr(Si),$0=rr(_i),U0=rr(xi),W0=rr(Oi),B0=rr(wi),vt=Ml;(Si&&vt(new Si(new ArrayBuffer(1)))!=Ss||_i&&vt(new _i)!=ps||xi&&vt(xi.resolve())!=ys||Oi&&vt(new Oi)!=ms||wi&&vt(new wi)!=gs)&&(vt=function(e){var t=Ml(e),r=t==k0?e.constructor:void 0,i=r?rr(r):"";if(i)switch(i){case F0:return Ss;case $0:return ps;case U0:return ys;case W0:return ms;case B0:return gs}return t});var Y0=vt;function H0(e){return e!=null&&typeof e=="object"}var nr=H0,G0=Et,V0=nr,j0="[object Arguments]";function z0(e){return V0(e)&&G0(e)==j0}var K0=z0,_s=K0,Z0=nr,Pl=Object.prototype,J0=Pl.hasOwnProperty,q0=Pl.propertyIsEnumerable,Q0=_s(function(){return arguments}())?_s:function(e){return Z0(e)&&J0.call(e,"callee")&&!q0.call(e,"callee")},Rl=Q0,X0=Array.isArray,Rn=X0,eg=9007199254740991;function tg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eg}var Dl=tg,rg=Sa,ng=Dl;function ig(e){return e!=null&&ng(e.length)&&!rg(e)}var Dn=ig,nn={exports:{}};function ag(){return!1}var sg=ag;nn.exports;(function(e,t){var r=it,i=sg,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,f=l||i;e.exports=f})(nn,nn.exports);var Nl=nn.exports,og=Et,lg=Dl,ug=nr,cg="[object Arguments]",fg="[object Array]",hg="[object Boolean]",dg="[object Date]",vg="[object Error]",pg="[object Function]",yg="[object Map]",mg="[object Number]",gg="[object Object]",Sg="[object RegExp]",_g="[object Set]",xg="[object String]",Og="[object WeakMap]",wg="[object ArrayBuffer]",Eg="[object DataView]",Tg="[object Float32Array]",Cg="[object Float64Array]",bg="[object Int8Array]",Ag="[object Int16Array]",Ig="[object Int32Array]",Mg="[object Uint8Array]",Pg="[object Uint8ClampedArray]",Rg="[object Uint16Array]",Dg="[object Uint32Array]",ae={};ae[Tg]=ae[Cg]=ae[bg]=ae[Ag]=ae[Ig]=ae[Mg]=ae[Pg]=ae[Rg]=ae[Dg]=!0;ae[cg]=ae[fg]=ae[wg]=ae[hg]=ae[Eg]=ae[dg]=ae[vg]=ae[pg]=ae[yg]=ae[mg]=ae[gg]=ae[Sg]=ae[_g]=ae[xg]=ae[Og]=!1;function Ng(e){return ug(e)&&lg(e.length)&&!!ae[og(e)]}var Lg=Ng;function kg(e){return function(t){return e(t)}}var Fg=kg,an={exports:{}};an.exports;(function(e,t){var r=fl,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,n=a&&a.exports===i,s=n&&r.process,u=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u})(an,an.exports);var $g=an.exports,Ug=Lg,Wg=Fg,xs=$g,Os=xs&&xs.isTypedArray,Bg=Os?Wg(Os):Ug,Ll=Bg,Yg=Il,Hg=Y0,Gg=Rl,Vg=Rn,jg=Dn,zg=Nl,Kg=Ta,Zg=Ll,Jg="[object Map]",qg="[object Set]",Qg=Object.prototype,Xg=Qg.hasOwnProperty;function eS(e){if(e==null)return!0;if(jg(e)&&(Vg(e)||typeof e=="string"||typeof e.splice=="function"||zg(e)||Zg(e)||Gg(e)))return!e.length;var t=Hg(e);if(t==Jg||t==qg)return!e.size;if(Kg(e))return!Yg(e).length;for(var r in e)if(Xg.call(e,r))return!1;return!0}var tS=eS;const Ca=oe(tS);function rS(e,t){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}var nS=rS,iS=Et,aS=nr,sS="[object Symbol]";function oS(e){return typeof e=="symbol"||aS(e)&&iS(e)==sS}var kl=oS,ws=ga,lS=nS,uS=Rn,cS=kl,fS=1/0,Es=ws?ws.prototype:void 0,Ts=Es?Es.toString:void 0;function Fl(e){if(typeof e=="string")return e;if(uS(e))return lS(e,Fl)+"";if(cS(e))return Ts?Ts.call(e):"";var t=e+"";return t=="0"&&1/e==-fS?"-0":t}var hS=Fl,dS=hS;function vS(e){return e==null?"":dS(e)}var Ct=vS,pS=Ct;function yS(e){return pS(e).toLowerCase()}var mS=yS;const sn=oe(mS);var gS=function(e,t,r,i,a,n,s,u){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,a,n,s,u],c=0;l=new Error(t.replace(/%s/g,function(){return f[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},SS=gS;const ba=oe(SS);function _S(e,t,r){var i=r.length;if(e==null)return!i;for(e=Object(e);i--;){var a=r[i],n=t[a],s=e[a];if(s===void 0&&!(a in e)||!n(s))return!1}return!0}var xS=_S;function OS(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var wS=OS,ES=9007199254740991,TS=/^(?:0|[1-9]\d*)$/;function CS(e,t){var r=typeof e;return t=t??ES,!!t&&(r=="number"||r!="symbol"&&TS.test(e))&&e>-1&&e%1==0&&e<t}var $l=CS,bS=wS,AS=Rl,IS=Rn,MS=Nl,PS=$l,RS=Ll,DS=Object.prototype,NS=DS.hasOwnProperty;function LS(e,t){var r=IS(e),i=!r&&AS(e),a=!r&&!i&&MS(e),n=!r&&!i&&!a&&RS(e),s=r||i||a||n,u=s?bS(e.length,String):[],l=u.length;for(var f in e)(t||NS.call(e,f))&&!(s&&(f=="length"||a&&(f=="offset"||f=="parent")||n&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||PS(f,l)))&&u.push(f);return u}var Ul=LS,kS=Ul,FS=Il,$S=Dn;function US(e){return $S(e)?kS(e):FS(e)}var WS=US,BS=xS,YS=WS;function HS(e,t){return t==null||BS(e,t,YS(t))}var GS=HS;const Aa=oe(GS);function VS(e){return e}var Wl=VS;function jS(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zS=jS,KS=zS,Cs=Math.max;function ZS(e,t,r){return t=Cs(t===void 0?e.length-1:t,0),function(){for(var i=arguments,a=-1,n=Cs(i.length-t,0),s=Array(n);++a<n;)s[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=r(s),KS(e,this,u)}}var JS=ZS;function qS(e){return function(){return e}}var QS=qS,XS=Tt,e_=function(){try{var e=XS(Object,"defineProperty");return e({},"",{}),e}catch{}}(),t_=e_,r_=QS,bs=t_,n_=Wl,i_=bs?function(e,t){return bs(e,"toString",{configurable:!0,enumerable:!1,value:r_(t),writable:!0})}:n_,a_=i_,s_=800,o_=16,l_=Date.now;function u_(e){var t=0,r=0;return function(){var i=l_(),a=o_-(i-r);if(r=i,a>0){if(++t>=s_)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var c_=u_,f_=a_,h_=c_,d_=h_(f_),v_=d_,p_=Wl,y_=JS,m_=v_;function g_(e,t){return m_(y_(e,t,p_),e+"")}var S_=g_,__=_a,x_=Dn,O_=$l,w_=Ar;function E_(e,t,r){if(!w_(r))return!1;var i=typeof t;return(i=="number"?x_(r)&&O_(t,r.length):i=="string"&&t in r)?__(r[t],e):!1}var Bl=E_;function T_(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var C_=T_,b_=Ar,A_=Ta,I_=C_,M_=Object.prototype,P_=M_.hasOwnProperty;function R_(e){if(!b_(e))return I_(e);var t=A_(e),r=[];for(var i in e)i=="constructor"&&(t||!P_.call(e,i))||r.push(i);return r}var D_=R_,N_=Ul,L_=D_,k_=Dn;function F_(e){return k_(e)?N_(e,!0):L_(e)}var $_=F_,U_=S_,W_=_a,B_=Bl,Y_=$_,Yl=Object.prototype,H_=Yl.hasOwnProperty,G_=U_(function(e,t){e=Object(e);var r=-1,i=t.length,a=i>2?t[2]:void 0;for(a&&B_(t[0],t[1],a)&&(i=1);++r<i;)for(var n=t[r],s=Y_(n),u=-1,l=s.length;++u<l;){var f=s[u],c=e[f];(c===void 0||W_(c,Yl[f])&&!H_.call(e,f))&&(e[f]=n[f])}return e}),V_=G_;const Ia=oe(V_);var j_=Et,z_=Rn,K_=nr,Z_="[object String]";function J_(e){return typeof e=="string"||!z_(e)&&K_(e)&&j_(e)==Z_}var q_=J_;const gt=oe(q_);var Q_=it,X_=Q_.isFinite;function e1(e){return typeof e=="number"&&X_(e)}var t1=e1;const Or=oe(t1);var r1=Et,n1=nr,i1="[object Boolean]";function a1(e){return e===!0||e===!1||n1(e)&&r1(e)==i1}var s1=a1;const cr=oe(s1);function o1(e){return e==null}var l1=o1;const on=oe(l1);var u1=Math.floor,c1=Math.random;function f1(e,t){return e+u1(c1()*(t-e+1))}var h1=f1,d1=/\s/;function v1(e){for(var t=e.length;t--&&d1.test(e.charAt(t)););return t}var p1=v1,y1=p1,m1=/^\s+/;function g1(e){return e&&e.slice(0,y1(e)+1).replace(m1,"")}var S1=g1,_1=S1,As=Ar,x1=kl,Is=0/0,O1=/^[-+]0x[0-9a-f]+$/i,w1=/^0b[01]+$/i,E1=/^0o[0-7]+$/i,T1=parseInt;function C1(e){if(typeof e=="number")return e;if(x1(e))return Is;if(As(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=As(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_1(e);var r=w1.test(e);return r||E1.test(e)?T1(e.slice(2),r?2:8):O1.test(e)?Is:+e}var Ma=C1;const b1=oe(Ma);var A1=Ma,Ms=1/0,I1=17976931348623157e292;function M1(e){if(!e)return e===0?e:0;if(e=A1(e),e===Ms||e===-Ms){var t=e<0?-1:1;return t*I1}return e===e?e:0}var P1=M1,R1=h1,D1=Bl,Ps=P1,N1=parseFloat,L1=Math.min,k1=Math.random;function F1(e,t,r){if(r&&typeof r!="boolean"&&D1(e,t,r)&&(t=r=void 0),r===void 0&&(typeof t=="boolean"?(r=t,t=void 0):typeof e=="boolean"&&(r=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Ps(e),t===void 0?(t=e,e=0):t=Ps(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=k1();return L1(e+a*(t-e+N1("1e-"+((a+"").length-1))),t)}return R1(e,t)}var $1=F1;const Hl=oe($1);function U1(e,t){return e>t}var W1=U1,Rs=Ma;function B1(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Rs(t),r=Rs(r)),e(t,r)}}var Y1=B1,H1=W1,G1=Y1,V1=G1(H1),j1=V1;const z1=oe(j1);var K1=Ct;function Z1(e){return K1(e).toUpperCase()}var J1=Z1;const Pa=oe(J1);function q1(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var n=Array(a);++i<a;)n[i]=e[i+t];return n}var Q1=q1,X1=Q1;function ex(e,t,r){var i=e.length;return r=r===void 0?i:r,!t&&r>=i?e:X1(e,t,r)}var tx=ex,rx="\\ud800-\\udfff",nx="\\u0300-\\u036f",ix="\\ufe20-\\ufe2f",ax="\\u20d0-\\u20ff",sx=nx+ix+ax,ox="\\ufe0e\\ufe0f",lx="\\u200d",ux=RegExp("["+lx+rx+sx+ox+"]");function cx(e){return ux.test(e)}var Gl=cx;function fx(e){return e.split("")}var hx=fx,Vl="\\ud800-\\udfff",dx="\\u0300-\\u036f",vx="\\ufe20-\\ufe2f",px="\\u20d0-\\u20ff",yx=dx+vx+px,mx="\\ufe0e\\ufe0f",gx="["+Vl+"]",Ei="["+yx+"]",Ti="\\ud83c[\\udffb-\\udfff]",Sx="(?:"+Ei+"|"+Ti+")",jl="[^"+Vl+"]",zl="(?:\\ud83c[\\udde6-\\uddff]){2}",Kl="[\\ud800-\\udbff][\\udc00-\\udfff]",_x="\\u200d",Zl=Sx+"?",Jl="["+mx+"]?",xx="(?:"+_x+"(?:"+[jl,zl,Kl].join("|")+")"+Jl+Zl+")*",Ox=Jl+Zl+xx,wx="(?:"+[jl+Ei+"?",Ei,zl,Kl,gx].join("|")+")",Ex=RegExp(Ti+"(?="+Ti+")|"+wx+Ox,"g");function Tx(e){return e.match(Ex)||[]}var Cx=Tx,bx=hx,Ax=Gl,Ix=Cx;function Mx(e){return Ax(e)?Ix(e):bx(e)}var Px=Mx,Rx=tx,Dx=Gl,Nx=Px,Lx=Ct;function kx(e){return function(t){t=Lx(t);var r=Dx(t)?Nx(t):void 0,i=r?r[0]:t.charAt(0),a=r?Rx(r,1).join(""):t.slice(1);return i[e]()+a}}var Fx=kx,$x=Fx,Ux=$x("toUpperCase"),Wx=Ux,Bx=Ct,Yx=Wx;function Hx(e){return Yx(Bx(e).toLowerCase())}var Gx=Hx;function Vx(e,t,r,i){var a=-1,n=e==null?0:e.length;for(i&&n&&(r=e[++a]);++a<n;)r=t(r,e[a],a,e);return r}var jx=Vx;function zx(e){return function(t){return e==null?void 0:e[t]}}var Kx=zx,Zx=Kx,Jx={Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"},qx=Zx(Jx),Qx=qx,Xx=Qx,eO=Ct,tO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rO="\\u0300-\\u036f",nO="\\ufe20-\\ufe2f",iO="\\u20d0-\\u20ff",aO=rO+nO+iO,sO="["+aO+"]",oO=RegExp(sO,"g");function lO(e){return e=eO(e),e&&e.replace(tO,Xx).replace(oO,"")}var uO=lO,cO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function fO(e){return e.match(cO)||[]}var hO=fO,dO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function vO(e){return dO.test(e)}var pO=vO,ql="\\ud800-\\udfff",yO="\\u0300-\\u036f",mO="\\ufe20-\\ufe2f",gO="\\u20d0-\\u20ff",SO=yO+mO+gO,Ql="\\u2700-\\u27bf",Xl="a-z\\xdf-\\xf6\\xf8-\\xff",_O="\\xac\\xb1\\xd7\\xf7",xO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",OO="\\u2000-\\u206f",wO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eu="A-Z\\xc0-\\xd6\\xd8-\\xde",EO="\\ufe0e\\ufe0f",tu=_O+xO+OO+wO,ru="['â€™]",Ds="["+tu+"]",TO="["+SO+"]",nu="\\d+",CO="["+Ql+"]",iu="["+Xl+"]",au="[^"+ql+tu+nu+Ql+Xl+eu+"]",bO="\\ud83c[\\udffb-\\udfff]",AO="(?:"+TO+"|"+bO+")",IO="[^"+ql+"]",su="(?:\\ud83c[\\udde6-\\uddff]){2}",ou="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="["+eu+"]",MO="\\u200d",Ns="(?:"+iu+"|"+au+")",PO="(?:"+kt+"|"+au+")",Ls="(?:"+ru+"(?:d|ll|m|re|s|t|ve))?",ks="(?:"+ru+"(?:D|LL|M|RE|S|T|VE))?",lu=AO+"?",uu="["+EO+"]?",RO="(?:"+MO+"(?:"+[IO,su,ou].join("|")+")"+uu+lu+")*",DO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",NO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",LO=uu+lu+RO,kO="(?:"+[CO,su,ou].join("|")+")"+LO,FO=RegExp([kt+"?"+iu+"+"+Ls+"(?="+[Ds,kt,"$"].join("|")+")",PO+"+"+ks+"(?="+[Ds,kt+Ns,"$"].join("|")+")",kt+"?"+Ns+"+"+Ls,kt+"+"+ks,NO,DO,nu,kO].join("|"),"g");function $O(e){return e.match(FO)||[]}var UO=$O,WO=hO,BO=pO,YO=Ct,HO=UO;function GO(e,t,r){return e=YO(e),t=r?void 0:t,t===void 0?BO(e)?HO(e):WO(e):e.match(t)||[]}var VO=GO,jO=jx,zO=uO,KO=VO,ZO="['â€™]",JO=RegExp(ZO,"g");function qO(e){return function(t){return jO(KO(zO(t).replace(JO,"")),e,"")}}var QO=qO,XO=Gx,ew=QO,tw=ew(function(e,t,r){return t=t.toLowerCase(),e+(r?XO(t):t)}),rw=tw;const Ci=oe(rw);var nw=Ct;function iw(){var e=arguments,t=nw(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var aw=iw;const sw=oe(aw);function ow(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function lw(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var uw=function(){var e=function(r,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])},e(r,i)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),cw=function(e){uw(t,e);function t(r,i){var a=this.constructor,n=e.call(this,r,i)||this;return Object.defineProperty(n,"name",{value:a.name,enumerable:!1,configurable:!0}),ow(n,a.prototype),lw(n),n}return t}(Error),bi={exports:{}};(function(e,t){var r=typeof self<"u"?self:Ie,i=function(){function n(){this.fetch=!1,this.DOMException=r.DOMException}return n.prototype=r,new n}();(function(n){(function(s){var u={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function l(C){return C&&DataView.prototype.isPrototypeOf(C)}if(u.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(C){return C&&f.indexOf(Object.prototype.toString.call(C))>-1};function v(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(C))throw new TypeError("Invalid character in header field name");return C.toLowerCase()}function d(C){return typeof C!="string"&&(C=String(C)),C}function o(C){var M={next:function(){var D=C.shift();return{done:D===void 0,value:D}}};return u.iterable&&(M[Symbol.iterator]=function(){return M}),M}function h(C){this.map={},C instanceof h?C.forEach(function(M,D){this.append(D,M)},this):Array.isArray(C)?C.forEach(function(M){this.append(M[0],M[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(M){this.append(M,C[M])},this)}h.prototype.append=function(C,M){C=v(C),M=d(M);var D=this.map[C];this.map[C]=D?D+", "+M:M},h.prototype.delete=function(C){delete this.map[v(C)]},h.prototype.get=function(C){return C=v(C),this.has(C)?this.map[C]:null},h.prototype.has=function(C){return this.map.hasOwnProperty(v(C))},h.prototype.set=function(C,M){this.map[v(C)]=d(M)},h.prototype.forEach=function(C,M){for(var D in this.map)this.map.hasOwnProperty(D)&&C.call(M,this.map[D],D,this)},h.prototype.keys=function(){var C=[];return this.forEach(function(M,D){C.push(D)}),o(C)},h.prototype.values=function(){var C=[];return this.forEach(function(M){C.push(M)}),o(C)},h.prototype.entries=function(){var C=[];return this.forEach(function(M,D){C.push([D,M])}),o(C)},u.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function p(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function y(C){return new Promise(function(M,D){C.onload=function(){M(C.result)},C.onerror=function(){D(C.error)}})}function g(C){var M=new FileReader,D=y(M);return M.readAsArrayBuffer(C),D}function w(C){var M=new FileReader,D=y(M);return M.readAsText(C),D}function x(C){for(var M=new Uint8Array(C),D=new Array(M.length),L=0;L<M.length;L++)D[L]=String.fromCharCode(M[L]);return D.join("")}function E(C){if(C.slice)return C.slice(0);var M=new Uint8Array(C.byteLength);return M.set(new Uint8Array(C)),M.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(C){this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:u.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:u.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():u.arrayBuffer&&u.blob&&l(C)?(this._bodyArrayBuffer=E(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||c(C))?this._bodyArrayBuffer=E(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var C=p(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var C=p(this);if(C)return C;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(C){var M=C.toUpperCase();return _.indexOf(M)>-1?M:C}function S(C,M){M=M||{};var D=M.body;if(C instanceof S){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,M.headers||(this.headers=new h(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!D&&C._bodyInit!=null&&(D=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new h(M.headers)),this.method=O(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(D)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function b(C){var M=new FormData;return C.trim().split("&").forEach(function(D){if(D){var L=D.split("="),$=L.shift().replace(/\+/g," "),U=L.join("=").replace(/\+/g," ");M.append(decodeURIComponent($),decodeURIComponent(U))}}),M}function T(C){var M=new h,D=C.replace(/\r?\n[\t ]+/g," ");return D.split(/\r?\n/).forEach(function(L){var $=L.split(":"),U=$.shift().trim();if(U){var ne=$.join(":").trim();M.append(U,ne)}}),M}m.call(S.prototype);function I(C,M){M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in M?M.statusText:"OK",this.headers=new h(M.headers),this.url=M.url||"",this._initBody(C)}m.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},I.error=function(){var C=new I(null,{status:0,statusText:""});return C.type="error",C};var A=[301,302,303,307,308];I.redirect=function(C,M){if(A.indexOf(M)===-1)throw new RangeError("Invalid status code");return new I(null,{status:M,headers:{location:C}})},s.DOMException=n.DOMException;try{new s.DOMException}catch{s.DOMException=function(M,D){this.message=M,this.name=D;var L=Error(M);this.stack=L.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function R(C,M){return new Promise(function(D,L){var $=new S(C,M);if($.signal&&$.signal.aborted)return L(new s.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function ne(){U.abort()}U.onload=function(){var ce={status:U.status,statusText:U.statusText,headers:T(U.getAllResponseHeaders()||"")};ce.url="responseURL"in U?U.responseURL:ce.headers.get("X-Request-URL");var j="response"in U?U.response:U.responseText;D(new I(j,ce))},U.onerror=function(){L(new TypeError("Network request failed"))},U.ontimeout=function(){L(new TypeError("Network request failed"))},U.onabort=function(){L(new s.DOMException("Aborted","AbortError"))},U.open($.method,$.url,!0),$.credentials==="include"?U.withCredentials=!0:$.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&u.blob&&(U.responseType="blob"),$.headers.forEach(function(ce,j){U.setRequestHeader(j,ce)}),$.signal&&($.signal.addEventListener("abort",ne),U.onreadystatechange=function(){U.readyState===4&&$.signal.removeEventListener("abort",ne)}),U.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return R.polyfill=!0,n.fetch||(n.fetch=R,n.Headers=h,n.Request=S,n.Response=I),s.Headers=h,s.Request=S,s.Response=I,s.fetch=R,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=i;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(bi,bi.exports);var fw=bi.exports;const hw=oe(fw);var dw=Error,vw=EvalError,pw=RangeError,yw=ReferenceError,cu=SyntaxError,Ra=TypeError,mw=URIError,gw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var n=Object.getOwnPropertySymbols(t);if(n.length!==1||n[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==a||s.enumerable!==!0)return!1}return!0},Fs=typeof Symbol<"u"&&Symbol,Sw=gw,_w=function(){return typeof Fs!="function"||typeof Symbol!="function"||typeof Fs("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Sw()},$s={foo:{}},xw=Object,Ow=function(){return{__proto__:$s}.foo===$s.foo&&!({__proto__:null}instanceof xw)},ww="Function.prototype.bind called on incompatible ",Ew=Object.prototype.toString,Tw=Math.max,Cw="[object Function]",Us=function(t,r){for(var i=[],a=0;a<t.length;a+=1)i[a]=t[a];for(var n=0;n<r.length;n+=1)i[n+t.length]=r[n];return i},bw=function(t,r){for(var i=[],a=r||0,n=0;a<t.length;a+=1,n+=1)i[n]=t[a];return i},Aw=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r},Iw=function(t){var r=this;if(typeof r!="function"||Ew.apply(r)!==Cw)throw new TypeError(ww+r);for(var i=bw(arguments,1),a,n=function(){if(this instanceof a){var c=r.apply(this,Us(i,arguments));return Object(c)===c?c:this}return r.apply(t,Us(i,arguments))},s=Tw(0,r.length-i.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+Aw(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var f=function(){};f.prototype=r.prototype,a.prototype=new f,f.prototype=null}return a},Mw=Iw,Da=Function.prototype.bind||Mw,Pw=Function.prototype.call,Rw=Object.prototype.hasOwnProperty,Dw=Da,Nw=Dw.call(Pw,Rw),z,Lw=dw,kw=vw,Fw=pw,$w=yw,jt=cu,Ht=Ra,Uw=mw,fu=Function,Kn=function(e){try{return fu('"use strict"; return ('+e+").constructor;")()}catch{}},St=Object.getOwnPropertyDescriptor;if(St)try{St({},"")}catch{St=null}var Zn=function(){throw new Ht},Ww=St?function(){try{return arguments.callee,Zn}catch{try{return St(arguments,"callee").get}catch{return Zn}}}():Zn,Rt=_w(),Bw=Ow(),Se=Object.getPrototypeOf||(Bw?function(e){return e.__proto__}:null),Ft={},Yw=typeof Uint8Array>"u"||!Se?z:Se(Uint8Array),_t={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?z:ArrayBuffer,"%ArrayIteratorPrototype%":Rt&&Se?Se([][Symbol.iterator]()):z,"%AsyncFromSyncIteratorPrototype%":z,"%AsyncFunction%":Ft,"%AsyncGenerator%":Ft,"%AsyncGeneratorFunction%":Ft,"%AsyncIteratorPrototype%":Ft,"%Atomics%":typeof Atomics>"u"?z:Atomics,"%BigInt%":typeof BigInt>"u"?z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Lw,"%eval%":eval,"%EvalError%":kw,"%Float32Array%":typeof Float32Array>"u"?z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?z:FinalizationRegistry,"%Function%":fu,"%GeneratorFunction%":Ft,"%Int8Array%":typeof Int8Array>"u"?z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Rt&&Se?Se(Se([][Symbol.iterator]())):z,"%JSON%":typeof JSON=="object"?JSON:z,"%Map%":typeof Map>"u"?z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Rt||!Se?z:Se(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?z:Promise,"%Proxy%":typeof Proxy>"u"?z:Proxy,"%RangeError%":Fw,"%ReferenceError%":$w,"%Reflect%":typeof Reflect>"u"?z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Rt||!Se?z:Se(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Rt&&Se?Se(""[Symbol.iterator]()):z,"%Symbol%":Rt?Symbol:z,"%SyntaxError%":jt,"%ThrowTypeError%":Ww,"%TypedArray%":Yw,"%TypeError%":Ht,"%Uint8Array%":typeof Uint8Array>"u"?z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?z:Uint32Array,"%URIError%":Uw,"%WeakMap%":typeof WeakMap>"u"?z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?z:WeakSet};if(Se)try{null.error}catch(e){var Hw=Se(Se(e));_t["%Error.prototype%"]=Hw}var Gw=function e(t){var r;if(t==="%AsyncFunction%")r=Kn("async function () {}");else if(t==="%GeneratorFunction%")r=Kn("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Kn("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&Se&&(r=Se(a.prototype))}return _t[t]=r,r},Ws={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Mr=Da,ln=Nw,Vw=Mr.call(Function.call,Array.prototype.concat),jw=Mr.call(Function.apply,Array.prototype.splice),Bs=Mr.call(Function.call,String.prototype.replace),un=Mr.call(Function.call,String.prototype.slice),zw=Mr.call(Function.call,RegExp.prototype.exec),Kw=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Zw=/\\(\\)?/g,Jw=function(t){var r=un(t,0,1),i=un(t,-1);if(r==="%"&&i!=="%")throw new jt("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new jt("invalid intrinsic syntax, expected opening `%`");var a=[];return Bs(t,Kw,function(n,s,u,l){a[a.length]=u?Bs(l,Zw,"$1"):s||n}),a},qw=function(t,r){var i=t,a;if(ln(Ws,i)&&(a=Ws[i],i="%"+a[0]+"%"),ln(_t,i)){var n=_t[i];if(n===Ft&&(n=Gw(i)),typeof n>"u"&&!r)throw new Ht("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:i,value:n}}throw new jt("intrinsic "+t+" does not exist!")},bt=function(t,r){if(typeof t!="string"||t.length===0)throw new Ht("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ht('"allowMissing" argument must be a boolean');if(zw(/^%?[^%]*%?$/,t)===null)throw new jt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=Jw(t),a=i.length>0?i[0]:"",n=qw("%"+a+"%",r),s=n.name,u=n.value,l=!1,f=n.alias;f&&(a=f[0],jw(i,Vw([0,1],f)));for(var c=1,v=!0;c<i.length;c+=1){var d=i[c],o=un(d,0,1),h=un(d,-1);if((o==='"'||o==="'"||o==="`"||h==='"'||h==="'"||h==="`")&&o!==h)throw new jt("property names with quotes must have matching quotes");if((d==="constructor"||!v)&&(l=!0),a+="."+d,s="%"+a+"%",ln(_t,s))u=_t[s];else if(u!=null){if(!(d in u)){if(!r)throw new Ht("base intrinsic for "+t+" exists, but the property is not available.");return}if(St&&c+1>=i.length){var p=St(u,d);v=!!p,v&&"get"in p&&!("originalValue"in p.get)?u=p.get:u=u[d]}else v=ln(u,d),u=u[d];v&&!l&&(_t[s]=u)}}return u},hu={exports:{}},Qw=bt,Ai=Qw("%Object.defineProperty%",!0),Ii=function(){if(Ai)try{return Ai({},"a",{value:1}),!0}catch{return!1}return!1};Ii.hasArrayLengthDefineBug=function(){if(!Ii())return null;try{return Ai([],"length",{value:1}).length!==1}catch{return!0}};var du=Ii,Xw=bt,Kr=Xw("%Object.getOwnPropertyDescriptor%",!0);if(Kr)try{Kr([],"length")}catch{Kr=null}var vu=Kr,eE=du(),tE=bt,fr=eE&&tE("%Object.defineProperty%",!0);if(fr)try{fr({},"a",{value:1})}catch{fr=!1}var rE=cu,Dt=Ra,Ys=vu,nE=function(t,r,i){if(!t||typeof t!="object"&&typeof t!="function")throw new Dt("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Dt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Dt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Dt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Dt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Dt("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,l=!!Ys&&Ys(t,r);if(fr)fr(t,r,{configurable:s===null&&l?l.configurable:!s,enumerable:a===null&&l?l.enumerable:!a,value:i,writable:n===null&&l?l.writable:!n});else if(u||!a&&!n&&!s)t[r]=i;else throw new rE("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},pu=bt,Hs=nE,iE=du(),Gs=vu,Vs=pu("%TypeError%"),aE=pu("%Math.floor%"),sE=function(t,r){if(typeof t!="function")throw new Vs("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||aE(r)!==r)throw new Vs("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],a=!0,n=!0;if("length"in t&&Gs){var s=Gs(t,"length");s&&!s.configurable&&(a=!1),s&&!s.writable&&(n=!1)}return(a||n||!i)&&(iE?Hs(t,"length",r,!0,!0):Hs(t,"length",r)),t};(function(e){var t=Da,r=bt,i=sE,a=Ra,n=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||t.call(s,n),l=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}e.exports=function(d){if(typeof d!="function")throw new a("a function is required");var o=u(t,s,arguments);return i(o,1+f(0,d.length-(arguments.length-1)),!0)};var c=function(){return u(t,n,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c})(hu);var oE=hu.exports,yu=bt,mu=oE,lE=mu(yu("String.prototype.indexOf")),uE=function(t,r){var i=yu(t,!!r);return typeof i=="function"&&lE(t,".prototype.")>-1?mu(i):i};const cE={},fE=Object.freeze(Object.defineProperty({__proto__:null,default:cE},Symbol.toStringTag,{value:"Module"})),hE=Bu(fE);var Na=typeof Map=="function"&&Map.prototype,Jn=Object.getOwnPropertyDescriptor&&Na?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cn=Na&&Jn&&typeof Jn.get=="function"?Jn.get:null,js=Na&&Map.prototype.forEach,La=typeof Set=="function"&&Set.prototype,qn=Object.getOwnPropertyDescriptor&&La?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,fn=La&&qn&&typeof qn.get=="function"?qn.get:null,zs=La&&Set.prototype.forEach,dE=typeof WeakMap=="function"&&WeakMap.prototype,hr=dE?WeakMap.prototype.has:null,vE=typeof WeakSet=="function"&&WeakSet.prototype,dr=vE?WeakSet.prototype.has:null,pE=typeof WeakRef=="function"&&WeakRef.prototype,Ks=pE?WeakRef.prototype.deref:null,yE=Boolean.prototype.valueOf,mE=Object.prototype.toString,gE=Function.prototype.toString,SE=String.prototype.match,ka=String.prototype.slice,ct=String.prototype.replace,_E=String.prototype.toUpperCase,Zs=String.prototype.toLowerCase,gu=RegExp.prototype.test,Js=Array.prototype.concat,Ue=Array.prototype.join,xE=Array.prototype.slice,qs=Math.floor,Mi=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Qn=Object.getOwnPropertySymbols,Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,zt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ee=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===zt||"symbol")?Symbol.toStringTag:null,Su=Object.prototype.propertyIsEnumerable,Qs=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Xs(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||gu.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var i=e<0?-qs(-e):qs(e);if(i!==e){var a=String(i),n=ka.call(t,a.length+1);return ct.call(a,r,"$&_")+"."+ct.call(ct.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ct.call(t,r,"$&_")}var Ri=hE,eo=Ri.custom,to=xu(eo)?eo:null,OE=function e(t,r,i,a){var n=r||{};if(at(n,"quoteStyle")&&n.quoteStyle!=="single"&&n.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(at(n,"maxStringLength")&&(typeof n.maxStringLength=="number"?n.maxStringLength<0&&n.maxStringLength!==1/0:n.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=at(n,"customInspect")?n.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(at(n,"indent")&&n.indent!==null&&n.indent!=="	"&&!(parseInt(n.indent,10)===n.indent&&n.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(at(n,"numericSeparator")&&typeof n.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=n.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return wu(t,n);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return u?Xs(t,l):l}if(typeof t=="bigint"){var f=String(t)+"n";return u?Xs(t,f):f}var c=typeof n.depth>"u"?5:n.depth;if(typeof i>"u"&&(i=0),i>=c&&c>0&&typeof t=="object")return Di(t)?"[Array]":"[Object]";var v=WE(n,i);if(typeof a>"u")a=[];else if(Ou(a,t)>=0)return"[Circular]";function d(R,C,M){if(C&&(a=xE.call(a),a.push(C)),M){var D={depth:n.depth};return at(n,"quoteStyle")&&(D.quoteStyle=n.quoteStyle),e(R,D,i+1,a)}return e(R,n,i+1,a)}if(typeof t=="function"&&!ro(t)){var o=PE(t),h=$r(t,d);return"[Function"+(o?": "+o:" (anonymous)")+"]"+(h.length>0?" { "+Ue.call(h,", ")+" }":"")}if(xu(t)){var p=zt?ct.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Pi.call(t);return typeof t=="object"&&!zt?lr(p):p}if(FE(t)){for(var y="<"+Zs.call(String(t.nodeName)),g=t.attributes||[],w=0;w<g.length;w++)y+=" "+g[w].name+"="+_u(wE(g[w].value),"double",n);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+Zs.call(String(t.nodeName))+">",y}if(Di(t)){if(t.length===0)return"[]";var x=$r(t,d);return v&&!UE(x)?"["+Ni(x,v)+"]":"[ "+Ue.call(x,", ")+" ]"}if(TE(t)){var E=$r(t,d);return!("cause"in Error.prototype)&&"cause"in t&&!Su.call(t,"cause")?"{ ["+String(t)+"] "+Ue.call(Js.call("[cause]: "+d(t.cause),E),", ")+" }":E.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Ue.call(E,", ")+" }"}if(typeof t=="object"&&s){if(to&&typeof t[to]=="function"&&Ri)return Ri(t,{depth:c-i});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(RE(t)){var m=[];return js&&js.call(t,function(R,C){m.push(d(C,t,!0)+" => "+d(R,t))}),no("Map",cn.call(t),m,v)}if(LE(t)){var _=[];return zs&&zs.call(t,function(R){_.push(d(R,t))}),no("Set",fn.call(t),_,v)}if(DE(t))return Xn("WeakMap");if(kE(t))return Xn("WeakSet");if(NE(t))return Xn("WeakRef");if(bE(t))return lr(d(Number(t)));if(IE(t))return lr(d(Mi.call(t)));if(AE(t))return lr(yE.call(t));if(CE(t))return lr(d(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Ie)return"{ [object globalThis] }";if(!EE(t)&&!ro(t)){var O=$r(t,d),S=Qs?Qs(t)===Object.prototype:t instanceof Object||t.constructor===Object,b=t instanceof Object?"":"null prototype",T=!S&&Ee&&Object(t)===t&&Ee in t?ka.call(ht(t),8,-1):b?"Object":"",I=S||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",A=I+(T||b?"["+Ue.call(Js.call([],T||[],b||[]),": ")+"] ":"");return O.length===0?A+"{}":v?A+"{"+Ni(O,v)+"}":A+"{ "+Ue.call(O,", ")+" }"}return String(t)};function _u(e,t,r){var i=(r.quoteStyle||t)==="double"?'"':"'";return i+e+i}function wE(e){return ct.call(String(e),/"/g,"&quot;")}function Di(e){return ht(e)==="[object Array]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function EE(e){return ht(e)==="[object Date]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function ro(e){return ht(e)==="[object RegExp]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function TE(e){return ht(e)==="[object Error]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function CE(e){return ht(e)==="[object String]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function bE(e){return ht(e)==="[object Number]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function AE(e){return ht(e)==="[object Boolean]"&&(!Ee||!(typeof e=="object"&&Ee in e))}function xu(e){if(zt)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Pi)return!1;try{return Pi.call(e),!0}catch{}return!1}function IE(e){if(!e||typeof e!="object"||!Mi)return!1;try{return Mi.call(e),!0}catch{}return!1}var ME=Object.prototype.hasOwnProperty||function(e){return e in this};function at(e,t){return ME.call(e,t)}function ht(e){return mE.call(e)}function PE(e){if(e.name)return e.name;var t=SE.call(gE.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Ou(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function RE(e){if(!cn||!e||typeof e!="object")return!1;try{cn.call(e);try{fn.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function DE(e){if(!hr||!e||typeof e!="object")return!1;try{hr.call(e,hr);try{dr.call(e,dr)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function NE(e){if(!Ks||!e||typeof e!="object")return!1;try{return Ks.call(e),!0}catch{}return!1}function LE(e){if(!fn||!e||typeof e!="object")return!1;try{fn.call(e);try{cn.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function kE(e){if(!dr||!e||typeof e!="object")return!1;try{dr.call(e,dr);try{hr.call(e,hr)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function FE(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function wu(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return wu(ka.call(e,0,t.maxStringLength),t)+i}var a=ct.call(ct.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$E);return _u(a,"single",t)}function $E(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_E.call(t.toString(16))}function lr(e){return"Object("+e+")"}function Xn(e){return e+" { ? }"}function no(e,t,r,i){var a=i?Ni(r,i):Ue.call(r,", ");return e+" ("+t+") {"+a+"}"}function UE(e){for(var t=0;t<e.length;t++)if(Ou(e[t],`
`)>=0)return!1;return!0}function WE(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Ue.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Ue.call(Array(t+1),r)}}function Ni(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Ue.call(e,","+r)+`
`+t.prev}function $r(e,t){var r=Di(e),i=[];if(r){i.length=e.length;for(var a=0;a<e.length;a++)i[a]=at(e,a)?t(e[a],e):""}var n=typeof Qn=="function"?Qn(e):[],s;if(zt){s={};for(var u=0;u<n.length;u++)s["$"+n[u]]=n[u]}for(var l in e)at(e,l)&&(r&&String(Number(l))===l&&l<e.length||zt&&s["$"+l]instanceof Symbol||(gu.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if(typeof Qn=="function")for(var f=0;f<n.length;f++)Su.call(e,n[f])&&i.push("["+t(n[f])+"]: "+t(e[n[f]],e));return i}var Fa=bt,ir=uE,BE=OE,YE=Fa("%TypeError%"),Ur=Fa("%WeakMap%",!0),Wr=Fa("%Map%",!0),HE=ir("WeakMap.prototype.get",!0),GE=ir("WeakMap.prototype.set",!0),VE=ir("WeakMap.prototype.has",!0),jE=ir("Map.prototype.get",!0),zE=ir("Map.prototype.set",!0),KE=ir("Map.prototype.has",!0),$a=function(e,t){for(var r=e,i;(i=r.next)!==null;r=i)if(i.key===t)return r.next=i.next,i.next=e.next,e.next=i,i},ZE=function(e,t){var r=$a(e,t);return r&&r.value},JE=function(e,t,r){var i=$a(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},qE=function(e,t){return!!$a(e,t)},QE=function(){var t,r,i,a={assert:function(n){if(!a.has(n))throw new YE("Side channel does not contain "+BE(n))},get:function(n){if(Ur&&n&&(typeof n=="object"||typeof n=="function")){if(t)return HE(t,n)}else if(Wr){if(r)return jE(r,n)}else if(i)return ZE(i,n)},has:function(n){if(Ur&&n&&(typeof n=="object"||typeof n=="function")){if(t)return VE(t,n)}else if(Wr){if(r)return KE(r,n)}else if(i)return qE(i,n);return!1},set:function(n,s){Ur&&n&&(typeof n=="object"||typeof n=="function")?(t||(t=new Ur),GE(t,n,s)):Wr?(r||(r=new Wr),zE(r,n,s)):(i||(i={key:{},next:null}),JE(i,n,s))}};return a},XE=String.prototype.replace,eT=/%20/g,ei={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ua={default:ei.RFC3986,formatters:{RFC1738:function(e){return XE.call(e,eT,"+")},RFC3986:function(e){return String(e)}},RFC1738:ei.RFC1738,RFC3986:ei.RFC3986},tT=Ua,ti=Object.prototype.hasOwnProperty,pt=Array.isArray,$e=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),rT=function(t){for(;t.length>1;){var r=t.pop(),i=r.obj[r.prop];if(pt(i)){for(var a=[],n=0;n<i.length;++n)typeof i[n]<"u"&&a.push(i[n]);r.obj[r.prop]=a}}},Eu=function(t,r){for(var i=r&&r.plainObjects?Object.create(null):{},a=0;a<t.length;++a)typeof t[a]<"u"&&(i[a]=t[a]);return i},nT=function e(t,r,i){if(!r)return t;if(typeof r!="object"){if(pt(t))t.push(r);else if(t&&typeof t=="object")(i&&(i.plainObjects||i.allowPrototypes)||!ti.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var a=t;return pt(t)&&!pt(r)&&(a=Eu(t,i)),pt(t)&&pt(r)?(r.forEach(function(n,s){if(ti.call(t,s)){var u=t[s];u&&typeof u=="object"&&n&&typeof n=="object"?t[s]=e(u,n,i):t.push(n)}else t[s]=n}),t):Object.keys(r).reduce(function(n,s){var u=r[s];return ti.call(n,s)?n[s]=e(n[s],u,i):n[s]=u,n},a)},iT=function(t,r){return Object.keys(r).reduce(function(i,a){return i[a]=r[a],i},t)},aT=function(e,t,r){var i=e.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},sT=function(t,r,i,a,n){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),i==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;++l){var f=s.charCodeAt(l);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||n===tT.RFC1738&&(f===40||f===41)){u+=s.charAt(l);continue}if(f<128){u=u+$e[f];continue}if(f<2048){u=u+($e[192|f>>6]+$e[128|f&63]);continue}if(f<55296||f>=57344){u=u+($e[224|f>>12]+$e[128|f>>6&63]+$e[128|f&63]);continue}l+=1,f=65536+((f&1023)<<10|s.charCodeAt(l)&1023),u+=$e[240|f>>18]+$e[128|f>>12&63]+$e[128|f>>6&63]+$e[128|f&63]}return u},oT=function(t){for(var r=[{obj:{o:t},prop:"o"}],i=[],a=0;a<r.length;++a)for(var n=r[a],s=n.obj[n.prop],u=Object.keys(s),l=0;l<u.length;++l){var f=u[l],c=s[f];typeof c=="object"&&c!==null&&i.indexOf(c)===-1&&(r.push({obj:s,prop:f}),i.push(c))}return rT(r),t},lT=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},uT=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},cT=function(t,r){return[].concat(t,r)},fT=function(t,r){if(pt(t)){for(var i=[],a=0;a<t.length;a+=1)i.push(r(t[a]));return i}return r(t)},Tu={arrayToObject:Eu,assign:iT,combine:cT,compact:oT,decode:aT,encode:sT,isBuffer:uT,isRegExp:lT,maybeMap:fT,merge:nT},Cu=QE,Zr=Tu,vr=Ua,hT=Object.prototype.hasOwnProperty,io={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Ze=Array.isArray,dT=Array.prototype.push,bu=function(e,t){dT.apply(e,Ze(t)?t:[t])},vT=Date.prototype.toISOString,ao=vr.default,Oe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Zr.encode,encodeValuesOnly:!1,format:ao,formatter:vr.formatters[ao],indices:!1,serializeDate:function(t){return vT.call(t)},skipNulls:!1,strictNullHandling:!1},pT=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},ri={},yT=function e(t,r,i,a,n,s,u,l,f,c,v,d,o,h,p,y){for(var g=t,w=y,x=0,E=!1;(w=w.get(ri))!==void 0&&!E;){var m=w.get(t);if(x+=1,typeof m<"u"){if(m===x)throw new RangeError("Cyclic object value");E=!0}typeof w.get(ri)>"u"&&(x=0)}if(typeof l=="function"?g=l(r,g):g instanceof Date?g=v(g):i==="comma"&&Ze(g)&&(g=Zr.maybeMap(g,function(D){return D instanceof Date?v(D):D})),g===null){if(n)return u&&!h?u(r,Oe.encoder,p,"key",d):r;g=""}if(pT(g)||Zr.isBuffer(g)){if(u){var _=h?r:u(r,Oe.encoder,p,"key",d);return[o(_)+"="+o(u(g,Oe.encoder,p,"value",d))]}return[o(r)+"="+o(String(g))]}var O=[];if(typeof g>"u")return O;var S;if(i==="comma"&&Ze(g))h&&u&&(g=Zr.maybeMap(g,u)),S=[{value:g.length>0?g.join(",")||null:void 0}];else if(Ze(l))S=l;else{var b=Object.keys(g);S=f?b.sort(f):b}for(var T=a&&Ze(g)&&g.length===1?r+"[]":r,I=0;I<S.length;++I){var A=S[I],R=typeof A=="object"&&typeof A.value<"u"?A.value:g[A];if(!(s&&R===null)){var C=Ze(g)?typeof i=="function"?i(T,A):T:T+(c?"."+A:"["+A+"]");y.set(t,x);var M=Cu();M.set(ri,y),bu(O,e(R,C,i,a,n,s,i==="comma"&&h&&Ze(g)?null:u,l,f,c,v,d,o,h,p,M))}}return O},mT=function(t){if(!t)return Oe;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Oe.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=vr.default;if(typeof t.format<"u"){if(!hT.call(vr.formatters,t.format))throw new TypeError("Unknown format option provided.");i=t.format}var a=vr.formatters[i],n=Oe.filter;return(typeof t.filter=="function"||Ze(t.filter))&&(n=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Oe.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Oe.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Oe.charsetSentinel,delimiter:typeof t.delimiter>"u"?Oe.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Oe.encode,encoder:typeof t.encoder=="function"?t.encoder:Oe.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Oe.encodeValuesOnly,filter:n,format:i,formatter:a,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Oe.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Oe.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Oe.strictNullHandling}},gT=function(e,t){var r=e,i=mT(t),a,n;typeof i.filter=="function"?(n=i.filter,r=n("",r)):Ze(i.filter)&&(n=i.filter,a=n);var s=[];if(typeof r!="object"||r===null)return"";var u;t&&t.arrayFormat in io?u=t.arrayFormat:t&&"indices"in t?u=t.indices?"indices":"repeat":u="indices";var l=io[u];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=l==="comma"&&t&&t.commaRoundTrip;a||(a=Object.keys(r)),i.sort&&a.sort(i.sort);for(var c=Cu(),v=0;v<a.length;++v){var d=a[v];i.skipNulls&&r[d]===null||bu(s,yT(r[d],d,l,f,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var o=s.join(i.delimiter),h=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),o.length>0?h+o:""},Kt=Tu,Li=Object.prototype.hasOwnProperty,ST=Array.isArray,ge={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Kt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_T=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Au=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},xT="utf8=%26%2310003%3B",OT="utf8=%E2%9C%93",wT=function(t,r){var i={__proto__:null},a=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,n=r.parameterLimit===1/0?void 0:r.parameterLimit,s=a.split(r.delimiter,n),u=-1,l,f=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===OT?f="utf-8":s[l]===xT&&(f="iso-8859-1"),u=l,l=s.length);for(l=0;l<s.length;++l)if(l!==u){var c=s[l],v=c.indexOf("]="),d=v===-1?c.indexOf("="):v+1,o,h;d===-1?(o=r.decoder(c,ge.decoder,f,"key"),h=r.strictNullHandling?null:""):(o=r.decoder(c.slice(0,d),ge.decoder,f,"key"),h=Kt.maybeMap(Au(c.slice(d+1),r),function(p){return r.decoder(p,ge.decoder,f,"value")})),h&&r.interpretNumericEntities&&f==="iso-8859-1"&&(h=_T(h)),c.indexOf("[]=")>-1&&(h=ST(h)?[h]:h),Li.call(i,o)?i[o]=Kt.combine(i[o],h):i[o]=h}return i},ET=function(e,t,r,i){for(var a=i?t:Au(t,r),n=e.length-1;n>=0;--n){var s,u=e[n];if(u==="[]"&&r.parseArrays)s=[].concat(a);else{s=r.plainObjects?Object.create(null):{};var l=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=parseInt(l,10);!r.parseArrays&&l===""?s={0:a}:!isNaN(f)&&u!==l&&String(f)===l&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(s=[],s[f]=a):l!=="__proto__"&&(s[l]=a)}a=s}return a},TT=function(t,r,i,a){if(t){var n=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=i.depth>0&&s.exec(n),f=l?n.slice(0,l.index):n,c=[];if(f){if(!i.plainObjects&&Li.call(Object.prototype,f)&&!i.allowPrototypes)return;c.push(f)}for(var v=0;i.depth>0&&(l=u.exec(n))!==null&&v<i.depth;){if(v+=1,!i.plainObjects&&Li.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+n.slice(l.index)+"]"),ET(c,r,i,a)}},CT=function(t){if(!t)return ge;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?ge.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?ge.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:ge.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:ge.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:ge.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ge.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:ge.comma,decoder:typeof t.decoder=="function"?t.decoder:ge.decoder,delimiter:typeof t.delimiter=="string"||Kt.isRegExp(t.delimiter)?t.delimiter:ge.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:ge.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:ge.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:ge.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:ge.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ge.strictNullHandling}},bT=function(e,t){var r=CT(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof e=="string"?wT(e,r):e,a=r.plainObjects?Object.create(null):{},n=Object.keys(i),s=0;s<n.length;++s){var u=n[s],l=TT(u,i[u],r,typeof e=="string");a=Kt.merge(a,l,r)}return r.allowSparse===!0?a:Kt.compact(a)},AT=gT,IT=bT,MT=Ua,PT={formats:MT,parse:IT,stringify:AT};function RT(e){return e===void 0}var DT=RT;const NT=oe(DT);var ki=function(e,t){return ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},ki(e,t)};function et(e,t){function r(){this.constructor=e}ki(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Fi,$i,Ui,Wi,Bi,B,de,J,wr,P=function(){return P=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},P.apply(this,arguments)};function xt(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]])}return r}function H(e,t,r,i){return new(r||(r=Promise))(function(a,n){function s(f){try{l(i.next(f))}catch(c){n(c)}}function u(f){try{l(i.throw(f))}catch(c){n(c)}}function l(f){var c;f.done?a(f.value):(c=f.value,c instanceof r?c:new r(function(v){v(c)})).then(s,u)}l((i=i.apply(e,t||[])).next())})}function G(e,t){var r,i,a,n,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function u(l){return function(f){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&c[0]?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,i=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!((a=a.length>0&&a[a.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(c[0]===6&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(v){c=[6,v],i=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,f])}}}function Y(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i,a,n=r.call(e),s=[];try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function Wa(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Y(arguments[t]));return e}(function(e){e.tags="twitch.tv/tags",e.commands="twitch.tv/commands",e.membership="twitch.tv/membership"})(Fi||(Fi={})),function(e){e.JOIN="JOIN",e.MODE="MODE",e.PART="PART",e.NAMES="353",e.NAMES_END="366"}($i||($i={})),function(e){e.CLEAR_CHAT="CLEARCHAT",e.GLOBALUSERSTATE="GLOBALUSERSTATE",e.PRIVATE_MESSAGE="PRIVMSG",e.ROOM_STATE="ROOMSTATE",e.USER_NOTICE="USERNOTICE",e.USER_STATE="USERSTATE"}(Ui||(Ui={})),function(e){e.WELCOME="001",e.PING="PING",e.PONG="PONG",e.WHISPER="WHISPER"}(Wi||(Wi={})),function(e){e.CLEAR_CHAT="CLEARCHAT",e.CLEAR_MESSAGE="CLEARMSG",e.HOST_TARGET="HOSTTARGET",e.NOTICE="NOTICE",e.RECONNECT="RECONNECT",e.ROOM_STATE="ROOMSTATE",e.USER_NOTICE="USERNOTICE",e.USER_STATE="USERSTATE"}(Bi||(Bi={})),function(e){e.WELCOME="001",e.PING="PING",e.PONG="PONG",e.RECONNECT="RECONNECT",e.WHISPER="PRIVMSG #jtv",e.JOIN="JOIN",e.MODE="MODE",e.PART="PART",e.NAMES="353",e.NAMES_END="366",e.CLEAR_CHAT="CLEARCHAT",e.CLEAR_MESSAGE="CLEARMSG",e.GLOBALUSERSTATE="GLOBALUSERSTATE",e.HOST_TARGET="HOSTTARGET",e.NOTICE="NOTICE",e.PRIVATE_MESSAGE="PRIVMSG",e.ROOM_STATE="ROOMSTATE",e.USER_NOTICE="USERNOTICE",e.USER_STATE="USERSTATE"}(B||(B={})),function(e){e.RAW="RAW",e.ALL="*",e.CONNECTED="CONNECTED",e.DISCONNECTED="DISCONNECTED",e.RECONNECT="RECONNECT",e.AUTHENTICATED="AUTHENTICATED",e.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",e.GLOBALUSERSTATE="GLOBALUSERSTATE",e.ERROR_ENCOUNTERED="ERROR_ENCOUNTERED",e.PARSE_ERROR_ENCOUNTERED="PARSE_ERROR_ENCOUNTERED",e.ANON_GIFT_PAID_UPGRADE="ANON_GIFT_PAID_UPGRADE",e.GIFT_PAID_UPGRADE="GIFT_PAID_UPGRADE",e.RAID="RAID",e.RESUBSCRIPTION="RESUBSCRIPTION",e.RITUAL="RITUAL",e.SUBSCRIPTION="SUBSCRIPTION",e.SUBSCRIPTION_GIFT="SUBSCRIPTION_GIFT",e.SUBSCRIPTION_GIFT_COMMUNITY="SUBSCRIPTION_GIFT_COMMUNITY",e.ROOM_MODS="ROOM_MODS",e.MOD_GAINED="MOD_GAINED",e.MOD_LOST="MOD_LOST",e.USER_BANNED="USER_BANNED",e.CHEER="CHEER",e.HOST_ON="HOST_ON",e.HOST_OFF="HOST_OFF",e.HOSTED="HOSTED",e.HOSTED_WITHOUT_VIEWERS="HOSTED/WITHOUT_VIEWERS",e.HOSTED_WITH_VIEWERS="HOSTED/WITH_VIEWERS",e.HOSTED_AUTO="HOSTED/AUTO"}(de||(de={})),function(e){e.BAN="ban",e.BLOCK="block",e.CLEAR="clear",e.COLOR="color",e.COMMERCIAL="commercial",e.DELETE="delete",e.EMOTE_ONLY="emoteonly",e.EMOTE_ONLY_OFF="emoteonlyoff",e.FOLLOWERS_ONLY="followers",e.FOLLOWERS_ONLY_OFF="followersoff",e.HELP="help",e.HOST="host",e.MARKER="marker",e.ME="me",e.MOD="mod",e.MODS="mods",e.R9K="r9kbeta",e.R9K_OFF="r9kbetaoff",e.RAID="raid",e.SLOW="slow",e.SLOW_OFF="slowoff",e.SUBSCRIBERS="subscribers",e.SUBSCRIBERS_OFF="subscribersoff",e.TIMEOUT="timeout",e.UNBAN="unban",e.UNBLOCK="unblock",e.UNHOST="unhost",e.UNMOD="unmod",e.UNRAID="unraid",e.UNVIP="unvip",e.VIP="vip",e.VIPS="vips",e.WHISPER="w"}(J||(J={})),function(e){e.ALREADY_BANNED="already_banned",e.ALREADY_EMOTE_ONLY_OFF="already_emote_only_off",e.ALREADY_EMOTE_ONLY_ON="already_emote_only_on",e.ALREADY_R9K_OFF="already_r9k_off",e.ALREADY_R9K_ON="already_r9k_on",e.ALREADY_SUBS_OFF="already_subs_off",e.ALREADY_SUBS_ON="already_subs_on",e.BAD_HOST_HOSTING="bad_host_hosting",e.BAD_MOD_MOD="bad_mod_mod",e.BAN_SUCCESS="ban_success",e.BAD_UNBAN_NO_BAN="bad_unban_no_ban",e.COLOR_CHANGED="color_changed",e.CMDS_AVAILABLE="cmds_available",e.COMMERCIAL_SUCCESS="commercial_success",e.EMOTE_ONLY_OFF="emote_only_off",e.EMOTE_ONLY_ON="emote_only_on",e.FOLLOWERS_OFF="followers_off",e.FOLLOWERS_ON="followers_on",e.FOLLOWERS_ONZERO="followers_onzero",e.HOST_OFF="host_off",e.HOST_ON="host_on",e.HOSTS_REMAINING="hosts_remaining",e.MSG_CHANNEL_SUSPENDED="msg_channel_suspended",e.MOD_SUCCESS="mod_success",e.NOT_HOSTING="not_hosting",e.R9K_OFF="r9k_off",e.R9K_ON="r9k_on",e.ROOM_MODS="room_mods",e.SLOW_OFF="slow_off",e.SLOW_ON="slow_on",e.SUBS_OFF="subs_off",e.SUBS_ON="subs_on",e.TIMEOUT_SUCCESS="timeout_success",e.UNBAN_SUCCESS="unban_success",e.UNMOD_SUCCESS="unmod_success",e.UNRAID_SUCCESS="unraid_success",e.UNRECOGNIZED_CMD="unrecognized_cmd"}(wr||(wr={}));var Yi,De;Object.entries(wr).reduce(function(e,t){var r,i=Y(t,2),a=i[0],n=i[1];return P(P({},e),((r={})[a]=n.toUpperCase(),r))},{});var Iu=Object.keys(wr).reduce(function(e,t){var r;return P(P({},e),((r={})[t]=t,r[B.NOTICE+"/"+t.toUpperCase()]=t,r))},{});(function(e){e.CHEER="CHEER",e.HOSTED_WITHOUT_VIEWERS="HOSTED_WITHOUT_VIEWERS",e.HOSTED_WITH_VIEWERS="HOSTED_WITH_VIEWERS",e.HOSTED_AUTO="HOSTED_AUTO"})(Yi||(Yi={})),function(e){e.ANON_GIFT_PAID_UPGRADE="anongiftpaidupgrade",e.GIFT_PAID_UPGRADE="giftpaidupgrade",e.RAID="raid",e.RESUBSCRIPTION="resub",e.RITUAL="ritual",e.SUBSCRIPTION="sub",e.SUBSCRIPTION_GIFT="subgift",e.SUBSCRIPTION_GIFT_COMMUNITY="submysterygift"}(De||(De={}));var Hi,Gi,LT=Object.keys(De).reduce(function(e,t){var r;return P(P({},e),((r={})[t]=t,r[B.USER_NOTICE+"/"+t]=t,r))},{}),fe=P(P(P(P(P(P(P(P({},$i),Ui),Wi),Bi),de),Iu),Yi),LT);(function(e){e[e.admin=0]="admin",e[e.broadcaster=1]="broadcaster",e[e.globalMod=2]="globalMod",e[e.moderator=3]="moderator",e[e.partner=4]="partner",e[e.premium=5]="premium",e[e.staff=6]="staff",e[e.subGifter=7]="subGifter",e[e.turbo=8]="turbo",e[e.vip=9]="vip"})(Hi||(Hi={})),function(e){e[e.bits=0]="bits",e[e.bitsLeader=1]="bitsLeader",e[e.subscriber=2]="subscriber"}(Gi||(Gi={}));var Vi,Ba=function(e){e===void 0&&(e={});var t=e.name,r=xt(e,["name"]),i=["TwitchJS"].concat(t||[]).join("/"),a=Um(P({name:i,prettyPrint:!0,level:"info"},r));return a.profile=function(n){var s=Date.now();return n&&a.info(n),{done:function(u,l){var f=u+" ("+(Date.now()-s)+"ms)";l?a.error(f,l):a.info(f)}}},a},kT=function(e){var t=new Date(parseInt(e,10));return t.toString()!=="Invalid Date"?t:new Date},FT=function(e,t){return t===void 0&&(t=""),e.split(/\r?\n/g).reduce(function(r,i){if(!i.length)return r;var a=r0(i),n=a.command,s=a.tags,u=s===void 0?{}:s,l=a.prefix,f=l===void 0?{name:void 0,user:void 0,host:void 0}:l,c=f.name,v=f.user,d=f.host,o=Y(a.params,2),h=o[0],p=o[1],y=String(u["tmi-sent-ts"])||Date.now().toString(),g=Ca(u)?{}:Al(u),w=function(){for(var x=[],E=0;E<arguments.length;E++)x[E]=arguments[E];return x.reduce(function(m,_){return typeof _!="string"?m:_==="tmi.twitch.tv"?"tmi.twitch.tv":sn(_).split(".")[0]},void 0)}(d,c,v,g.login,g.username,g.displayName);return Wa(r,[{_raw:i,timestamp:kT(y),command:n,event:n,channel:h!=="*"?h:"",username:w,isSelf:typeof w=="string"&&sn(t)===w,tags:g,message:p}])},[])},$T=function(e){return e==null?"TWITCHJS":e.startsWith("oauth:")?e:"oauth:"+e};(function(e){e.RAW="RAW",e.ALL="*",e.CONNECTED="CONNECTED",e.DISCONNECTED="DISCONNECTED",e.RECONNECT="RECONNECT",e.AUTHENTICATED="AUTHENTICATED",e.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",e.ERROR_ENCOUNTERED="ERROR_ENCOUNTERED"})(Vi||(Vi={}));var st,Q,ji,zi,Br,re=P(P({},B),Vi),UT=function(e){function t(r){var i=e.call(this)||this;i._clientPriority=100,i._options=function(c){var v,d={username:function(h){return on(h)||gt(h)},token:function(h){return on(h)||gt(h)},server:gt,port:Or,ssl:cr,isKnown:cr,isVerified:cr},o=Ia(P(P({},c),{username:(v=c.username,Ca(v)||v==="justinfan"?"justinfan"+Hl(8e4,81e3):v),token:c.token?$T(c.token):void 0}),{server:"irc-ws.chat.twitch.tv",port:443,ssl:!0,isKnown:!1,isVerified:!1});return ba(Aa(o,d),"[twitch-js/Chat/Client] options: Expected valid options"),o}(r);var a=i._options,n=a.ssl,s=a.server,u=a.port,l=a.log;i._log=Ba(P({name:"Chat/Client"},l));var f=n?"wss":"ws";return i._ws=new Bm(f+"://"+s+":"+u),i._ws.onopen=i._handleOpen.bind(i),i._ws.onmessage=i._handleMessage.bind(i),i._ws.onerror=i._handleError.bind(i),i._ws.onclose=i._handleClose.bind(i),i._queueAuthenticate=i._options.isVerified?new Pt({intervalCap:200,interval:1e4}):new Pt({intervalCap:20,interval:1e4}),i._queueJoin=i._options.isVerified?new Pt({intervalCap:2e3,interval:1e4}):new Pt({intervalCap:20,interval:1e4}),i._queue=new Pt({intervalCap:20,interval:3e4}),i._moderatorQueue=new Pt({intervalCap:100,interval:3e4}),i}return et(t,e),t.prototype.isReady=function(){return this._ws.readyState===1},t.prototype.send=function(r,i){return H(this,void 0,void 0,function(){var a,n,s,u=this;return G(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),a=P({priority:0,isModerator:!1},i),n=a.priority,s=a.isModerator,[4,(r.startsWith("JOIN")?this._queueJoin:r.startsWith("PASS")?this._queueAuthenticate:s&&this._moderatorQueue?this._moderatorQueue:this._queue).add(function(){return u._ws.send(r)},{priority:n})];case 1:return l.sent(),this._log.trace("< "+r),[3,3];case 2:return l.sent(),this._log.error("< "+r),[3,3];case 3:return[2]}})})},t.prototype.disconnect=function(){var r,i;this._queueAuthenticate.pause(),this._queueJoin.pause(),this._queue.pause(),(r=this._moderatorQueue)===null||r===void 0||r.pause(),clearTimeout(this._queueAuthenticate._timeoutId),clearTimeout(this._queueJoin._timeoutId),clearTimeout(this._queue._timeoutId),clearTimeout((i=this._moderatorQueue)===null||i===void 0?void 0:i._timeoutId),this._handleHeartbeatReset(),this._ws.close()},t.prototype._handleOpen=function(){var r=this._clientPriority;this.send("CAP REQ :"+Object.values(Fi).join(" "),{priority:r});var i=this._options,a=i.token,n=i.username;a&&n&&this.send("PASS "+a,{priority:r}),this.send("NICK "+n,{priority:r}),this._handleHeartbeat()},t.prototype._handleMessage=function(r){var i=this,a=r.data.toString();this._log.trace("> "+a.trim());var n=this._options,s=n.token,u=n.username,l=this._clientPriority;this._handleHeartbeat();var f=[];try{f=FT(a,this._options.username)}catch(c){this._log.error(`
An error occurred while attempting to parse a message from Twitch. Please use the following stack trace and raw message to resolve the bug in the TwitchJS source code, and then issue a pull request at https://github.com/twitch-js/twitch-js/compare

Stack trace:
`+c+`

Raw message:
`+a),this.emit(re.ERROR_ENCOUNTERED,c)}f.forEach(function(c){var v=c.command||"";i._log.debug(P(P({},c),{_raw:void 0}),"> %s",v),function(d){return d!==void 0&&d.command===B.NOTICE&&d.channel===""&&d.message==="Login authentication failed"}(c)?(i._multiEmit([re.ALL,re.AUTHENTICATION_FAILED],P(P({},c),{event:re.AUTHENTICATION_FAILED})),i.disconnect()):c.command===B.PING?i.send("PONG :tmi.twitch.tv",{priority:l}):s||c.command!==B.WELCOME?c.command===B.GLOBALUSERSTATE?(i._multiEmit([re.ALL,re.GLOBALUSERSTATE],P(P({},c),{event:re.GLOBALUSERSTATE})),s&&u&&i._multiEmit([re.ALL,re.CONNECTED],P(P({},c),{event:re.CONNECTED}))):c.command===B.RECONNECT?i._multiEmit([re.ALL,re.RECONNECT],P(P({},c),{event:re.RECONNECT})):i.emit(re.ALL,c):i._multiEmit([re.ALL,re.CONNECTED],P(P({},c),{event:re.CONNECTED}))}),this.emit(re.RAW,a)},t.prototype._handleError=function(r){this._log.error(r)},t.prototype._handleClose=function(r){this.emit(re.DISCONNECTED)},t.prototype._handleHeartbeat=function(){var r=this;this._handleHeartbeatReset();var i=this._clientPriority;this._heartbeatTimeoutId=setTimeout(function(){r.send(B.PING,{priority:i})},15e4),this._reconnectTimeoutId=setTimeout(function(){r.emit(re.RECONNECT)},151e3)},t.prototype._handleHeartbeatReset=function(){this._heartbeatTimeoutId&&clearTimeout(this._heartbeatTimeoutId),this._reconnectTimeoutId&&clearTimeout(this._reconnectTimeoutId)},t.prototype._multiEmit=function(r,i){var a=this;Array.isArray(r)?r.forEach(function(n){return a.emit(n,i)}):this.emit(r,i)},t}(yi),WT=new RegExp("^msgParam(\\w+)"),BT=/:.+@jtv\.tmi\.twitch\.tv PRIVMSG #?(\w+) :(\w+) is now (?:(auto) )?hosting[A-z ]+(\d+)?/,Yr=Symbol("connect"),ni=Symbol("connected"),ii=Symbol("disconnect"),so=Symbol("disconnected"),ai=Symbol("reconnect"),pr=function(e){return typeof e=="string"?sw(e,/\\[sn]/g," "):void 0},Gt=function(e){var t=parseInt(e,10);return Or(t)?t:void 0},Mu=function(e){return e==="1"},YT=function(e){return Y(e.split(": "),2)[1].split(", ")},HT=function(e){return Object.entries(e).reduce(function(t,r){var i,a,n,s,u,l,f=Y(r,2),c=f[0],v=f[1];switch(c){case"followersOnly":return P(P({},t),((i={})[c]=(l=parseInt(v,10))===0||l>0&&l,i));case"broadcasterLang":return P(P({},t),((a={})[c]=pr(v),a));case"slow":return P(P({},t),((n={})[c]=Gt(v),n));case"emoteOnly":case"r9k":case"subsOnly":return P(P({},t),((s={})[c]=Mu(v),s));default:return P(P({},t),((u={})[c]=v,u))}},{})},Ya=function(e){return P(P({},e),{badges:(a=e.badges,typeof a=="string"?a.split(",").reduce(function(n,s){var u,l,f,c=Y(s.split("/"),2),v=c[0],d=c[1];if(d===void 0)return n;var o=Ci(v);return P(P({},n),o in Hi?((u={})[o]=Mu(d),u):o in Gi?((l={})[o]=parseInt(d,10),l):((f={})[o]=d,f))},{}):{}),bits:Gt(e.bits),color:e.color,displayName:e.displayName,emotes:(i=e.emotes,typeof i!="string"?[]:i.split("/").reduce(function(n,s){var u=Y(s.split(":"),2),l=u[0],f=u[1];return l?Wa(n,f.split(",").map(function(c){var v=Y(c.split("-"),2),d=v[0],o=v[1];return{id:l,start:parseInt(d,10),end:parseInt(o,10)}})):n},[])),emoteSets:(r=e.emoteSets,typeof r=="string"?r.split(","):[]),userType:(t=e.userType,typeof t=="string"?t:void 0),username:e.displayName?sn(e.displayName):e.username,isModerator:e.mod==="1"});var t,r,i,a},GT=function(e){return P(P({},e),Ya(e))},VT=Ya,jT=function(e){var t,r=e.tags,i=xt(e,["tags"]),a=(t=e)!==void 0&&t.command===B.NOTICE&&t.channel===""&&t.message==="Login authentication failed"?P(P({},r),{msgId:sn(fe.AUTHENTICATION_FAILED)}):r,n=Pa(a.msgId);return a.msgId===wr.ROOM_MODS?P(P({},i),{command:B.NOTICE,event:Iu.ROOM_MODS,tags:a,mods:YT(i.message)}):P(P({},i),{command:B.NOTICE,event:n,tags:a})},si=function(e){var t=e.tags,r=xt(e,["tags"]);return P(P({},r),{command:B.USER_STATE,event:B.USER_STATE,tags:Ya(t)})},zT=function(e){var t=B.USER_NOTICE,r=P(P({},VT(e.tags)),{systemMsg:pr(e.tags.systemMsg)}),i=pr(e.tags.systemMsg)||"",a=function(n){return Object.entries(n).reduce(function(s,u){var l,f,c=Y(u,2),v=c[0],d=c[1],o=Y(WT.exec(v)||[],2)[1];switch(o){case"Months":case"MassGiftCount":case"PromoGiftTotal":case"SenderCount":case"ViewerCount":return P(P({},s),((l={})[Ci(o)]=Gt(d),l));case void 0:return s;default:return P(P({},s),((f={})[Ci(o)]=pr(d),f))}},{})}(r);switch(r.msgId){case De.ANON_GIFT_PAID_UPGRADE:return P(P({},e),{command:t,event:de.ANON_GIFT_PAID_UPGRADE,parameters:a,tags:r,systemMessage:i});case De.GIFT_PAID_UPGRADE:return P(P({},e),{command:t,event:de.GIFT_PAID_UPGRADE,parameters:a,tags:r,systemMessage:i});case De.RAID:return P(P({},e),{command:t,event:de.RAID,parameters:a,tags:r,systemMessage:i});case De.RESUBSCRIPTION:return P(P({},e),{command:t,event:de.RESUBSCRIPTION,parameters:a,tags:r,systemMessage:i});case De.RITUAL:return P(P({},e),{command:t,event:de.RITUAL,parameters:a,tags:r,systemMessage:i});case De.SUBSCRIPTION_GIFT_COMMUNITY:return P(P({},e),{command:t,event:de.SUBSCRIPTION_GIFT_COMMUNITY,parameters:a,tags:r,systemMessage:i});case De.SUBSCRIPTION_GIFT:return P(P({},e),{command:t,event:de.SUBSCRIPTION_GIFT,parameters:a,tags:r,systemMessage:i});case De.SUBSCRIPTION:return P(P({},e),{command:t,event:de.SUBSCRIPTION,parameters:a,tags:r,systemMessage:i});default:return P(P({},e),{command:t,event:Pa(r.msgId),tags:r,parameters:a,systemMessage:i})}},Pu=function(e){return typeof e!="string"||e.length===0?"":(e=e.toLowerCase()).startsWith("#")?e:"#"+e},KT=function(e){return e==null?"TWITCHJS":e.startsWith("oauth:")?e:"oauth:"+e},oi=function(e){var t,r={username:function(a){return on(a)||gt(a)},token:function(a){return on(a)||gt(a)},isKnown:cr,isVerified:cr,connectionTimeout:Or,joinTimeout:Or,onAuthenticationFailure:dl},i=Ia(P(P({},e),{username:e.username?(t=e.username,Ca(t)||t==="justinfan"?"justinfan"+Hl(8e4,81e3):t):void 0,token:e.token?KT(e.token):void 0}),{isKnown:!1,isVerified:!1,connectionTimeout:5e3,joinTimeout:1e3,onAuthenticationFailure:function(){return Promise.reject()}});return ba(Aa(i,r),"[twitch-js/Chat] options: Expected valid options"),i},Z=function(e){if(!(e=Pu(e)))throw new Error("Channel required");return e},Vt=function(e){function t(r){var i=e.call(this,r)||this;return i.timestamp=new Date,Object.defineProperty(i,"name",{value:"TwitchJSError"}),i}return et(t,e),t}(cw),Ki=function(e){function t(r,i){var a=e.call(this,r)||this;return a.body=i,Object.defineProperty(a,"name",{value:"TwitchJSAuthenticationError"}),a}return et(t,e),t}(Vt),Hr=function(e){function t(r,i){var a=e.call(this,r)||this;return a.body=i,Object.defineProperty(a,"name",{value:"TwitchJSChatError"}),a}return et(t,e),t}(Vt);(function(e){function t(r,i){var a=e.call(this,r)||this;return a.body=i,Object.defineProperty(a,"name",{value:"TwitchJSChatParseError"}),a}et(t,e)})(Vt),function(e){function t(r,i){var a=e.call(this,r)||this;return a.body=i,Object.defineProperty(a,"name",{value:"TwitchJSChatJoinError"}),a}et(t,e)}(Vt),function(e){function t(r,i){var a=e.call(this,r)||this;return a.body=i,Object.defineProperty(a,"name",{value:"TwitchJSChatTimeoutError"}),a}et(t,e)}(Vt);(function(e){e[e.WAITING=0]="WAITING",e[e.CONNECTING=1]="CONNECTING",e[e.RECONNECTING=2]="RECONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.DISCONNECTING=4]="DISCONNECTING",e[e.DISCONNECTED=5]="DISCONNECTED"})(st||(st={})),function(e){e.ALREADY_BANNED="NOTICE/ALREADY_BANNED",e.ALREADY_EMOTE_ONLY_OFF="NOTICE/ALREADY_EMOTE_ONLY_OFF",e.ALREADY_EMOTE_ONLY_ON="NOTICE/ALREADY_EMOTE_ONLY_ON",e.ALREADY_R9K_OFF="NOTICE/ALREADY_R9K_OFF",e.ALREADY_R9K_ON="NOTICE/ALREADY_R9K_ON",e.ALREADY_SUBS_OFF="NOTICE/ALREADY_SUBS_OFF",e.ALREADY_SUBS_ON="NOTICE/ALREADY_SUBS_ON",e.BAD_HOST_HOSTING="NOTICE/BAD_HOST_HOSTING",e.BAD_MOD_MOD="NOTICE/BAD_MOD_MOD",e.BAN_SUCCESS="NOTICE/BAN_SUCCESS",e.BAD_UNBAN_NO_BAN="NOTICE/BAD_UNBAN_NO_BAN",e.COLOR_CHANGED="NOTICE/COLOR_CHANGED",e.CMDS_AVAILABLE="NOTICE/CMDS_AVAILABLE",e.COMMERCIAL_SUCCESS="NOTICE/COMMERCIAL_SUCCESS",e.EMOTE_ONLY_OFF="NOTICE/EMOTE_ONLY_OFF",e.EMOTE_ONLY_ON="NOTICE/EMOTE_ONLY_ON",e.FOLLOWERS_OFF="NOTICE/FOLLOWERS_OFF",e.FOLLOWERS_ON="NOTICE/FOLLOWERS_ON",e.FOLLOWERS_ONZERO="NOTICE/FOLLOWERS_ONZERO",e.HOST_OFF="NOTICE/HOST_OFF",e.HOST_ON="NOTICE/HOST_ON",e.HOSTS_REMAINING="NOTICE/HOSTS_REMAINING",e.MSG_CHANNEL_SUSPENDED="NOTICE/MSG_CHANNEL_SUSPENDED",e.MOD_SUCCESS="NOTICE/MOD_SUCCESS",e.NOT_HOSTING="NOTICE/NOT_HOSTING",e.R9K_OFF="NOTICE/R9K_OFF",e.R9K_ON="NOTICE/R9K_ON",e.ROOM_MODS="NOTICE/ROOM_MODS",e.SLOW_OFF="NOTICE/SLOW_OFF",e.SLOW_ON="NOTICE/SLOW_ON",e.SUBS_OFF="NOTICE/SUBS_OFF",e.SUBS_ON="NOTICE/SUBS_ON",e.TIMEOUT_SUCCESS="NOTICE/TIMEOUT_SUCCESS",e.UNBAN_SUCCESS="NOTICE/UNBAN_SUCCESS",e.UNMOD_SUCCESS="NOTICE/UNMOD_SUCCESS",e.UNRAID_SUCCESS="NOTICE/UNRAID_SUCCESS",e.UNRECOGNIZED_CMD="NOTICE/UNRECOGNIZED_CMD"}(Q||(Q={})),function(e){e.CHEER="PRIVMSG/CHEER",e.HOSTED_WITHOUT_VIEWERS="PRIVMSG/HOSTED_WITHOUT_VIEWERS",e.HOSTED_WITH_VIEWERS="PRIVMSG/HOSTED_WITH_VIEWERS",e.HOSTED_AUTO="PRIVMSG/HOSTED_AUTO"}(ji||(ji={})),function(e){e.ANON_GIFT_PAID_UPGRADE="USERNOTICE/ANON_GIFT_PAID_UPGRADE",e.GIFT_PAID_UPGRADE="USERNOTICE/GIFT_PAID_UPGRADE",e.RAID="USERNOTICE/RAID",e.RESUBSCRIPTION="USERNOTICE/RESUBSCRIPTION",e.RITUAL="USERNOTICE/RITUAL",e.SUBSCRIPTION="USERNOTICE/SUBSCRIPTION",e.SUBSCRIPTION_GIFT="USERNOTICE/SUBSCRIPTION_GIFT",e.SUBSCRIPTION_GIFT_COMMUNITY="USERNOTICE/SUBSCRIPTION_GIFT_COMMUNITY"}(zi||(zi={}));var hn,ZT=function(e){function t(r){var i=e.call(this)||this;return i._internalEmitter=new yi,i._readyState=st.WAITING,i._connectionAttempts=0,i._channelState={},i._isAuthenticated=!1,i._handleConnect=function(){var a=i._log.profile("connecting ...");i._readyState=st.CONNECTING,i._connectionAttempts+=1,i._client&&i._client.removeAllListeners(),i._client=new UT(i._options),i._client.once(re.DISCONNECTED,function(){return i._internalEmitter.emit(ii)}),i._client.once(re.RECONNECT,function(){return i._internalEmitter.emit(ai)}),i._client.once(re.AUTHENTICATION_FAILED,i._handleClientAuthenticationFailure),i._client.once(re.CONNECTED,function(n){if(i._readyState=st.CONNECTED,i._options.token&&i._options.username){var s=(l=(u=n).tags,f=xt(u,["tags"]),P(P({},f),{command:B.GLOBALUSERSTATE,event:B.GLOBALUSERSTATE,tags:GT(l)}));i._globalUserState=s.tags,i._isAuthenticated=!0}var u,l,f;i._handleJoinsAfterConnect(),i._internalEmitter.emit(ni),a.done("connected")}),i._client.on(re.ALL,i._handleClientMessage,i)},i._handleDisconnect=function(){var a,n;i._log.info("disconnecting ..."),i._readyState=st.DISCONNECTING,i._isAuthenticated=!1,i._clearChannelState(),(a=i._client)===null||a===void 0||a.once(re.DISCONNECTED,function(){i._internalEmitter.emit(so),i._readyState=st.DISCONNECTED,i._log.info("disconnected")}),(n=i._client)===null||n===void 0||n.disconnect()},i._handleReconnect=function(){var a,n,s;i._log.info("reconnecting ..."),i._readyState=st.RECONNECTING,(a=i._client)===null||a===void 0||a.removeAllListeners(),(n=i._client)===null||n===void 0||n.once(re.DISCONNECTED,function(){i._internalEmitter.emit(Yr)}),(s=i._client)===null||s===void 0||s.disconnect()},i._handleClientAuthenticationFailure=function(a){return H(i,void 0,void 0,function(){var n,s,u,l,f,c;return G(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),this._log.info("retrying ..."),[4,(c=(f=this._options).onAuthenticationFailure)===null||c===void 0?void 0:c.call(f)];case 1:return(n=v.sent())&&(this._log.info("re-authenticating ..."),this._options=P(P({},this._options),{token:n})),this._internalEmitter.emit(Yr),[3,3];case 2:return s=v.sent(),u=s||a,l=new Ki((a==null?void 0:a.message)||"Login authentication failed",a),this._internalEmitter.emit(fe.ERROR_ENCOUNTERED,l),this._log.error(u,"authentication failed"),[3,3];case 3:return[2]}})})},i._options=oi(r),i._log=Ba(P({name:"Chat"},i._options.log)),i._internalEmitter.on(Yr,i._handleConnect),i._internalEmitter.on(ii,i._handleDisconnect),i._internalEmitter.on(ai,i._handleReconnect),i}return et(t,e),t.prototype.connect=function(){return this._connectionInProgress||(this._connectionInProgress=te(this._internalEmitter,ni,{rejectionEvents:[fe.ERROR_ENCOUNTERED],timeout:this._options.connectionTimeout}),this._internalEmitter.emit(Yr)),this._connectionInProgress},t.prototype.updateOptions=function(r){var i=this._options,a=i.token,n=i.username;this._options=oi(P(P({},r),{token:a,username:n}))},t.prototype.send=function(r,i){if(!this._client)throw new Hr("Not connected");return this._client.send(r,i)},t.prototype.disconnect=function(){return this._connectionInProgress&&(this._connectionInProgress.cancel(),this._connectionInProgress=void 0),this._disconnectionInProgress=te(this._internalEmitter,so,{timeout:this._options.connectionTimeout}).catch(),this._internalEmitter.emit(ii),this._disconnectionInProgress},t.prototype.reconnect=function(r){return this._reconnectionInProgress||(r&&(this._options=oi(P(P({},this._options),r))),this._reconnectionInProgress=te(this._internalEmitter,ni,{timeout:this._options.connectionTimeout}),this._internalEmitter.emit(ai)),this._reconnectionInProgress},t.prototype.join=function(r){return H(this,void 0,void 0,function(){var i,a,n,s,u;return G(this,function(l){switch(l.label){case 0:return r=Z(r),i=this._log.profile("joining "+r),[4,Promise.all([te(this,B.ROOM_STATE+"/"+r),this._isAuthenticated?te(this,B.USER_STATE+"/"+r):void 0,this.send(B.JOIN+" "+r)])];case 1:return a=Y.apply(void 0,[l.sent(),2]),n=a[0],s=a[1],u={roomState:n.tags,userState:s?s.tags:void 0},this._setChannelState(n.channel,u),i.done("Joined "+r),[2,u]}})})},t.prototype.part=function(r){return r=Z(r),this._log.info("parting "+r),this._removeChannelState(r),this.send(B.PART+" "+r)},t.prototype.say=function(r,i,a){var n,s;return a===void 0&&(a={}),H(this,void 0,void 0,function(){var u,l,f;return G(this,function(c){switch(c.label){case 0:if(!this._isAuthenticated)throw new Hr("To send messages, please connect with a token and username");return r=Z(r),u=i.startsWith("/"),l=((s=(n=this._channelState[r])===null||n===void 0?void 0:n.userState)===null||s===void 0?void 0:s.mod)==="1",u?this._log.info("CMD/"+r+" :"+i):this._log.info("PRIVMSG/"+r+" :"+i),f=u?Promise.resolve():te(this,B.USER_STATE+"/"+r),[4,Promise.all([f,this.send(B.PRIVATE_MESSAGE+" "+r+" :"+i,P({isModerator:l},a))])];case 1:return c.sent(),[2]}})})},t.prototype.broadcast=function(r){return H(this,void 0,void 0,function(){var i=this;return G(this,function(a){if(!this._isAuthenticated)throw new Hr("To broadcast, please connect with a token and username");return[2,this._getChannels().map(function(n){return i.say(n,r)})]})})},t.prototype.ban=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.BAN+" "+i,[4,Promise.all([te(this,[Q.BAN_SUCCESS+"/"+r,Q.ALREADY_BANNED+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.block=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){return r=Z(r),a="/"+J.BLOCK+" "+i,[2,this.say(r,a)]})})},t.prototype.delete=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){return r=Z(r),a="/"+J.DELETE+" "+i,[2,this.say(r,a)]})})},t.prototype.clear=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.CLEAR,[4,Promise.all([te(this,[B.CLEAR_CHAT+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.color=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.COLOR+" "+i,[4,Promise.all([te(this,[Q.COLOR_CHANGED+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.commercial=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.COMMERCIAL+" "+i,[4,Promise.all([te(this,[Q.COMMERCIAL_SUCCESS+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.emoteOnly=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.EMOTE_ONLY,[4,Promise.all([te(this,[Q.EMOTE_ONLY_ON+"/"+r,Q.ALREADY_EMOTE_ONLY_ON+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.emoteOnlyOff=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.EMOTE_ONLY_OFF,[4,Promise.all([te(this,[Q.EMOTE_ONLY_OFF+"/"+r,Q.ALREADY_EMOTE_ONLY_OFF+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.followersOnly=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.FOLLOWERS_ONLY+" "+i,[4,Promise.all([te(this,[Q.FOLLOWERS_ONZERO+"/"+r,Q.FOLLOWERS_ON+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.followersOnlyOff=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.FOLLOWERS_ONLY_OFF,[4,Promise.all([te(this,[Q.FOLLOWERS_OFF+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.help=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.HELP,[4,Promise.all([te(this,[Q.CMDS_AVAILABLE+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.host=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.HOST+" "+i,[4,Promise.all([te(this,[Q.HOST_ON+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.marker=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){return r=Z(r),a="/"+J.MARKER+" "+i.slice(0,140),[2,this.say(r,a)]})})},t.prototype.me=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){return r=Z(r),a="/"+J.ME+" "+i,[2,this.say(r,a)]})})},t.prototype.mod=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.MOD+" "+i,[4,Promise.all([te(this,[Q.MOD_SUCCESS+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.mods=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.MODS,[4,Promise.all([te(this,[Q.ROOM_MODS+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.r9K=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.R9K,[4,Promise.all([te(this,[Q.R9K_ON+"/"+r,Q.ALREADY_R9K_ON+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.r9KOff=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.R9K_OFF,[4,Promise.all([te(this,[Q.R9K_OFF+"/"+r,Q.ALREADY_R9K_OFF+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.raid=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){return r=Z(r),a="/"+J.RAID+" "+i,[2,this.say(r,a)]})})},t.prototype.slow=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.SLOW+" "+i,[4,Promise.all([te(this,[Q.SLOW_ON+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.slowOff=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.SLOW_OFF,[4,Promise.all([te(this,[Q.SLOW_OFF+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.subscribers=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.SUBSCRIBERS,[4,Promise.all([te(this,[Q.SUBS_ON+"/"+r,Q.ALREADY_SUBS_ON+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.subscribersOff=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.SUBSCRIBERS_OFF,[4,Promise.all([te(this,[Q.SUBS_OFF+"/"+r,Q.ALREADY_SUBS_OFF+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.timeout=function(r,i,a){return H(this,void 0,void 0,function(){var n,s,u;return G(this,function(l){switch(l.label){case 0:return r=Z(r),n=a?" "+a:"",s="/"+J.TIMEOUT+" "+i+n,[4,Promise.all([te(this,[Q.TIMEOUT_SUCCESS+"/"+r]),this.say(r,s)])];case 1:return u=Y.apply(void 0,[l.sent(),1]),[2,u[0]]}})})},t.prototype.unban=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.UNBAN+" "+i,[4,Promise.all([te(this,[Q.UNBAN_SUCCESS+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.unblock=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){return r=Z(r),a="/"+J.UNBLOCK+" "+i,[2,this.say(r,a)]})})},t.prototype.unhost=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.UNHOST,[4,Promise.all([te(this,[Q.HOST_OFF+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.unmod=function(r,i){return H(this,void 0,void 0,function(){var a,n;return G(this,function(s){switch(s.label){case 0:return r=Z(r),a="/"+J.UNMOD+" "+i,[4,Promise.all([te(this,[Q.UNMOD_SUCCESS+"/"+r]),this.say(r,a)])];case 1:return n=Y.apply(void 0,[s.sent(),1]),[2,n[0]]}})})},t.prototype.unraid=function(r){return H(this,void 0,void 0,function(){var i,a;return G(this,function(n){switch(n.label){case 0:return r=Z(r),i="/"+J.UNRAID,[4,Promise.all([te(this,[Q.UNRAID_SUCCESS+"/"+r]),this.say(r,i)])];case 1:return a=Y.apply(void 0,[n.sent(),1]),[2,a[0]]}})})},t.prototype.unvip=function(r,i){r=Z(r);var a="/"+J.UNVIP+" "+i;return this.say(r,a)},t.prototype.vip=function(r,i){r=Z(r);var a="/"+J.VIP+" "+i;return this.say(r,a)},t.prototype.vips=function(r){r=Z(r);var i="/"+J.VIPS;return this.say(r,i)},t.prototype.whisper=function(r,i){return H(this,void 0,void 0,function(){var a;return G(this,function(n){if(!this._isAuthenticated)throw new Hr("To whisper, please connect with a token and username");return a="/"+J.WHISPER+" "+r+" "+i,[2,this.send(a)]})})},t.prototype._handleClientMessage=function(r){try{var i=Y(this._parseMessageForEmitter(r),2),a=i[0],n=i[1];this._emit(a,n)}catch(s){this._log.error(`
An error occurred while attempting to parse a message into a event. Please use the following stack trace and raw message to resolve the bug in the TwitchJS source code, and then issue a pull request at https://github.com/twitch-js/twitch-js/compare

Stack trace:
`+s+`

Base message:
`+JSON.stringify(r)),this._internalEmitter.emit(re.ERROR_ENCOUNTERED,s)}},t.prototype._handleJoinsAfterConnect=function(){return H(this,void 0,void 0,function(){var r,i,a=this;return G(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),r=this._getChannels(),[4,Promise.all(r.map(function(s){return a.join(s)}))];case 1:return n.sent(),[3,3];case 2:return i=n.sent(),this._log.error(i,"unable to rejoin channels"),[3,3];case 3:return[2]}})})},t.prototype._getChannels=function(){return Object.keys(this._channelState)},t.prototype._getChannelState=function(r){return this._channelState[r]},t.prototype._setChannelState=function(r,i){this._channelState[r]=i},t.prototype._removeChannelState=function(r){this._channelState=Object.entries(this._channelState).reduce(function(i,a){var n,s=Y(a,2),u=s[0],l=s[1];return u===r?i:P(P({},i),((n={})[u]=l,n))},{})},t.prototype._clearChannelState=function(){this._channelState={}},t.prototype._parseMessageForEmitter=function(r){var i=Pu(r.channel),a=r.event||r.command;switch(r.command){case fe.JOIN:var n=function(l){var f=Y(/:(.+)!(.+)@(.+).tmi.twitch.tv JOIN (#.+)/g.exec(l._raw)||[],5),c=f[1],v=f[4];return P(P({},l),{channel:v,command:B.JOIN,event:B.JOIN,username:c})}(r);return[s=a+"/"+i,n];case fe.PART:return n=function(l){var f=Y(/:(.+)!(.+)@(.+).tmi.twitch.tv PART (#.+)/g.exec(l._raw)||[],5),c=f[1],v=f[4];return P(P({},l),{channel:v,command:B.PART,event:B.PART,username:c})}(r),[s=a+"/"+i,n];case fe.NAMES:return n=function(l){var f=Y(/:(.+).tmi.twitch.tv 353 (.+) = (#.+) :(.+)/g.exec(l._raw)||[],5),c=f[3],v=f[4].split(" ");return P(P({},l),{channel:c,command:B.NAMES,event:B.NAMES,usernames:v})}(r),[s=a+"/"+i,n];case fe.NAMES_END:return n=function(l){var f=Y(/:(.+).tmi.twitch.tv 366 (.+) (#.+) :(.+)/g.exec(l._raw)||[],4),c=f[1],v=f[3];return P(P({},l),{channel:v,command:B.NAMES_END,event:B.NAMES_END,username:c})}(r),[s=a+"/"+i,n];case fe.CLEAR_CHAT:return n=function(l){var f=l.tags,c=l.message,v=xt(l,["tags","message"]);return P(P({},v),c!==void 0?{tags:P(P({},f),{banReason:pr(f.banReason),banDuration:Gt(f.banDuration)}),command:B.CLEAR_CHAT,event:de.USER_BANNED,username:c}:{command:B.CLEAR_CHAT,event:B.CLEAR_CHAT})}(r),[s=a+"/"+n.event+"/"+i,n];case fe.CLEAR_MESSAGE:return n=function(l){var f=l.tags;return P(P({},l),{tags:{login:f.login,targetMsgId:f.targetMsgId},command:B.CLEAR_MESSAGE,event:B.CLEAR_MESSAGE,targetMessageId:f.targetMsgId})}(r),[s=a+"/"+i,n];case fe.HOST_TARGET:return n=function(l){var f=Y(/:tmi.twitch.tv HOSTTARGET (#[^\s]+) :([^\s]+)?\s?(\d+)?/g.exec(l._raw)||[],4),c=f[1],v=f[2],d=f[3],o=v==="-";return P(P({},l),{channel:c,username:v,command:B.HOST_TARGET,event:o?de.HOST_OFF:de.HOST_ON,numberOfViewers:Or(b1(d))?parseInt(d,10):void 0})}(r),[s=a+"/"+i,n];case fe.MODE:n=function(l){var f=Y(/:[^\s]+ MODE (#[^\s]+) (-|\+)o ([^\s]+)/g.exec(l._raw)||[],4),c=f[1],v=f[2],d=f[3],o=v==="+",h=P(P({},l),{command:B.MODE,channel:c,username:d});return P(P({},h),o?{event:de.MOD_GAINED,message:"+o",isModerator:!0}:{event:de.MOD_LOST,message:"-o",isModerator:!1})}(r);var s=a+"/"+i,u=this._getChannelState(i);return this._isAuthenticated&&(u==null?void 0:u.userState)!==void 0&&n.username===this._options.username&&this._setChannelState(i,P(P({},u),{userState:P(P({},u.userState),{mod:n.isModerator?"1":"0",isModerator:n.isModerator})})),[s,n];case fe.USER_STATE:return n=si(r),s=a+"/"+i,(u=this._getChannelState(i))&&this._setChannelState(i,P(P({},u),{userState:n.tags})),[s,n];case fe.ROOM_STATE:return n=function(l){var f=l.tags,c=xt(l,["tags"]);return P(P({},c),{command:B.ROOM_STATE,event:B.ROOM_STATE,tags:HT(f)})}(r),s=a+"/"+i,this._setChannelState(i,P(P({},this._getChannelState(i)),{roomState:n})),[s,n];case fe.NOTICE:return[s=a+"/"+(n=jT(r)).event+"/"+i,n];case fe.USER_NOTICE:return[s=a+"/"+(n=zT(r)).event+"/"+i,n];case fe.PRIVATE_MESSAGE:return n=function(l){var f=l._raw,c=l.tags;if(z1(c.bits,0))return P(P({},si(l)),{command:B.PRIVATE_MESSAGE,event:de.CHEER,bits:parseInt(c.bits,10)});var v=Y(BT.exec(f)||[],5),d=v[0],o=v[1],h=v[2],p=v[3],y=v[4];return d?P(P({},l),p?{command:B.PRIVATE_MESSAGE,event:de.HOSTED_AUTO,channel:"#"+o,tags:{displayName:h},numberOfViewers:Gt(y)}:y?{command:B.PRIVATE_MESSAGE,event:de.HOSTED_WITH_VIEWERS,channel:"#"+o,tags:{displayName:h},numberOfViewers:Gt(y)}:{command:B.PRIVATE_MESSAGE,event:de.HOSTED_WITHOUT_VIEWERS,channel:"#"+o,tags:{displayName:h}}):P(P({},si(l)),{command:B.PRIVATE_MESSAGE,event:B.PRIVATE_MESSAGE})}(r),[s=a+"/"+n.event+"/"+i,n];default:return[s=i?a+"/"+i:a,r]}},t.prototype._emit=function(r,i){var a=this;try{r&&(this._log.info(i,r),Em(r.split("/")).filter(function(n){return n!=="#"}).reduce(function(n,s){var u=Wa(n,[s]),l=u.join("/");return u.length>1&&e.prototype.emit.call(a,s,i),e.prototype.emit.call(a,l,i),u},[])),e.prototype.emit.call(this,fe.ALL,i)}catch(n){this._log.error(`
While attempting to handle the `+i.command+` event, an error occurred in your implementation. To avoid seeing this message, please resolve the error:

`+n.stack+`

Parsed messages:
`+JSON.stringify(i)),this._internalEmitter.emit(re.ERROR_ENCOUNTERED,n)}},t.Commands=B,t.Events=fe,t.CompoundEvents=((Br={})[fe.NOTICE]=Q,Br[fe.PRIVATE_MESSAGE]=ji,Br[fe.USER_NOTICE]=zi,Br),t}(yi),Zi=function(e){function t(r,i){var a=e.call(this,r)||this;return a.body=i,Object.defineProperty(a,"name",{value:"TwitchJSFetchError"}),a}return et(t,e),t}(Vt),oo=function(e,t,r){return H(void 0,void 0,void 0,function(){var i,a,n,s,u,l,f,c,v,d;return G(this,function(o){switch(o.label){case 0:return a=(i=t||{}).search,n=i.body,s=xt(i,["search","body"]),u=a?PT.stringify(a,P(P({},r),{addQueryPrefix:!0,arrayFormat:"repeat"})):"",l=JT(n),f=P(P(P({},s),l),{headers:P(P({},t==null?void 0:t.headers),l.headers)}),[4,hw(""+e+u,f)];case 1:return[4,(c=o.sent()).json().catch(function(){return{}})];case 2:if(v=o.sent(),"error"in(d=Al(v,{deep:!0})))throw new Zi(d.message,d);if(!c.ok)throw new Zi(c.statusText,{error:!0,status:c.status,message:c.statusText});return[2,d]}})})},JT=function(e){try{return e?toString.call(e)==="[object FormData]"?{body:e}:{body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}:{}}catch{return{body:e}}},li=function(e){var t={token:gt,clientId:gt,onAuthenticationFailure:function(r){return dl(r)||NT(r)}};return e=Ia(e,{clientId:void 0,onAuthenticationFailure:void 0}),ba(Aa(e,t),"Expected valid options"),e};(function(e){e[e.NOT_READY=0]="NOT_READY",e[e.READY=1]="READY",e[e.INITIALIZED=2]="INITIALIZED"})(hn||(hn={}));(function(){function e(t){this._readyState=hn.READY,this._options=li(t),this._log=Ba(P({name:"Api"},this._options.log))}return Object.defineProperty(e.prototype,"readyState",{get:function(){return this._readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),e.prototype.updateOptions=function(t){this._options=li(P(P({},this._options),t))},e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){var r;return G(this,function(i){switch(i.label){case 0:return t&&(this._options=li(P(P({},this._options),t))),t||this.readyState!==2?[4,oo("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:"Bearer "+this._options.token}})]:[2,Promise.resolve()];case 1:return r=i.sent(),this._readyState=hn.INITIALIZED,this._status=r,[2]}})})},e.prototype.hasScope=function(t){var r=this;return new Promise(function(i,a){var n,s;return!((s=(n=r.status)===null||n===void 0?void 0:n.scopes)===null||s===void 0)&&s.includes(t)?i(!0):a(!1)})},e.prototype.get=function(t,r){return t===void 0&&(t=""),this._handleFetch(t,r)},e.prototype.post=function(t,r){return this._handleFetch(t,P(P({},r),{method:"post"}))},e.prototype.put=function(t,r){return this._handleFetch(t,P(P({},r),{method:"put"}))},e.prototype._getAuthenticationHeaders=function(){var t=this._options,r=t.clientId;return{Authorization:"Bearer "+t.token,"Client-Id":r}},e.prototype._handleFetch=function(t,r){return t===void 0&&(t=""),r===void 0&&(r={}),H(this,void 0,void 0,function(){var i,a,n,s,u,l,f,c=this;return G(this,function(v){switch(v.label){case 0:i="https://api.twitch.tv/helix/"+t,a=(Pa(r.method)||"GET")+" "+i,n=this._log.profile(),s=function(){return H(c,void 0,void 0,function(){var d,o,h;return G(this,function(p){switch(p.label){case 0:d=this._getAuthenticationHeaders(),o=P(P({},r),{headers:P(P({},r.headers),d)}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,oo(i,o)];case 2:return[2,p.sent()];case 3:throw(h=p.sent())instanceof Zi&&h.body.status===401?new Ki(h.message,h.body):h;case 4:return[2]}})})},v.label=1;case 1:return v.trys.push([1,3,7,8]),[4,s()];case 2:return[2,v.sent()];case 3:return l=v.sent(),typeof this._options.onAuthenticationFailure=="function"&&l instanceof Ki?[4,this._handleAuthenticationFailure(l)]:[3,6];case 4:return(f=v.sent())?(this._log.info(a+" ... retrying with new token"),this.updateOptions({token:f}),[4,s()]):[3,6];case 5:return[2,v.sent()];case 6:throw u=l;case 7:return n.done(a,u),[7];case 8:return[2]}})})},e.prototype._handleAuthenticationFailure=function(t){var r,i;return H(this,void 0,void 0,function(){var a;return G(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(i=(r=this._options).onAuthenticationFailure)===null||i===void 0?void 0:i.call(r)];case 1:return[2,n.sent()];case 2:throw a=n.sent(),this._log.error(a,"onAuthenticationFailure error occurred"),t;case 3:return[2]}})})},e})();const qT="42jps06hwmi9rq2119mrnc34nvye1s",QT="baconbitbot",XT="torch_of_fire",eC="!",Gr={oauth:qT,nick:QT,channel:XT,prefix:eC};class tC{async init(){const t=new ZT({username:Gr.nick,token:Gr.oauth});await t.connect(),await t.join(Gr.channel),t.on("PRIVMSG",r=>{const i=this.getCharacter(r.username);if(r.message.startsWith(Gr.prefix)){r.message.includes("left")&&i.move("left"),r.message.includes("right")&&i.move("right"),r.message.includes("jump")&&i.jump(),r.message.includes("leave")&&Yt.removecharacter(i.username);return}i.say(r.message)})}getCharacter(t){let r=Yt.charactersMap.get(t);return r||(r=Yt.newCharacter(t)),r}}const rC=new tC;rC.init();const Nn=_e.Engine.create(),dn=Nn.world;Nn.gravity.y=.5;const ot=_e.Render.create({element:document.body,engine:Nn,options:{width:window.innerWidth,height:window.innerHeight,pixelRatio:window.devicePixelRatio,background:"transparent",wireframeBackground:"transparent"}});jd.createMap();Ot.updateViewportCalculations();function Ru(){Yt.updateCharacters(),rs.logic(),_e.Engine.update(Nn,rs.deltaTime*2500),requestAnimationFrame(Ru)}Ru()});export default nC();
